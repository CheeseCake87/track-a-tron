(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function l(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=l(s);fetch(s.href,n)}})();const di=(e,t)=>e===t,Ce=Symbol("solid-proxy"),wt=Symbol("solid-track"),nt={equals:di};let _l=bl;const Oe=1,rt=2,pl={owned:null,cleanups:null,context:null,owner:null};var fe=null;let bt=null,ci=null,ve=null,$e=null,We=null,ht=0;function Ye(e,t){const l=ve,i=fe,s=e.length===0,n=t===void 0?i:t,r=s?pl:{owned:null,cleanups:null,context:n?n.context:null,owner:n},a=s?e:()=>e(()=>we(()=>_t(r)));fe=r,ve=null;try{return Ie(a,!0)}finally{ve=l,fe=i}}function y(e,t){t=t?Object.assign({},nt,t):nt;const l={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},i=s=>(typeof s=="function"&&(s=s(l.value)),$l(l,s));return[ml.bind(l),i]}function v(e,t,l){const i=Wt(e,t,!1,Oe);et(i)}function Pe(e,t,l){_l=gi;const i=Wt(e,t,!1,Oe);(!l||!l.render)&&(i.user=!0),We?We.push(i):et(i)}function q(e,t,l){l=l?Object.assign({},nt,l):nt;const i=Wt(e,t,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=l.equals||void 0,et(i),ml.bind(i)}function ui(e){return Ie(e,!1)}function we(e){if(ve===null)return e();const t=ve;ve=null;try{return e()}finally{ve=t}}function gl(e,t,l){const i=Array.isArray(e);let s,n=l&&l.defer;return r=>{let a;if(i){a=Array(e.length);for(let f=0;f<e.length;f++)a[f]=e[f]()}else a=e();if(n)return n=!1,r;const o=we(()=>t(a,s,r));return s=a,o}}function ge(e){Pe(()=>we(e))}function Fe(e){return fe===null||(fe.cleanups===null?fe.cleanups=[e]:fe.cleanups.push(e)),e}function Ct(){return ve}function fi(){return fe}function vi(e,t){const l=fe,i=ve;fe=e,ve=null;try{return Ie(t,!0)}catch(s){Mt(s)}finally{fe=l,ve=i}}function hi(e){const t=ve,l=fe;return Promise.resolve().then(()=>{ve=t,fe=l;let i;return Ie(e,!1),ve=fe=null,i?i.done:void 0})}function ke(e,t){const l=Symbol("context");return{id:l,Provider:$i(l),defaultValue:e}}function W(e){return fe&&fe.context&&fe.context[e.id]!==void 0?fe.context[e.id]:e.defaultValue}function Dt(e){const t=q(e),l=q(()=>At(t()));return l.toArray=()=>{const i=l();return Array.isArray(i)?i:i!=null?[i]:[]},l}function ml(){if(this.sources&&this.state)if(this.state===Oe)et(this);else{const e=$e;$e=null,Ie(()=>ot(this),!1),$e=e}if(ve){const e=this.observers?this.observers.length:0;ve.sources?(ve.sources.push(this),ve.sourceSlots.push(e)):(ve.sources=[this],ve.sourceSlots=[e]),this.observers?(this.observers.push(ve),this.observerSlots.push(ve.sources.length-1)):(this.observers=[ve],this.observerSlots=[ve.sources.length-1])}return this.value}function $l(e,t,l){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&Ie(()=>{for(let s=0;s<e.observers.length;s+=1){const n=e.observers[s],r=bt&&bt.running;r&&bt.disposed.has(n),(r?!n.tState:!n.state)&&(n.pure?$e.push(n):We.push(n),n.observers&&yl(n)),r||(n.state=Oe)}if($e.length>1e6)throw $e=[],new Error},!1)),t}function et(e){if(!e.fn)return;_t(e);const t=ht;_i(e,e.value,t)}function _i(e,t,l){let i;const s=fe,n=ve;ve=fe=e;try{i=e.fn(t)}catch(r){return e.pure&&(e.state=Oe,e.owned&&e.owned.forEach(_t),e.owned=null),e.updatedAt=l+1,Mt(r)}finally{ve=n,fe=s}(!e.updatedAt||e.updatedAt<=l)&&(e.updatedAt!=null&&"observers"in e?$l(e,i):e.value=i,e.updatedAt=l)}function Wt(e,t,l,i=Oe,s){const n={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:fe,context:fe?fe.context:null,pure:l};return fe===null||fe!==pl&&(fe.owned?fe.owned.push(n):fe.owned=[n]),n}function at(e){if(e.state===0)return;if(e.state===rt)return ot(e);if(e.suspense&&we(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ht);)e.state&&t.push(e);for(let l=t.length-1;l>=0;l--)if(e=t[l],e.state===Oe)et(e);else if(e.state===rt){const i=$e;$e=null,Ie(()=>ot(e,t[0]),!1),$e=i}}function Ie(e,t){if($e)return e();let l=!1;t||($e=[]),We?l=!0:We=[],ht++;try{const i=e();return pi(l),i}catch(i){l||(We=null),$e=null,Mt(i)}}function pi(e){if($e&&(bl($e),$e=null),e)return;const t=We;We=null,t.length&&Ie(()=>_l(t),!1)}function bl(e){for(let t=0;t<e.length;t++)at(e[t])}function gi(e){let t,l=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[l++]=i:at(i)}for(t=0;t<l;t++)at(e[t])}function ot(e,t){e.state=0;for(let l=0;l<e.sources.length;l+=1){const i=e.sources[l];if(i.sources){const s=i.state;s===Oe?i!==t&&(!i.updatedAt||i.updatedAt<ht)&&at(i):s===rt&&ot(i,t)}}}function yl(e){for(let t=0;t<e.observers.length;t+=1){const l=e.observers[t];l.state||(l.state=rt,l.pure?$e.push(l):We.push(l),l.observers&&yl(l))}}function _t(e){let t;if(e.sources)for(;e.sources.length;){const l=e.sources.pop(),i=e.sourceSlots.pop(),s=l.observers;if(s&&s.length){const n=s.pop(),r=l.observerSlots.pop();i<s.length&&(n.sourceSlots[r]=i,s[i]=n,l.observerSlots[i]=r)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)_t(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function mi(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Mt(e,t=fe){throw mi(e)}function At(e){if(typeof e=="function"&&!e.length)return At(e());if(Array.isArray(e)){const t=[];for(let l=0;l<e.length;l++){const i=At(e[l]);Array.isArray(i)?t.push.apply(t,i):t.push(i)}return t}return e}function $i(e,t){return function(i){let s;return v(()=>s=we(()=>(fe.context={...fe.context,[e]:i.value},Dt(()=>i.children))),void 0),s}}const bi=Symbol("fallback");function rl(e){for(let t=0;t<e.length;t++)e[t]()}function yi(e,t,l={}){let i=[],s=[],n=[],r=0,a=t.length>1?[]:null;return Fe(()=>rl(n)),()=>{let o=e()||[],f,c;return o[wt],we(()=>{let h=o.length,b,$,m,p,A,k,C,E,U;if(h===0)r!==0&&(rl(n),n=[],i=[],s=[],r=0,a&&(a=[])),l.fallback&&(i=[bi],s[0]=Ye(T=>(n[0]=T,l.fallback())),r=1);else if(r===0){for(s=new Array(h),c=0;c<h;c++)i[c]=o[c],s[c]=Ye(_);r=h}else{for(m=new Array(h),p=new Array(h),a&&(A=new Array(h)),k=0,C=Math.min(r,h);k<C&&i[k]===o[k];k++);for(C=r-1,E=h-1;C>=k&&E>=k&&i[C]===o[E];C--,E--)m[E]=s[C],p[E]=n[C],a&&(A[E]=a[C]);for(b=new Map,$=new Array(E+1),c=E;c>=k;c--)U=o[c],f=b.get(U),$[c]=f===void 0?-1:f,b.set(U,c);for(f=k;f<=C;f++)U=i[f],c=b.get(U),c!==void 0&&c!==-1?(m[c]=s[f],p[c]=n[f],a&&(A[c]=a[f]),c=$[c],b.set(U,c)):n[f]();for(c=k;c<h;c++)c in m?(s[c]=m[c],n[c]=p[c],a&&(a[c]=A[c],a[c](c))):s[c]=Ye(_);s=s.slice(0,r=h),i=o.slice(0)}return s});function _(h){if(n[c]=h,a){const[b,$]=y(c);return a[c]=$,t(o[c],b)}return t(o[c])}}}function d(e,t){return we(()=>e(t||{}))}function it(){return!0}const Tt={get(e,t,l){return t===Ce?l:e.get(t)},has(e,t){return t===Ce?!0:e.has(t)},set:it,deleteProperty:it,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:it,deleteProperty:it}},ownKeys(e){return e.keys()}};function yt(e){return(e=typeof e=="function"?e():e)?e:{}}function ki(){for(let e=0,t=this.length;e<t;++e){const l=this[e]();if(l!==void 0)return l}}function Pt(...e){let t=!1;for(let r=0;r<e.length;r++){const a=e[r];t=t||!!a&&Ce in a,e[r]=typeof a=="function"?(t=!0,q(a)):a}if(t)return new Proxy({get(r){for(let a=e.length-1;a>=0;a--){const o=yt(e[a])[r];if(o!==void 0)return o}},has(r){for(let a=e.length-1;a>=0;a--)if(r in yt(e[a]))return!0;return!1},keys(){const r=[];for(let a=0;a<e.length;a++)r.push(...Object.keys(yt(e[a])));return[...new Set(r)]}},Tt);const l={},i=Object.create(null);for(let r=e.length-1;r>=0;r--){const a=e[r];if(!a)continue;const o=Object.getOwnPropertyNames(a);for(let f=o.length-1;f>=0;f--){const c=o[f];if(c==="__proto__"||c==="constructor")continue;const _=Object.getOwnPropertyDescriptor(a,c);if(!i[c])i[c]=_.get?{enumerable:!0,configurable:!0,get:ki.bind(l[c]=[_.get.bind(a)])}:_.value!==void 0?_:void 0;else{const h=l[c];h&&(_.get?h.push(_.get.bind(a)):_.value!==void 0&&h.push(()=>_.value))}}}const s={},n=Object.keys(i);for(let r=n.length-1;r>=0;r--){const a=n[r],o=i[a];o&&o.get?Object.defineProperty(s,a,o):s[a]=o?o.value:void 0}return s}function xi(e,...t){if(Ce in e){const s=new Set(t.length>1?t.flat():t[0]),n=t.map(r=>new Proxy({get(a){return r.includes(a)?e[a]:void 0},has(a){return r.includes(a)&&a in e},keys(){return r.filter(a=>a in e)}},Tt));return n.push(new Proxy({get(r){return s.has(r)?void 0:e[r]},has(r){return s.has(r)?!1:r in e},keys(){return Object.keys(e).filter(r=>!s.has(r))}},Tt)),n}const l={},i=t.map(()=>({}));for(const s of Object.getOwnPropertyNames(e)){const n=Object.getOwnPropertyDescriptor(e,s),r=!n.get&&!n.set&&n.enumerable&&n.writable&&n.configurable;let a=!1,o=0;for(const f of t)f.includes(s)&&(a=!0,r?i[o][s]=n.value:Object.defineProperty(i[o],s,n)),++o;a||(r?l[s]=n.value:Object.defineProperty(l,s,n))}return[...i,l]}const Si=e=>`Stale read from <${e}>.`;function he(e){const t="fallback"in e&&{fallback:()=>e.fallback};return q(yi(()=>e.each,e.children,t||void 0))}function Q(e){const t=e.keyed,l=q(()=>e.when,void 0,{equals:(i,s)=>t?i===s:!i==!s});return q(()=>{const i=l();if(i){const s=e.children;return typeof s=="function"&&s.length>0?we(()=>s(t?i:()=>{if(!we(l))throw Si("Show");return e.when})):s}return e.fallback},void 0,void 0)}const wi=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Ci=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...wi]),Ai=new Set(["innerHTML","textContent","innerText","children"]),Ti=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Pi=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Ei(e,t){const l=Pi[e];return typeof l=="object"?l[t]?l.$:void 0:l}const Ui=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Di={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Wi(e,t,l){let i=l.length,s=t.length,n=i,r=0,a=0,o=t[s-1].nextSibling,f=null;for(;r<s||a<n;){if(t[r]===l[a]){r++,a++;continue}for(;t[s-1]===l[n-1];)s--,n--;if(s===r){const c=n<i?a?l[a-1].nextSibling:l[n-a]:o;for(;a<n;)e.insertBefore(l[a++],c)}else if(n===a)for(;r<s;)(!f||!f.has(t[r]))&&t[r].remove(),r++;else if(t[r]===l[n-1]&&l[a]===t[s-1]){const c=t[--s].nextSibling;e.insertBefore(l[a++],t[r++].nextSibling),e.insertBefore(l[--n],c),t[s]=l[n]}else{if(!f){f=new Map;let _=a;for(;_<n;)f.set(l[_],_++)}const c=f.get(t[r]);if(c!=null)if(a<c&&c<n){let _=r,h=1,b;for(;++_<s&&_<n&&!((b=f.get(t[_]))==null||b!==c+h);)h++;if(h>c-a){const $=t[r];for(;a<c;)e.insertBefore(l[a++],$)}else e.replaceChild(l[a++],t[r++])}else r++;else t[r++].remove()}}}const al="_$DX_DELEGATE";function Mi(e,t,l,i={}){let s;return Ye(n=>{s=n,t===document?e():u(t,e(),t.firstChild?null:void 0,l)},i.owner),()=>{s(),t.textContent=""}}function g(e,t,l){let i;const s=()=>{const r=document.createElement("template");return r.innerHTML=e,l?r.content.firstChild.firstChild:r.content.firstChild},n=t?()=>we(()=>document.importNode(i||(i=s()),!0)):()=>(i||(i=s())).cloneNode(!0);return n.cloneNode=n,n}function ie(e,t=window.document){const l=t[al]||(t[al]=new Set);for(let i=0,s=e.length;i<s;i++){const n=e[i];l.has(n)||(l.add(n),t.addEventListener(n,Fi))}}function z(e,t,l){l==null?e.removeAttribute(t):e.setAttribute(t,l)}function Li(e,t,l,i){i==null?e.removeAttributeNS(t,l):e.setAttributeNS(t,l,i)}function zi(e,t){t==null?e.removeAttribute("class"):e.className=t}function kl(e,t,l,i){if(i)Array.isArray(l)?(e[`$$${t}`]=l[0],e[`$$${t}Data`]=l[1]):e[`$$${t}`]=l;else if(Array.isArray(l)){const s=l[0];e.addEventListener(t,l[0]=n=>s.call(e,l[1],n))}else e.addEventListener(t,l)}function Ni(e,t,l={}){const i=Object.keys(t||{}),s=Object.keys(l);let n,r;for(n=0,r=s.length;n<r;n++){const a=s[n];!a||a==="undefined"||t[a]||(ol(e,a,!1),delete l[a])}for(n=0,r=i.length;n<r;n++){const a=i[n],o=!!t[a];!a||a==="undefined"||l[a]===o||!o||(ol(e,a,!0),l[a]=o)}return l}function Lt(e,t,l){if(!t)return l?z(e,"style"):t;const i=e.style;if(typeof t=="string")return i.cssText=t;typeof l=="string"&&(i.cssText=l=void 0),l||(l={}),t||(t={});let s,n;for(n in l)t[n]==null&&i.removeProperty(n),delete l[n];for(n in t)s=t[n],s!==l[n]&&(i.setProperty(n,s),l[n]=s);return l}function Oi(e,t={},l,i){const s={};return i||v(()=>s.children=He(e,t.children,s.children)),v(()=>typeof t.ref=="function"?Me(t.ref,e):t.ref=e),v(()=>Ii(e,t,l,!0,s,!0)),s}function Me(e,t,l){return we(()=>e(t,l))}function u(e,t,l,i){if(l!==void 0&&!i&&(i=[]),typeof t!="function")return He(e,t,i,l);v(s=>He(e,t(),s,l),i)}function Ii(e,t,l,i,s={},n=!1){t||(t={});for(const r in s)if(!(r in t)){if(r==="children")continue;s[r]=dl(e,r,null,s[r],l,n)}for(const r in t){if(r==="children"){i||He(e,t.children);continue}const a=t[r];s[r]=dl(e,r,a,s[r],l,n)}}function Ri(e){return e.toLowerCase().replace(/-([a-z])/g,(t,l)=>l.toUpperCase())}function ol(e,t,l){const i=t.trim().split(/\s+/);for(let s=0,n=i.length;s<n;s++)e.classList.toggle(i[s],l)}function dl(e,t,l,i,s,n){let r,a,o,f,c;if(t==="style")return Lt(e,l,i);if(t==="classList")return Ni(e,l,i);if(l===i)return i;if(t==="ref")n||l(e);else if(t.slice(0,3)==="on:"){const _=t.slice(3);i&&e.removeEventListener(_,i),l&&e.addEventListener(_,l)}else if(t.slice(0,10)==="oncapture:"){const _=t.slice(10);i&&e.removeEventListener(_,i,!0),l&&e.addEventListener(_,l,!0)}else if(t.slice(0,2)==="on"){const _=t.slice(2).toLowerCase(),h=Ui.has(_);if(!h&&i){const b=Array.isArray(i)?i[0]:i;e.removeEventListener(_,b)}(h||l)&&(kl(e,_,l,h),h&&ie([_]))}else if(t.slice(0,5)==="attr:")z(e,t.slice(5),l);else if((c=t.slice(0,5)==="prop:")||(o=Ai.has(t))||!s&&((f=Ei(t,e.tagName))||(a=Ci.has(t)))||(r=e.nodeName.includes("-")))c&&(t=t.slice(5),a=!0),t==="class"||t==="className"?zi(e,l):r&&!a&&!o?e[Ri(t)]=l:e[f||t]=l;else{const _=s&&t.indexOf(":")>-1&&Di[t.split(":")[0]];_?Li(e,_,t,l):z(e,Ti[t]||t,l)}return l}function Fi(e){const t=`$$${e.type}`;let l=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==l&&Object.defineProperty(e,"target",{configurable:!0,value:l}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return l||document}});l;){const i=l[t];if(i&&!l.disabled){const s=l[`${t}Data`];if(s!==void 0?i.call(l,s,e):i.call(l,e),e.cancelBubble)return}l=l._$host||l.parentNode||l.host}}function He(e,t,l,i,s){for(;typeof l=="function";)l=l();if(t===l)return l;const n=typeof t,r=i!==void 0;if(e=r&&l[0]&&l[0].parentNode||e,n==="string"||n==="number")if(n==="number"&&(t=t.toString()),r){let a=l[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),l=je(e,l,i,a)}else l!==""&&typeof l=="string"?l=e.firstChild.data=t:l=e.textContent=t;else if(t==null||n==="boolean")l=je(e,l,i);else{if(n==="function")return v(()=>{let a=t();for(;typeof a=="function";)a=a();l=He(e,a,l,i)}),()=>l;if(Array.isArray(t)){const a=[],o=l&&Array.isArray(l);if(Et(a,t,l,s))return v(()=>l=He(e,a,l,i,!0)),()=>l;if(a.length===0){if(l=je(e,l,i),r)return l}else o?l.length===0?cl(e,a,i):Wi(e,l,a):(l&&je(e),cl(e,a));l=a}else if(t.nodeType){if(Array.isArray(l)){if(r)return l=je(e,l,i,t);je(e,l,null,t)}else l==null||l===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);l=t}}return l}function Et(e,t,l,i){let s=!1;for(let n=0,r=t.length;n<r;n++){let a=t[n],o=l&&l[e.length],f;if(!(a==null||a===!0||a===!1))if((f=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))s=Et(e,a,o)||s;else if(f==="function")if(i){for(;typeof a=="function";)a=a();s=Et(e,Array.isArray(a)?a:[a],Array.isArray(o)?o:[o])||s}else e.push(a),s=!0;else{const c=String(a);o&&o.nodeType===3&&o.data===c?e.push(o):e.push(document.createTextNode(c))}}return s}function cl(e,t,l=null){for(let i=0,s=t.length;i<s;i++)e.insertBefore(t[i],l)}function je(e,t,l,i){if(l===void 0)return e.textContent="";const s=i||document.createTextNode("");if(t.length){let n=!1;for(let r=t.length-1;r>=0;r--){const a=t[r];if(s!==a){const o=a.parentNode===e;!n&&!r?o?e.replaceChild(s,a):e.insertBefore(s,l):o&&a.remove()}else n=!0}}else e.insertBefore(s,l);return[s]}const Bi=!1;function ji(e,t,l){return e.addEventListener(t,l),()=>e.removeEventListener(t,l)}function qi([e,t],l,i){return[l?()=>l(e()):e,i?s=>t(i(s)):t]}function Hi(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function Vi(e,t){const l=Hi(`#${e}`);l?l.scrollIntoView():t&&window.scrollTo(0,0)}function Gi(e,t,l,i){let s=!1;const n=a=>typeof a=="string"?{value:a}:a,r=qi(y(n(e()),{equals:(a,o)=>a.value===o.value}),void 0,a=>(!s&&t(a),a));return l&&Fe(l((a=e())=>{s=!0,r[1](n(a)),s=!1})),{signal:r,utils:i}}function Ki(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:y({value:""})};return e}function Zi(){return Gi(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:t,scroll:l,state:i})=>{t?window.history.replaceState(i,"",e):window.history.pushState(i,"",e),Vi(window.location.hash.slice(1),l)},e=>ji(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}function Yi(){let e=new Set;function t(s){return e.add(s),()=>e.delete(s)}let l=!1;function i(s,n){if(l)return!(l=!1);const r={to:s,options:n,defaultPrevented:!1,preventDefault:()=>r.defaultPrevented=!0};for(const a of e)a.listener({...r,from:a.location,retry:o=>{o&&(l=!0),a.navigate(s,n)}});return!r.defaultPrevented}return{subscribe:t,confirm:i}}const Xi=/^(?:[a-z0-9]+:)?\/\//i,Ji=/^\/+|(\/)\/+$/g;function Re(e,t=!1){const l=e.replace(Ji,"$1");return l?t||/^[?#]/.test(l)?l:"/"+l:""}function st(e,t,l){if(Xi.test(t))return;const i=Re(e),s=l&&Re(l);let n="";return!s||t.startsWith("/")?n=i:s.toLowerCase().indexOf(i.toLowerCase())!==0?n=i+s:n=s,(n||"/")+Re(t,!n)}function Qi(e,t){if(e==null)throw new Error(t);return e}function xl(e,t){return Re(e).replace(/\/*(\*.*)?$/g,"")+Re(t)}function es(e){const t={};return e.searchParams.forEach((l,i)=>{t[i]=l}),t}function ts(e,t,l){const[i,s]=e.split("/*",2),n=i.split("/").filter(Boolean),r=n.length;return a=>{const o=a.split("/").filter(Boolean),f=o.length-r;if(f<0||f>0&&s===void 0&&!t)return null;const c={path:r?"":"/",params:{}},_=h=>l===void 0?void 0:l[h];for(let h=0;h<r;h++){const b=n[h],$=o[h],m=b[0]===":",p=m?b.slice(1):b;if(m&&kt($,_(p)))c.params[p]=$;else if(m||!kt($,b))return null;c.path+=`/${$}`}if(s){const h=f?o.slice(-f).join("/"):"";if(kt(h,_(s)))c.params[s]=h;else return null}return c}}function kt(e,t){const l=i=>i.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?l(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(l):t instanceof RegExp?t.test(e):!1}function ls(e){const[t,l]=e.pattern.split("/*",2),i=t.split("/").filter(Boolean);return i.reduce((s,n)=>s+(n.startsWith(":")?2:3),i.length-(l===void 0?0:1))}function Sl(e){const t=new Map,l=fi();return new Proxy({},{get(i,s){return t.has(s)||vi(l,()=>t.set(s,q(()=>e()[s]))),t.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function wl(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let l=e.slice(0,t.index),i=e.slice(t.index+t[0].length);const s=[l,l+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(i);)s.push(l+=t[1]),i=i.slice(t[0].length);return wl(i).reduce((n,r)=>[...n,...s.map(a=>a+r)],[])}const is=100,Cl=ke(),pt=ke(),tt=()=>Qi(W(Cl),"Make sure your app is wrapped in a <Router />");let Xe;const gt=()=>Xe||W(pt)||tt().base,ss=e=>{const t=gt();return q(()=>t.resolvePath(e()))},ns=e=>{const t=tt();return q(()=>{const l=e();return l!==void 0?t.renderPath(l):l})},zt=()=>tt().navigatorFactory(),Nt=()=>tt().location,Al=()=>gt().params;function rs(e,t="",l){const{component:i,data:s,children:n}=e,r=!n||Array.isArray(n)&&!n.length,a={key:e,element:i?()=>d(i,{}):()=>{const{element:o}=e;return o===void 0&&l?d(l,{}):o},preload:e.component?i.preload:e.preload,data:s};return Tl(e.path).reduce((o,f)=>{for(const c of wl(f)){const _=xl(t,c),h=r?_:_.split("/*",1)[0];o.push({...a,originalPath:c,pattern:h,matcher:ts(h,!r,e.matchFilters)})}return o},[])}function as(e,t=0){return{routes:e,score:ls(e[e.length-1])*1e4-t,matcher(l){const i=[];for(let s=e.length-1;s>=0;s--){const n=e[s],r=n.matcher(l);if(!r)return null;i.unshift({...r,route:n})}return i}}}function Tl(e){return Array.isArray(e)?e:[e]}function Pl(e,t="",l,i=[],s=[]){const n=Tl(e);for(let r=0,a=n.length;r<a;r++){const o=n[r];if(o&&typeof o=="object"&&o.hasOwnProperty("path")){const f=rs(o,t,l);for(const c of f){i.push(c);const _=Array.isArray(o.children)&&o.children.length===0;if(o.children&&!_)Pl(o.children,c.pattern,l,i,s);else{const h=as([...i],s.length);s.push(h)}i.pop()}}}return i.length?s:s.sort((r,a)=>a.score-r.score)}function os(e,t){for(let l=0,i=e.length;l<i;l++){const s=e[l].matcher(t);if(s)return s}return[]}function ds(e,t){const l=new URL("http://sar"),i=q(o=>{const f=e();try{return new URL(f,l)}catch{return console.error(`Invalid path ${f}`),o}},l,{equals:(o,f)=>o.href===f.href}),s=q(()=>i().pathname),n=q(()=>i().search,!0),r=q(()=>i().hash),a=q(()=>"");return{get pathname(){return s()},get search(){return n()},get hash(){return r()},get state(){return t()},get key(){return a()},query:Sl(gl(n,()=>es(i())))}}function cs(e,t="",l,i){const{signal:[s,n],utils:r={}}=Ki(e),a=r.parsePath||(w=>w),o=r.renderPath||(w=>w),f=r.beforeLeave||Yi(),c=st("",t),_=void 0;if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!s().value&&n({value:c,replace:!0,scroll:!1});const[h,b]=y(!1),$=async w=>{b(!0);try{await hi(w)}finally{b(!1)}},[m,p]=y(s().value),[A,k]=y(s().state),C=ds(m,A),E=[],U={pattern:c,params:{},path:()=>c,outlet:()=>null,resolvePath(w){return st(c,w)}};if(l)try{Xe=U,U.data=l({data:void 0,params:{},location:C,navigate:S(U)})}finally{Xe=void 0}function T(w,x,L){we(()=>{if(typeof x=="number"){x&&(r.go?f.confirm(x,L)&&r.go(x):console.warn("Router integration does not support relative routing"));return}const{replace:V,resolve:oe,scroll:ee,state:ne}={replace:!1,resolve:!0,scroll:!0,...L},G=oe?w.resolvePath(x):st("",x);if(G===void 0)throw new Error(`Path '${x}' is not a routable path`);if(E.length>=is)throw new Error("Too many redirects");const F=m();if((G!==F||ne!==A())&&!Bi){if(f.confirm(G,L)){const O=E.push({value:F,replace:V,scroll:ee,state:A()});$(()=>{p(G),k(ne)}).then(()=>{E.length===O&&I({value:G,state:ne})})}}})}function S(w){return w=w||W(pt)||U,(x,L)=>T(w,x,L)}function I(w){const x=E[0];x&&((w.value!==x.value||w.state!==x.state)&&n({...w,replace:x.replace,scroll:x.scroll}),E.length=0)}v(()=>{const{value:w,state:x}=s();we(()=>{w!==m()&&$(()=>{p(w),k(x)})})});{let w=function(x){if(x.defaultPrevented||x.button!==0||x.metaKey||x.altKey||x.ctrlKey||x.shiftKey)return;const L=x.composedPath().find(F=>F instanceof Node&&F.nodeName.toUpperCase()==="A");if(!L||!L.hasAttribute("link"))return;const V=L.href;if(L.target||!V&&!L.hasAttribute("state"))return;const oe=(L.getAttribute("rel")||"").split(/\s+/);if(L.hasAttribute("download")||oe&&oe.includes("external"))return;const ee=new URL(V);if(ee.origin!==window.location.origin||c&&ee.pathname&&!ee.pathname.toLowerCase().startsWith(c.toLowerCase()))return;const ne=a(ee.pathname+ee.search+ee.hash),G=L.getAttribute("state");x.preventDefault(),T(U,ne,{resolve:!1,replace:L.hasAttribute("replace"),scroll:!L.hasAttribute("noscroll"),state:G&&JSON.parse(G)})};var M=w;ie(["click"]),document.addEventListener("click",w),Fe(()=>document.removeEventListener("click",w))}return{base:U,out:_,location:C,isRouting:h,renderPath:o,parsePath:a,navigatorFactory:S,beforeLeave:f}}function us(e,t,l,i,s){const{base:n,location:r,navigatorFactory:a}=e,{pattern:o,element:f,preload:c,data:_}=i().route,h=q(()=>i().path);c&&c();const b={parent:t,pattern:o,get child(){return l()},path:h,params:s,data:t.data,outlet:f,resolvePath($){return st(n.path(),$,h())}};if(_)try{Xe=b,b.data=_({data:t.data,params:s,location:r,navigate:a(b)})}finally{Xe=void 0}return b}var fs=g("<a link>");const vs=e=>{const{source:t,url:l,base:i,data:s,out:n}=e,r=t||Zi(),a=cs(r,i,s);return d(Cl.Provider,{value:a,get children(){return e.children}})},hs=e=>{const t=tt(),l=gt(),i=Dt(()=>e.children),s=q(()=>Pl(i(),xl(l.pattern,e.base||""),ye)),n=q(()=>os(s(),t.location.pathname)),r=Sl(()=>{const c=n(),_={};for(let h=0;h<c.length;h++)Object.assign(_,c[h].params);return _});t.out&&t.out.matches.push(n().map(({route:c,path:_,params:h})=>({originalPath:c.originalPath,pattern:c.pattern,path:_,params:h})));const a=[];let o;const f=q(gl(n,(c,_,h)=>{let b=_&&c.length===_.length;const $=[];for(let m=0,p=c.length;m<p;m++){const A=_&&_[m],k=c[m];h&&A&&k.route.key===A.route.key?$[m]=h[m]:(b=!1,a[m]&&a[m](),Ye(C=>{a[m]=C,$[m]=us(t,$[m-1]||l,()=>f()[m+1],()=>n()[m],r)}))}return a.splice(c.length).forEach(m=>m()),h&&b?h:(o=$[0],$)}));return d(Q,{get when(){return f()&&o},keyed:!0,children:c=>d(pt.Provider,{value:c,get children(){return c.outlet()}})})},ae=e=>{const t=Dt(()=>e.children);return Pt(e,{get children(){return t()}})},ye=()=>{const e=gt();return d(Q,{get when(){return e.child},keyed:!0,children:t=>d(pt.Provider,{value:t,get children(){return t.outlet()}})})};function Te(e){e=Pt({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=xi(e,["href","state","class","activeClass","inactiveClass","end"]),l=ss(()=>e.href),i=ns(l),s=Nt(),n=q(()=>{const r=l();if(r===void 0)return!1;const a=Re(r.split(/[?#]/,1)[0]).toLowerCase(),o=Re(s.pathname).toLowerCase();return e.end?a===o:o.startsWith(a)});return(()=>{var r=fs();return Oi(r,Pt(t,{get href(){return i()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!n(),[e.activeClass]:n(),...t.classList}},get"aria-current"(){return n()?"page":void 0}}),!1,!1),r})()}function xt(e){const t=zt(),l=Nt(),{href:i,state:s}=e,n=typeof i=="function"?i({navigate:t,location:l}):i;return t(n,{replace:!0,state:s}),null}var _s=g('<div class=spinner-with-message><svg width=24 height=24 stroke=#000 viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><g class=spinner><circle cx=12 cy=12 r=9.5 fill=none stroke-width=3>'),ps=g("<p>"),gs=g('<svg width=14 height=14 stroke=#000 viewBox="0 0 24 24"class=inline-block xmlns=http://www.w3.org/2000/svg><g class=spinner><circle cx=12 cy=12 r=9.5 fill=none stroke-width=3>');function Ot(e){return(()=>{var t=_s();return t.firstChild,u(t,(()=>{var l=q(()=>!!e.message);return()=>l()?(()=>{var i=ps();return u(i,()=>e.message),i})():""})(),null),t})()}function mt(){return gs()}ie(["click","input"]);var ms=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-linecap=round stroke-linejoin=round><circle cx=12 cy=12 r=10></circle><polyline points="12 8 8 12 12 16"></polyline><line x1=16 y1=12 x2=8 y2=12>'),$s=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-linecap=round stroke-linejoin=round><circle cx=12 cy=12 r=10></circle><polyline points="12 16 16 12 12 8"></polyline><line x1=8 y1=12 x2=16 y2=12>'),bs=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=1.5 stroke-linecap=round stroke-linejoin=round><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx=12 cy=12 r=3>'),ys=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=1.5 stroke-linecap=round stroke-linejoin=round><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1=1 y1=1 x2=23 y2=23>'),ks=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M20 6v12a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2z"></path><path d="M10 16h6"></path><path d="M13 11m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 8h3"></path><path d="M4 12h3"></path><path d="M4 16h3">'),xs=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=#2c3e50 fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M8 4h10a2 2 0 0 1 2 2v10m-.57 3.399c-.363 .37 -.87 .601 -1.43 .601h-10a2 2 0 0 1 -2 -2v-12"></path><path d="M10 16h6"></path><path d="M11 11a2 2 0 0 0 2 2m2 -2a2 2 0 0 0 -2 -2"></path><path d="M4 8h3"></path><path d="M4 12h3"></path><path d="M4 16h3"></path><path d="M3 3l18 18">'),Ss=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path><path d="M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path><path d="M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855">'),ws=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"></path><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path><path d="M21 21v-2a4 4 0 0 0 -3 -3.85">'),Cs=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M10 8v-2a2 2 0 0 1 2 -2h7a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2v-2"></path><path d="M15 12h-12l3 -3"></path><path d="M6 15l-3 -3">'),As=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"></path><path d="M6 4v4"></path><path d="M6 12v8"></path><path d="M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"></path><path d="M12 4v10"></path><path d="M12 18v2"></path><path d="M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"></path><path d="M18 4v1"></path><path d="M18 9v11">'),Ts=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M10 12l10 0"></path><path d="M10 12l4 4"></path><path d="M10 12l4 -4"></path><path d="M4 4l0 16">'),Ps=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M14 12l-10 0"></path><path d="M14 12l-4 4"></path><path d="M14 12l-4 -4"></path><path d="M20 4l0 16">'),Es=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M5 12l14 0"></path><path d="M15 16l4 -4"></path><path d="M15 8l4 4">'),Us=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M5 12l14 0"></path><path d="M5 12l4 4"></path><path d="M5 12l4 -4">'),Ds=g('<svg xmlns=http://www.w3.org/2000/svg class="icon icon-tabler icon-tabler-filter"viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z">'),Ws=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M12 20l-3 1v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v3"></path><path d="M16 19h6">'),Ms=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-width=1.5 stroke-linecap=round stroke-linejoin=round><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1=12 y1=9 x2=12 y2=13></line><line x1=12 y1=17 x2=12.01 y2=17>'),Ls=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-width=1.5 stroke-linecap=round stroke-linejoin=round><circle cx=12 cy=12 r=10></circle><line x1=12 y1=16 x2=12 y2=12></line><line x1=12 y1=8 x2=12.01 y2=8>'),zs=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-width=1.5 stroke-linecap=round stroke-linejoin=round><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01">'),Ns=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-width=1.5 stroke-linecap=round stroke-linejoin=round><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1=12 y1=22.08 x2=12 y2=12>'),Os=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-width=1.5 stroke-linecap=round stroke-linejoin=round><rect x=2 y=2 width=20 height=8 rx=2 ry=2></rect><rect x=2 y=14 width=20 height=8 rx=2 ry=2></rect><line x1=6 y1=6 x2=6.01 y2=6></line><line x1=6 y1=18 x2=6.01 y2=18>'),Is=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-width=1.5 stroke-linecap=round stroke-linejoin=round><circle cx=12 cy=12 r=10></circle><circle cx=12 cy=12 r=6></circle><circle cx=12 cy=12 r=2>'),Rs=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-linecap=round stroke-linejoin=round><line x1=18 y1=6 x2=6 y2=18></line><line x1=6 y1=6 x2=18 y2=18>'),Fs=g('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-linecap=round stroke-linejoin=round><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1=10 y1=14 x2=21 y2=3>');function Bs(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),e.strokeWidth===void 0&&(e.strokeWidth=1.5),(()=>{var t=ms();return v(l=>{var i=e.size,s=e.size,n=e.color,r=e.strokeWidth;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),n!==l.a&&z(t,"stroke",l.a=n),r!==l.o&&z(t,"stroke-width",l.o=r),l},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()}function js(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),e.strokeWidth===void 0&&(e.strokeWidth=1.5),(()=>{var t=$s();return v(l=>{var i=e.size,s=e.size,n=e.color,r=e.strokeWidth;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),n!==l.a&&z(t,"stroke",l.a=n),r!==l.o&&z(t,"stroke-width",l.o=r),l},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()}function ze(e){return e.size===void 0&&(e.size=24),(()=>{var t=bs();return v(l=>{var i=e.size,s=e.size;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),l},{e:void 0,t:void 0}),t})()}function Ne(e){return e.size===void 0&&(e.size=24),(()=>{var t=ys();return v(l=>{var i=e.size,s=e.size;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),l},{e:void 0,t:void 0}),t})()}function qs(e){return e.size===void 0&&(e.size=24),(()=>{var t=ks();return v(l=>{var i=e.size,s=e.size;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),l},{e:void 0,t:void 0}),t})()}function Hs(e){return e.size===void 0&&(e.size=24),(()=>{var t=xs();return v(l=>{var i=e.size,s=e.size;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),l},{e:void 0,t:void 0}),t})()}function Vs(e){return e.size===void 0&&(e.size=24),(()=>{var t=Ss();return v(l=>{var i=e.size,s=e.size;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),l},{e:void 0,t:void 0}),t})()}function Gs(e){return e.size===void 0&&(e.size=24),(()=>{var t=ws();return v(l=>{var i=e.size,s=e.size;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),l},{e:void 0,t:void 0}),t})()}function Ks(e){return e.size===void 0&&(e.size=24),(()=>{var t=Cs();return v(l=>{var i=e.size,s=e.size;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),l},{e:void 0,t:void 0}),t})()}function Zs(e){return e.size===void 0&&(e.size=24),(()=>{var t=As();return v(l=>{var i=e.size,s=e.size;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),l},{e:void 0,t:void 0}),t})()}function El(e){return e.size===void 0&&(e.size=24),(()=>{var t=Ts();return v(l=>{var i=e.size,s=e.size;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),l},{e:void 0,t:void 0}),t})()}function Ul(e){return e.size===void 0&&(e.size=24),(()=>{var t=Ps();return v(l=>{var i=e.size,s=e.size;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),l},{e:void 0,t:void 0}),t})()}function It(e){return e.size===void 0&&(e.size=24),(()=>{var t=Es();return v(l=>{var i=e.size,s=e.size;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),l},{e:void 0,t:void 0}),t})()}function Dl(e){return e.size===void 0&&(e.size=24),(()=>{var t=Us();return v(l=>{var i=e.size,s=e.size;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),l},{e:void 0,t:void 0}),t})()}function Wl(e){return e.size===void 0&&(e.size=24),(()=>{var t=Ds();return v(l=>{var i=e.size,s=e.size;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),l},{e:void 0,t:void 0}),t})()}function Ml(e){return e.size===void 0&&(e.size=24),(()=>{var t=Ws();return v(l=>{var i=e.size,s=e.size;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),l},{e:void 0,t:void 0}),t})()}function Ys(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),(()=>{var t=Ms();return v(l=>{var i=e.size,s=e.size,n=e.color;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),n!==l.a&&z(t,"stroke",l.a=n),l},{e:void 0,t:void 0,a:void 0}),t})()}function Ll(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),(()=>{var t=Ls();return v(l=>{var i=e.size,s=e.size,n=e.color;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),n!==l.a&&z(t,"stroke",l.a=n),l},{e:void 0,t:void 0,a:void 0}),t})()}function Xs(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),(()=>{var t=zs();return v(l=>{var i=e.size,s=e.size,n=e.color;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),n!==l.a&&z(t,"stroke",l.a=n),l},{e:void 0,t:void 0,a:void 0}),t})()}function Js(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),(()=>{var t=Ns();return v(l=>{var i=e.size,s=e.size,n=e.color;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),n!==l.a&&z(t,"stroke",l.a=n),l},{e:void 0,t:void 0,a:void 0}),t})()}function Qs(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),(()=>{var t=Os();return v(l=>{var i=e.size,s=e.size,n=e.color;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),n!==l.a&&z(t,"stroke",l.a=n),l},{e:void 0,t:void 0,a:void 0}),t})()}function zl(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),(()=>{var t=Is();return v(l=>{var i=e.size,s=e.size,n=e.color;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),n!==l.a&&z(t,"stroke",l.a=n),l},{e:void 0,t:void 0,a:void 0}),t})()}function en(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),e.strokeWidth===void 0&&(e.strokeWidth=1.5),(()=>{var t=Rs();return v(l=>{var i=e.size,s=e.size,n=e.color,r=e.strokeWidth;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),n!==l.a&&z(t,"stroke",l.a=n),r!==l.o&&z(t,"stroke-width",l.o=r),l},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()}function Nl(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),e.strokeWidth===void 0&&(e.strokeWidth=1.5),(()=>{var t=Fs();return v(l=>{var i=e.size,s=e.size,n=e.color,r=e.strokeWidth;return i!==l.e&&z(t,"width",l.e=i),s!==l.t&&z(t,"height",l.t=s),n!==l.a&&z(t,"stroke",l.a=n),r!==l.o&&z(t,"stroke-width",l.o=r),l},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()}var tn=g("<div class=loading-background>");function ln(){return(()=>{var e=tn();return u(e,d(Ot,{})),e})()}var sn=g("<p>Workshop"),nn=g("<p>Clients"),rn=g("<p>Account"),an=g("<p>System"),on=g("<div class=main-menu-icon><p>Hide&nbsp;Menu"),dn=g("<p>Logout"),cn=g("<div class=main-menu><div></div><div><div class=main-menu-icon>"),un=g("<div class=main-menu-icon>");function fn(){const e=W(ce);return(()=>{var t=cn(),l=t.firstChild,i=l.nextSibling,s=i.firstChild;return u(l,d(Te,{href:"/workshop",activeClass:"main-menu-icon-active",inactiveClass:"main-menu-icon",get children(){return[d(zl,{get size(){return e.iconSize()}}),d(Q,{get when(){return e.showMainMenu()},get children(){return sn()}})]}}),null),u(l,d(Te,{href:"/clients",activeClass:"main-menu-icon-active",inactiveClass:"main-menu-icon",get children(){return[d(qs,{get size(){return e.iconSize()}}),d(Q,{get when(){return e.showMainMenu()},get children(){return nn()}})]}}),null),u(i,d(Te,{href:"/account",activeClass:"main-menu-icon-active",inactiveClass:"main-menu-icon",get children(){return[d(Vs,{get size(){return e.iconSize()}}),d(Q,{get when(){return e.showMainMenu()},get children(){return rn()}})]}}),s),u(i,d(Te,{href:"/system",activeClass:"main-menu-icon-active",inactiveClass:"main-menu-icon",get children(){return[d(Zs,{get size(){return e.iconSize()}}),d(Q,{get when(){return e.showMainMenu()},get children(){return an()}})]}}),s),u(i,d(Q,{get when(){return e.showMainMenu()},get fallback(){return(()=>{var n=un();return n.$$click=()=>{e.setShowMainMenu(!0)},u(n,d(js,{get size(){return e.iconSize()}})),n})()},get children(){var n=on(),r=n.firstChild;return n.$$click=()=>{e.setShowMainMenu(!1)},u(n,d(Bs,{get size(){return e.iconSize()}}),r),n}}),s),s.$$click=()=>e.logout(),u(s,d(Ks,{get size(){return e.iconSize()}}),null),u(s,d(Q,{get when(){return e.showMainMenu()},get children(){return dn()}}),null),v(n=>(n=e.showMainMenu()?"250px":`${e.iconSize()+55}px`)!=null?t.style.setProperty("width",n):t.style.removeProperty("width")),t})()}ie(["click"]);var vn=g('<div><div class="flex gap-2">');function ul(e){const t=W(ce),[l,i]=y(!1),[s,n]=y(!1),[r,a]=y("");let o=null,f=null;return Pe(()=>{t.toastBarMessage()!==""?(i(!0),n(!0),a(t.toastBarMessage()),clearTimeout(f),f=setTimeout(()=>{n(!1),clearTimeout(o),o=setTimeout(()=>{t.setToastBarMessage("")},200)},4e3)):i(!1)}),d(Q,{get when(){return l()},get children(){var c=vn(),_=c.firstChild;return c.$$click=()=>{clearTimeout(f),clearTimeout(o),t.setToastBarMessage("")},c.$$mouseover=()=>{clearTimeout(f),clearTimeout(o)},u(_,(()=>{var h=q(()=>t.toastBarType()==="error");return()=>h()?d(Ys,{color:"#ff8484"}):null})(),null),u(_,(()=>{var h=q(()=>t.toastBarType()==="success");return()=>h()?d(Xs,{color:"#4f9d4f"}):null})(),null),u(_,(()=>{var h=q(()=>t.toastBarType()==="info");return()=>h()?d(Ll,{color:"#ffbf2d"}):null})(),null),u(_,r,null),v(()=>c.className=s()?"toast-bar-fade-in":"toast-bar-fade-out"),c}})}ie(["mouseover","click"]);const Rt="/api/v1",hn=["All-in-One","Desktop","Laptop","Tablet","Phone","Other"],dt={1:{name:"Open",style:{"background-color":"#114a06",color:"#ffffff"}},2:{name:"In Progress",style:{"background-color":"#413ab8",color:"#ffffff"}},3:{name:"Waiting for Part(s)",style:{"background-color":"#985408",color:"#ffffff"}},4:{name:"Waiting for Client",style:{"background-color":"#741b78",color:"#ffffff"}},5:{name:"Ready for Pickup",style:{"background-color":"#b1d3bf",color:"#232323"}},6:{name:"Completed",style:{"background-color":"#ecc146",color:"#232323"}},7:{name:"Cancelled",style:{"background-color":"#e44756",color:"#232323"}}},Ol=Object.entries(dt).map(([e,t])=>({code:parseInt(e),label:t.name})),ct={1:"Drop-in",2:"Remote",3:"Callout",4:"Multiple"},Il=Object.entries(ct).map(([e,t])=>({code:parseInt(e),label:t}));class Rl{constructor({navigator:t=null,apiUrl:l=Rt,session:i=null}={}){this.navigator=t,this.apiUrl=l,this.session=i}async get(t,l=!0){if(l&&typeof this.session=="function"&&!this.session().logged_in)return{ok:!1,message:"Unauthorized"};const i=await fetch(this.apiUrl+t,{method:"GET",credentials:"include"});if(i.ok){const s=await i.json();return s.navigate&&this.navigator(s.navigate),await s}else throw new Error("System error. Please try again later.")}async post(t,l,i=!0){if(i&&typeof this.session=="function"&&!this.session().logged_in)return{ok:!1,message:"Unauthorized"};const s=await fetch(this.apiUrl+t,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(s.ok){const n=await s.json();return n.navigate&&this.navigator(n.navigate),await n}else throw new Error("System error. Please try again later.")}}var _n=g("<div class=main-container>");const ce=ke();function pn(e){const t=zt(),l=Nt(),[i,s]=y({logged_in:!1,user_id:0,user_type:null}),n=new Rl({navigator:t,apiUrl:Rt,session:i}),[r,a]=y([]),[o,f]=y("success"),[c,_]=y(""),[h,b]=y(24),[$,m]=y(""),[p,A]=y(!1),[k,C]=y(null),[E,U]=y(null),[T,S]=y(!1),[I,M]=y(!0),[w,x]=y("workshop");function L(O){return dt[O]}function V(O){return ct[O]}function oe(O){f("success"),_(O)}function ee(O){f("error"),_(O)}function ne(){n.get("/system/auth/logout",!1).then(O=>{O.ok&&(t("/login"),A(!1),s({logged_in:!1,user_id:0,user_type:null}))})}function G(O,re,Y){n.post("/system/auth/login",{username:O(),password:re()},!1).then(K=>{K.ok?(s(K.data),A(K.data.logged_in),C(K.data.user_id),U(K.data.user_type)):(Y(""),ee(K.message))})}function F(){return n.get("/system/auth/session",!1).then(O=>{if(O.ok)return s(O.data),A(O.data.logged_in),C(O.data.user_id),U(O.data.user_type),O.data}),null}return ge(()=>{S(!1),n.get("/system/checks",!1).then(O=>{O.ok&&(O.data.system_setup?(m(O.data.system_version),a(O.data.enabled_services),s(O.data.session),A(O.data.session.logged_in),C(O.data.session.user_id),U(O.data.session.user_type),S(!0)):(S(!0),m(O.data.system_version),t("/install")))})}),d(ce.Provider,{value:{api:n,systemVersion:$,showMainMenu:I,setShowMainMenu:M,navigator:t,location:l,enabledServices:r,setEnabledServices:a,iconSize:h,setIconSize:b,loggedIn:p,setLoggedIn:A,userId:k,setUserId:C,userType:E,setUserType:U,toastBarType:o,setToastBarType:f,toastBarMessage:c,setToastBarMessage:_,mainMenuLocation:w,setMainMenuLocation:x,fetch_session:F,login:G,logout:ne,showSuccessToast:oe,showErrorToast:ee,statusCodeLookup:L,categoryCodeLookup:V},get children(){return q(()=>!!T())()?q(()=>!!p())()?(()=>{var O=_n();return u(O,d(ul,{}),null),u(O,d(fn,{}),null),u(O,d(ye,{}),null),O})():[d(ul,{}),d(ye,{})]:d(ln,{})}})}var gn=g('<form class="flex flex-col gap-4"><div class=login-form-group><label for=username class=select-none>Username:</label><input class=mb-2 id=username type=text name=username><label for=password class=select-none>Password:</label><div class=inline-action-right><input id=password name=password><div></div></div></div><div class="flex flex-col gap-1"><input type=submit class=btn-confirm value=Login>'),mn=g('<div class=login-background><div class=login-outer><div class=login-inner></div><div class="text-sm text-center text-gray-500 p-2"><p>Track-a-tron 1000');function $n(){const e=W(ce),[t,l]=y(""),[i,s]=y(""),[n,r]=y(!1);function a(){return(()=>{var o=gn(),f=o.firstChild,c=f.firstChild,_=c.nextSibling,h=_.nextSibling,b=h.nextSibling,$=b.firstChild,m=$.nextSibling,p=f.nextSibling,A=p.firstChild;return o.addEventListener("submit",k=>{k.preventDefault()}),_.addEventListener("change",k=>l(k.target.value)),$.addEventListener("change",k=>s(k.target.value)),m.$$mouseup=()=>r(!1),m.$$mousedown=()=>r(!0),u(m,(()=>{var k=q(()=>!!n());return()=>k()?d(ze,{size:14}):d(Ne,{size:14})})()),A.$$click=()=>{e.login(t,i,s)},v(()=>z($,"type",n()?"text":"password")),v(()=>$.value=i()),o})()}return(()=>{var o=mn(),f=o.firstChild,c=f.firstChild;return u(c,d(a,{})),o})()}ie(["mousedown","mouseup","click"]);const Ut=Symbol("store-raw"),qe=Symbol("store-node"),De=Symbol("store-has"),Fl=Symbol("store-self");function Bl(e){let t=e[Ce];if(!t&&(Object.defineProperty(e,Ce,{value:t=new Proxy(e,kn)}),!Array.isArray(e))){const l=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let s=0,n=l.length;s<n;s++){const r=l[s];i[r].get&&Object.defineProperty(e,r,{enumerable:i[r].enumerable,get:i[r].get.bind(t)})}}return t}function ut(e){let t;return e!=null&&typeof e=="object"&&(e[Ce]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Je(e,t=new Set){let l,i,s,n;if(l=e!=null&&e[Ut])return l;if(!ut(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let r=0,a=e.length;r<a;r++)s=e[r],(i=Je(s,t))!==s&&(e[r]=i)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const r=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let o=0,f=r.length;o<f;o++)n=r[o],!a[n].get&&(s=e[n],(i=Je(s,t))!==s&&(e[n]=i))}return e}function ft(e,t){let l=e[t];return l||Object.defineProperty(e,t,{value:l=Object.create(null)}),l}function Qe(e,t,l){if(e[t])return e[t];const[i,s]=y(l,{equals:!1,internal:!0});return i.$=s,e[t]=i}function bn(e,t){const l=Reflect.getOwnPropertyDescriptor(e,t);return!l||l.get||!l.configurable||t===Ce||t===qe||(delete l.value,delete l.writable,l.get=()=>e[Ce][t]),l}function jl(e){Ct()&&Qe(ft(e,qe),Fl)()}function yn(e){return jl(e),Reflect.ownKeys(e)}const kn={get(e,t,l){if(t===Ut)return e;if(t===Ce)return l;if(t===wt)return jl(e),l;const i=ft(e,qe),s=i[t];let n=s?s():e[t];if(t===qe||t===De||t==="__proto__")return n;if(!s){const r=Object.getOwnPropertyDescriptor(e,t);Ct()&&(typeof n!="function"||e.hasOwnProperty(t))&&!(r&&r.get)&&(n=Qe(i,t,n)())}return ut(n)?Bl(n):n},has(e,t){return t===Ut||t===Ce||t===wt||t===qe||t===De||t==="__proto__"?!0:(Ct()&&Qe(ft(e,De),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:yn,getOwnPropertyDescriptor:bn};function vt(e,t,l,i=!1){if(!i&&e[t]===l)return;const s=e[t],n=e.length;l===void 0?(delete e[t],e[De]&&e[De][t]&&s!==void 0&&e[De][t].$()):(e[t]=l,e[De]&&e[De][t]&&s===void 0&&e[De][t].$());let r=ft(e,qe),a;if((a=Qe(r,t,s))&&a.$(()=>l),Array.isArray(e)&&e.length!==n){for(let o=e.length;o<n;o++)(a=r[o])&&a.$();(a=Qe(r,"length",n))&&a.$(e.length)}(a=r[Fl])&&a.$()}function ql(e,t){const l=Object.keys(t);for(let i=0;i<l.length;i+=1){const s=l[i];vt(e,s,t[s])}}function xn(e,t){if(typeof t=="function"&&(t=t(e)),t=Je(t),Array.isArray(t)){if(e===t)return;let l=0,i=t.length;for(;l<i;l++){const s=t[l];e[l]!==s&&vt(e,l,s)}vt(e,"length",i)}else ql(e,t)}function Ze(e,t,l=[]){let i,s=e;if(t.length>1){i=t.shift();const r=typeof i,a=Array.isArray(e);if(Array.isArray(i)){for(let o=0;o<i.length;o++)Ze(e,[i[o]].concat(t),l);return}else if(a&&r==="function"){for(let o=0;o<e.length;o++)i(e[o],o)&&Ze(e,[o].concat(t),l);return}else if(a&&r==="object"){const{from:o=0,to:f=e.length-1,by:c=1}=i;for(let _=o;_<=f;_+=c)Ze(e,[_].concat(t),l);return}else if(t.length>1){Ze(e[i],t,[i].concat(l));return}s=e[i],l=[i].concat(l)}let n=t[0];typeof n=="function"&&(n=n(s,l),n===s)||i===void 0&&n==null||(n=Je(n),i===void 0||ut(s)&&ut(n)&&!Array.isArray(n)?ql(s,n):vt(e,i,n))}function Ft(...[e,t]){const l=Je(e||{}),i=Array.isArray(l),s=Bl(l);function n(...r){ui(()=>{i&&r.length===1?xn(l,r[0]):Ze(l,r)})}return[s,n]}const Ae=ke();function Sn(){const e=W(ce),[t,l]=y(!0),[i,s]=y(!1),[n,r]=Ft([]),[a,o]=y(0),[f,c]=y(0),[_,h]=y(1),[b,$]=y(25),[m,p]=y(),[A,k]=y(200),[C,E]=y({}),[U,T]=y({}),[S,I]=y({}),[M,w]=y({}),x=N=>{p(window.innerHeight)};let L,V;function oe(N,D){D===""?S().hasOwnProperty(N)&&(delete S()[N],I({...S()})):I({...S(),[N]:D})}function ee(N,D){if(S().hasOwnProperty("_in")&&S()._in.hasOwnProperty(N)&&S()._in[N].includes(D))return!0}function ne(N,D){S().hasOwnProperty("_in")?S()._in.hasOwnProperty(N)?S()._in[N].includes(D)||I({...S(),_in:{...S()._in,[N]:[...S()._in[N],D]}}):I({...S(),_in:{...S()._in,[N]:[D]}}):I({...S(),_in:{[N]:[D]}})}function G(N,D){if(S().hasOwnProperty("_in")&&S()._in.hasOwnProperty(N)&&S()._in[N].includes(D)){const H=S()._in[N].filter(J=>J!==D);I({...S(),_in:{...S()._in,[N]:H}})}}function F(N){h(1),$(N)}function O(N){return{client_id:"Client ID",business_name:"Business Name",any_name:"Name",any_email_address:"Email Address",any_number:"Phone Number",postcode:"Postcode",date_from:"Date From",date_to:"Date To",date_on:"Date On"}[N]}function re(){const N=document.getElementById("clientsTableOverflow");N&&(N.scrollTop=0)}function Y(N,D,H,J){s(!0),clearTimeout(V),V=setTimeout(()=>{e.api.post("/clients/paged",{page:D,limit:H,where:J}).then(B=>{B.ok?(o(B.data.total_clients),c(B.data.total_pages),r(B.data.clients),s(!1),re(),t()&&l(!1)):(o(0),c(0),r([]),s(!1),t()&&l(!1))}),T(J)},N)}function K(N){const D={};for(let[H,J]of Object.entries(N))D[O(H)]=J;return{...D}}return Pe(()=>{k(m()-150-(Object.keys(M()).length>0?45:0))}),Pe(()=>{Y(200,_(),b(),C())}),Pe(()=>{w(K(U()?U():{}))}),ge(()=>{e.loggedIn()?(window.addEventListener("resize",x),p(window.innerHeight),k(m()-150),Y(200,_(),b(),C())):e.navigator("/login")}),Fe(()=>{window.removeEventListener("resize",x)}),d(Ae.Provider,{value:{loadingClients:t,setLoadingClients:l,smallLoadingClients:i,setSmallLoadingClients:s,clients:n,setClients:r,totalClients:a,setTotalClients:o,totalPages:f,setTotalPages:c,page:_,setPage:h,limit:b,setLimit:$,clientsWhere:C,setClientsWhere:E,clientsWhereAnnex:U,setClientsWhereAnnex:T,clientsTempWhere:S,setClientsTempWhere:I,clientsWherePills:M,setClientsWherePills:w,clientsTempWhereValue:oe,windowHeight:m,setWindowHeight:p,clientsInnerTableHeight:A,setClientsInnerTableHeight:k,deBounceGetPageClients:Y,checkTempWhereIn:ee,setTempWhereIn:ne,unsetTempWhereIn:G,changeLimit:F,dialogFilterClientsRef:L},get children(){return d(ye,{})}})}var Ve=g("<button class=btn-confirm>"),fl=g("<div class=input-like>"),wn=g("<select><option value=25>25 pp</option><option value=50>50 pp</option><option value=100>100 pp");function Cn(){const e=W(Ae);return[(()=>{var t=Ve();return t.$$click=()=>{e.page()>1&&e.setPage(1)},u(t,d(El,{size:16})),v(()=>t.disabled=e.page()===1),t})(),(()=>{var t=Ve();return t.$$click=()=>{e.page()>1&&e.setPage(e.page()-1)},u(t,d(Dl,{size:16})),v(()=>t.disabled=e.page()===1),t})(),(()=>{var t=fl();return t.$$click=()=>{},u(t,(()=>{var l=q(()=>!!e.loadingClients());return()=>l()?"-":`Total: ${e.totalClients()}`})()),t})(),(()=>{var t=fl();return t.$$click=()=>{},u(t,(()=>{var l=q(()=>!!e.loadingClients());return()=>l()?"-":`${e.page()} / ${e.totalPages()}`})()),t})(),(()=>{var t=wn(),l=t.firstChild,i=l.nextSibling,s=i.nextSibling;return t.addEventListener("change",n=>e.changeLimit(parseInt(n.target.options[n.target.selectedIndex].value))),v(n=>{var r=e.limit()===25,a=e.limit()===50,o=e.limit()===100;return r!==n.e&&(l.selected=n.e=r),a!==n.t&&(i.selected=n.t=a),o!==n.a&&(s.selected=n.a=o),n},{e:void 0,t:void 0,a:void 0}),t})(),(()=>{var t=Ve();return t.$$click=()=>{e.page()<e.totalPages()&&e.setPage(e.page()+1)},u(t,d(It,{size:16})),v(()=>t.disabled=e.page()===e.totalPages()),t})(),(()=>{var t=Ve();return t.$$click=()=>{e.page()<e.totalPages()&&e.setPage(e.totalPages())},u(t,d(Ul,{size:16})),v(()=>t.disabled=e.page()===e.totalPages()),t})(),(()=>{var t=Ve();return t.$$click=()=>{e.dialogFilterClientsRef.showModal()},u(t,d(Wl,{size:16})),t})()]}ie(["click"]);var An=g('<div class=dialog-content-group><div class=section-filter-group><div class="inline-label flex-1"><label>Client&nbsp;ID</label><input type=number></div><div class="inline-label flex-1"><label>Business Name</label><input class=flex-1 type=text></div><div class="inline-label flex-1"><label>Name</label><input class=flex-1 type=text></div><div class="inline-label flex-1"><label>Email&nbsp;Address</label><input class=flex-1 type=text></div><div class="inline-label flex-1"><label>Phone&nbsp;Number</label><input class=flex-1 type=text></div><div class="inline-label flex-1"><label>Postcode</label><input class=flex-1 type=text>');function Tn(e){const t=W(Ae);return(()=>{var l=An(),i=l.firstChild,s=i.firstChild,n=s.firstChild,r=n.nextSibling,a=s.nextSibling,o=a.firstChild,f=o.nextSibling,c=a.nextSibling,_=c.firstChild,h=_.nextSibling,b=c.nextSibling,$=b.firstChild,m=$.nextSibling,p=b.nextSibling,A=p.firstChild,k=A.nextSibling,C=p.nextSibling,E=C.firstChild,U=E.nextSibling;return r.$$keyup=T=>{e.keyDownHandler(T)||t.clientsTempWhereValue("client_id",T.target.value)},f.$$keyup=T=>{e.keyDownHandler(T)||t.clientsTempWhereValue("business_name",T.target.value)},h.$$keyup=T=>{e.keyDownHandler(T)||t.clientsTempWhereValue("any_name",T.target.value)},m.$$keyup=T=>{e.keyDownHandler(T)||t.clientsTempWhereValue("email_address",T.target.value)},k.$$keyup=T=>{e.keyDownHandler(T)||t.clientsTempWhereValue("any_number",T.target.value)},U.$$keyup=T=>{e.keyDownHandler(T)||t.clientsTempWhereValue("postcode",T.target.value)},v(()=>r.value=t.clientsTempWhere().hasOwnProperty("client_id")?t.clientsTempWhere().client_id:""),v(()=>f.value=t.clientsTempWhere().hasOwnProperty("business_name")?t.clientsTempWhere().business_name:""),v(()=>h.value=t.clientsTempWhere().hasOwnProperty("any_name")?t.clientsTempWhere().any_name:""),v(()=>m.value=t.clientsTempWhere().hasOwnProperty("email_address")?t.clientsTempWhere().email_address:""),v(()=>k.value=t.clientsTempWhere().hasOwnProperty("any_number")?t.clientsTempWhere().any_number:""),v(()=>U.value=t.clientsTempWhere().hasOwnProperty("postcode")?t.clientsTempWhere().postcode:""),l})()}ie(["keyup"]);var Pn=g('<div class=dialog-content-group><div class=section-filter-group><small class=font-bold>Specific</small><div class="pt-1 pb-2"><div class="inline-label flex-1"><label>Date</label><div class="inline-button w-full"><input type=date class=""><button class=btn>clear</button></div></div></div><small class=font-bold>Range</small><div class="flex flex-col gap-1 pt-1 pb-2"><div class="inline-label flex-1"><label>From</label><div class="inline-button w-full"><input type=date><button class=btn>clear</button></div></div><div class="inline-label flex-1"><label>To</label><div class="inline-button w-full"><input type=date><button class=btn>clear');function En(e){const t=W(Ae);return(()=>{var l=Pn(),i=l.firstChild,s=i.firstChild,n=s.nextSibling,r=n.firstChild,a=r.firstChild,o=a.nextSibling,f=o.firstChild,c=f.nextSibling,_=n.nextSibling,h=_.nextSibling,b=h.firstChild,$=b.firstChild,m=$.nextSibling,p=m.firstChild,A=p.nextSibling,k=b.nextSibling,C=k.firstChild,E=C.nextSibling,U=E.firstChild,T=U.nextSibling;return f.addEventListener("change",S=>{e.keyDownHandler(S)||(t.clientsTempWhereValue("date_on",S.target.value),t.clientsTempWhere().hasOwnProperty("date_from")&&t.clientsTempWhereValue("date_from",""),t.clientsTempWhere().hasOwnProperty("date_to")&&t.clientsTempWhereValue("date_to",""))}),c.$$click=S=>{S.preventDefault(),t.clientsTempWhereValue("date_on","")},p.addEventListener("change",S=>{e.keyDownHandler(S)||(t.clientsTempWhereValue("date_from",S.target.value),t.clientsTempWhere().hasOwnProperty("date_on")&&t.clientsTempWhereValue("date_on",""))}),A.$$click=S=>{S.preventDefault(),t.clientsTempWhereValue("date_on","")},U.addEventListener("change",S=>{e.keyDownHandler(S)||(t.clientsTempWhereValue("date_to",S.target.value),t.clientsTempWhere().hasOwnProperty("date_on")&&t.clientsTempWhereValue("date_on",""))}),T.$$click=S=>{S.preventDefault(),t.clientsTempWhereValue("date_on","")},v(()=>f.value=t.clientsTempWhere().hasOwnProperty("date_on")?t.clientsTempWhere().date_on:""),v(()=>p.value=t.clientsTempWhere().hasOwnProperty("date_from")?t.clientsTempWhere().date_from:""),v(()=>U.value=t.clientsTempWhere().hasOwnProperty("date_to")?t.clientsTempWhere().date_to:""),l})()}ie(["click"]);var Un=g('<dialog class=dialog id=dialog-filter-clients-id><div class=btn-tab-group><button>Client Info</button><button>Date</button></div><div></div><div></div><div class=dialog-footer><div class="flex gap-1"><button class=btn>Cancel</button><button class=btn>Clear Filter</button></div><button class=btn-confirm>Apply Filter');function Dn(){const e=W(Ae),[t,l]=y("client-info"),i=s=>s.key==="Escape"?(l("client-info"),setTimeout(()=>{e.dialogFilterClientsRef.close()},1),!0):s.key==="Enter"?(e.setClientsWhere({...e.clientsWhere(),...e.clientsTempWhere()}),l("client-info"),setTimeout(()=>{e.dialogFilterClientsRef.close()},1),!0):!1;return ge(()=>{e.dialogFilterClientsRef.addEventListener("keydown",i),e.dialogFilterClientsRef.addEventListener("cancel",s=>{s.preventDefault()})}),Fe(()=>{e.dialogFilterClientsRef.removeEventListener("keydown",i),e.dialogFilterClientsRef.removeEventListener("cancel",s=>{s.preventDefault()})}),(()=>{var s=Un(),n=s.firstChild,r=n.firstChild,a=r.nextSibling,o=n.nextSibling,f=o.nextSibling,c=f.nextSibling,_=c.firstChild,h=_.firstChild,b=h.nextSibling,$=_.nextSibling,m=e.dialogFilterClientsRef;return typeof m=="function"?Me(m,s):e.dialogFilterClientsRef=s,r.$$click=()=>l("client-info"),a.$$click=()=>l("date"),u(o,d(Tn,{keyDownHandler:i,setFilterTab:l})),u(f,d(En,{keyDownHandler:i,setFilterTab:l})),h.$$click=()=>{e.dialogFilterClientsRef.close(),l("client-info")},b.$$click=()=>{e.setClientsTempWhere({})},$.$$click=()=>{e.setClientsWhere(e.clientsTempWhere()),e.dialogFilterClientsRef.close(),l("client-info")},v(p=>{var A=t()==="client-info"?"btn-tab-active":"btn-tab",k=t()==="date"?"btn-tab-active":"btn-tab",C=t()==="client-info"?"dialog-content":"hidden",E=t()==="date"?"dialog-content":"hidden";return A!==p.e&&(r.className=p.e=A),k!==p.t&&(a.className=p.t=k),C!==p.a&&(o.className=p.a=C),E!==p.o&&(f.className=p.o=E),p},{e:void 0,t:void 0,a:void 0,o:void 0}),s})()}ie(["click"]);var Wn=g("<span>+"),Mn=g('<div class="flex items-center px-4">'),Ln=g('<div class=page-section-header><div class="flex items-center gap-1">');function zn(e){const t=W(Ae);return[(()=>{var l=Ln(),i=l.firstChild;return u(l,d(Te,{className:"btn-good",href:"/clients/add",get children(){return[Wn()," Add Client"]}}),i),u(i,d(Q,{get when(){return t.smallLoadingClients()},get children(){var s=Mn();return u(s,d(mt,{})),s}}),null),u(i,d(Cn,{}),null),l})(),d(Dn,{})]}var Nn=g('<div class="flex justify-center items-center w-full h-full min-h-0"><div class="flex flex-col items-center"><small>No clients found');function On(){return(()=>{var e=Nn(),t=e.firstChild,l=t.firstChild;return u(t,d(Hs,{size:64}),l),e})()}var In=g('<div class="flex justify-center items-center w-full h-full min-h-0">');function Rn(){return(()=>{var e=In();return u(e,d(Ot,{})),e})()}var Fn=g('<div class="pills mb-2"><div class=pill-danger-interactive>'),Bn=g("<div class=pill>: ");function jn(){const e=W(Ae);return d(Q,{get when(){return Object.keys(e.clientsWhereAnnex()).length>0},get children(){var t=Fn(),l=t.firstChild;return u(t,d(he,{get each(){return Object.keys(e.clientsWherePills())},children:i=>(()=>{var s=Bn(),n=s.firstChild;return u(s,i,n),u(s,()=>e.clientsWherePills()[i],null),s})()}),l),l.$$click=()=>{e.setClientsWhere({}),e.setClientsWhereAnnex({}),e.setClientsTempWhere({})},u(l,d(Ml,{size:14})),t}})}ie(["click"]);function Hl(e,t,l){let i="";return t&&(i=t),l&&(t?i+=" "+l:i=l),e?i!==""?i+" ("+e+")":e:i||"-"}function Vl(e,t,l,i){let s=[];return e&&s.push(e),t&&s.push(t),l&&s.push(l),i&&s.push(i),s.length===0?"-":s.join(", ")}var qn=g('<div class=card><div class=card-start><div class=card-group-slim><div class=card-labelled-pill><div class=card-labelled-pill-label>Client ID</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Added By</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Created</div><div class=card-labelled-pill-text></div></div></div><div class="card-group mt-2"><div class=card-section><small>Client</small><p></p></div><div class=card-section><small>Contact</small><p></p></div><div class=card-section><small>Address</small><p></p></div></div></div><div class=card-end><div class="flex justify-end">');function Hn(e){const t=e.client;return(()=>{var l=qn(),i=l.firstChild,s=i.firstChild,n=s.firstChild,r=n.firstChild,a=r.nextSibling,o=n.nextSibling,f=o.firstChild,c=f.nextSibling,_=o.nextSibling,h=_.firstChild,b=h.nextSibling,$=s.nextSibling,m=$.firstChild,p=m.firstChild,A=p.nextSibling,k=m.nextSibling,C=k.firstChild,E=C.nextSibling,U=k.nextSibling,T=U.firstChild,S=T.nextSibling,I=i.nextSibling,M=I.firstChild;return u(a,()=>t.client_id),u(c,()=>t.__added_by),u(b,()=>t.__created),u(A,()=>Hl(t.business_name,t.first_name,t.last_name)),u(E,()=>Vl(t.phone,t.email_address,t.alt_phone,t.alt_email_address)),u(S,()=>t.__address),u(M,d(Te,{className:"btn-confirm",get href(){return"/clients/"+t.client_id},children:"Open"})),l})()}function Vn(){const e=W(Ae);return d(he,{get each(){return e.clients},children:(t,l)=>d(Hn,{client:t})})}var Gn=g("<div class=main-content-stretch><div class=cards-bg-wrapper><div class=cards>");function Kn(){const e=W(Ae);return(()=>{var t=Gn(),l=t.firstChild,i=l.firstChild;return u(t,d(zn,{}),l),u(t,d(jn,{}),l),u(i,(()=>{var s=q(()=>!!e.loadingClients());return()=>s()?d(Rn,{}):(()=>{var n=q(()=>e.clients.length>0);return()=>n()?d(Vn,{}):d(On,{})})()})()),t})()}var Zn=g("<div class=sub-menu><div><div></div><div>Information</div></div><div><div></div><div>Users</div></div><div><div></div><div>Services</div></div><div><div></div><div>Logs");function Yn(){const e=W(ce),t=W(Ee);return(()=>{var l=Zn(),i=l.firstChild,s=i.firstChild,n=i.nextSibling,r=n.firstChild,a=n.nextSibling,o=a.firstChild,f=a.nextSibling,c=f.firstChild;return i.$$click=()=>e.navigator("/system/information"),u(s,d(Ll,{size:20})),n.$$click=()=>e.navigator("/system/users"),u(r,d(Gs,{size:20})),a.$$click=()=>e.navigator("/system/services"),u(o,d(Js,{size:20})),f.$$click=()=>e.navigator("/system/logs"),u(c,d(Qs,{size:20})),v(_=>{var h=t.systemSection()==="information"?"sub-menu-icon-active":"sub-menu-icon",b=t.systemSection()==="users"?"sub-menu-icon-active":"sub-menu-icon",$=t.systemSection()==="services"?"sub-menu-icon-active":"sub-menu-icon",m=t.systemSection()==="logs"?"sub-menu-icon-active":"sub-menu-icon";return h!==_.e&&(i.className=_.e=h),b!==_.t&&(n.className=_.t=b),$!==_.a&&(a.className=_.a=$),m!==_.o&&(f.className=_.o=m),_},{e:void 0,t:void 0,a:void 0,o:void 0}),l})()}ie(["click"]);var Xn=g("<div class=main-content-slim-row><div class=sub-content>");const Ee=ke();function Jn(){const e=W(ce),[t,l]=y("information"),i={username:"",password:"",display_name:"",email:"",sms:"",user_type:"user",disabled:!1,deleted:!1},s=["user","manager","admin"],[n,r]=y(0),[a,o]=y(""),[f,c]=y([]),[_,h]=y(i),[b,$]=y(i),[m,p]=y(i),[A,k]=y(""),[C,E]=y([]);let U,T,S,I;function M(){e.api.get("/system/get/users").then(x=>{x.ok&&c(x.data)})}function w(){e.api.get("/system/get/logs").then(x=>{x.ok&&E(x.data)})}return d(Ee.Provider,{value:{systemSection:t,setSystemSection:l,blankSystemUser:i,refSystemUserAddDialog:U,refSystemUserEditDialog:T,refSystemUserResetPasswordDialog:S,refSystemUserDeleteDialog:I,systemUsers:f,setSystemUsers:c,systemUserTypes:s,systemUsersDialogError:a,setSystemUsersDialogError:o,systemLogs:C,systemUserSelected:n,setSystemUserSelected:r,tempAddSystemUser:_,setTempAddSystemUser:h,tempEditSystemUser:b,setTempEditSystemUser:$,tempDeleteSystemUser:m,setTempDeleteSystemUser:p,resetSystemUserPassword:A,setResetSystemUserPassword:k,getAllSystemUsers:M,getAllSystemLogs:w},get children(){var x=Xn(),L=x.firstChild;return u(x,d(Yn,{}),L),u(L,d(ye,{})),x}})}const Qn=ke();function er(){return d(Qn.Provider,{value:{},get children(){return d(ye,{})}})}var tr=g('<div class="main-content-slim gap-2"><div class="sectioned-content w-full"><form><div class="form-section mb-2"><div class=field-group><div class=py-2><label>Username</label><input type=text disabled></div></div><div class=attention-warning>Username can only be changed by an administrator.</div><div class=field-group><div class=py-2><label>Display Name</label><input type=text></div></div><strong class=mt-2>Notifications</strong><div class=field-group><div class=py-2><label>Email</label><input type=text></div><div class=py-2><label>SMS</label><input type=text></div></div></div><button class=btn-confirm>Update</button></form></div><div class="sectioned-content w-full"><form><div class="form-section mb-2"><div class=field-group><div class=py-2><label>Current Password</label><input type=password></div></div><div class=field-group><div class=py-2><label>New Password</label><input type=password></div></div><div class=field-group><div class=py-2><label>Confirm New Password</label><input type=password></div></div></div><button class=btn-confirm>Change Password');function lr(){const e=W(ce),t={username:"",display_name:"",email:"",sms:""},[l,i]=y(t),[s,n]=y(""),[r,a]=y(""),[o,f]=y("");function c(){if(l().display_name===""){e.showErrorToast("Display Name cannot be empty.");return}e.api.post(`/update/user/${e.userId()}`,{display_name:l().display_name,email:l().email,sms:l().sms}).then(h=>{h.ok?e.showSuccessToast("Account updated."):e.showErrorToast("Error updating account. "+h.message)})}function _(){if(s()===""){e.showErrorToast("Current Password cannot be empty.");return}if(r()===""){e.showErrorToast("New Password cannot be empty.");return}if(r().length<8){e.showErrorToast("Password must be at least 8 characters.");return}if(r()!==o()){e.showErrorToast("Passwords do not match.");return}e.api.post(`/update/user/${e.userId()}/password`,{current_password:s(),new_password:r()}).then(h=>{h.ok?e.showSuccessToast("Password updated."):e.showErrorToast("Error updating password. "+h.message)})}return ge(()=>{e.setMainMenuLocation("account"),e.api.get(`/system/user/${e.userId()}`).then(h=>{h.ok?(i({username:h.data.username,display_name:h.data.display_name,email:h.data.email,sms:h.data.sms}),a(""),n(""),f("")):e.showErrorToast(h.message)})}),(()=>{var h=tr(),b=h.firstChild,$=b.firstChild,m=$.firstChild,p=m.firstChild,A=p.firstChild,k=A.firstChild,C=k.nextSibling,E=p.nextSibling,U=E.nextSibling,T=U.firstChild,S=T.firstChild,I=S.nextSibling,M=U.nextSibling,w=M.nextSibling,x=w.firstChild,L=x.firstChild,V=L.nextSibling,oe=x.nextSibling,ee=oe.firstChild,ne=ee.nextSibling,G=m.nextSibling,F=b.nextSibling,O=F.firstChild,re=O.firstChild,Y=re.firstChild,K=Y.firstChild,N=K.firstChild,D=N.nextSibling,H=Y.nextSibling,J=H.firstChild,B=J.firstChild,te=B.nextSibling,le=H.nextSibling,de=le.firstChild,P=de.firstChild,R=P.nextSibling,X=re.nextSibling;return $.addEventListener("submit",j=>{j.preventDefault()}),I.$$keyup=j=>{i({...l(),display_name:j.target.value})},V.$$keyup=j=>{i({...l(),email:j.target.value})},ne.$$keyup=j=>{i({...l(),sms:j.target.value})},G.$$click=()=>{c()},O.addEventListener("submit",j=>{j.preventDefault()}),D.$$keyup=j=>{n(j.target.value)},te.$$keyup=j=>{a(j.target.value)},R.$$keyup=j=>{f(j.target.value)},X.$$click=()=>{_()},v(()=>C.value=l().username),v(()=>I.value=l().display_name),v(()=>V.value=l().email),v(()=>ne.value=l().sms),v(()=>D.value=s()),v(()=>te.value=r()),v(()=>R.value=o()),h})()}ie(["keyup","click"]);const ir=ke();function sr(){const e=W(ce);return ge(()=>{e.setMainMenuLocation("clients")}),d(ir.Provider,{value:{},get children(){return d(ye,{})}})}var nr=g("<div class=field-group><div class=py-2><button class=btn-confirm>Refresh Cache"),rr=g('<div><div class=field-group><div class=py-2><label for=postcode_lookup>Postcode Lookup</label><div class=inline-button><input type=text name=postcode_lookup id=postcode_lookup><button class=btn-confirm>Find Address</button></div></div></div><div class=field-group><div class="py-2 w-full"><label>Addresses</label><select class=w-full><option value=clear>'),ar=g("<option>");function Gl(e){const t=W(ce),[l,i]=Ft([]),[s,n]=y(""),[r,a]=y(!1);function o(c=!1){if(s().length<5){t.showErrorToast("Postcode is too short");return}t.api.post("/system/postcode/lookup",{postcode:s(),refresh_cache:c}).then(_=>{_.ok&&i(_.data.addresses)})}function f(c,_){if(c==="clear"){e.setAddress({building_number:"",sub_building_number:"",building_name:"",sub_building_name:"",address_line_1:"",address_line_2:"",address_line_3:"",locality:"",town_or_city:"",county:"",district:"",postcode:"",country:""});return}const h=l[c];e.setAddress({building_number:h.building_number,sub_building_number:h.sub_building_number,building_name:h.building_name,sub_building_name:h.sub_building_name,address_line_1:h.thoroughfare,address_line_2:h.line_2,address_line_3:h.line_3,locality:h.locality,town_or_city:h.town_or_city,county:h.county,district:h.district,postcode:_,country:h.country})}return(()=>{var c=rr(),_=c.firstChild,h=_.firstChild,b=h.firstChild,$=b.nextSibling,m=$.firstChild,p=m.nextSibling,A=_.nextSibling,k=A.firstChild,C=k.firstChild,E=C.nextSibling,U=E.firstChild;return m.$$keyup=T=>{T.key==="Enter"&&o(),n(T.target.value)},p.$$click=()=>o(),E.addEventListener("change",T=>{f(T.target.value,s())}),E.style.setProperty("max-width","350px"),u(U,(()=>{var T=q(()=>l.length>0);return()=>T()?`${l.length} Addresses Found`:r()?"No Addresses Found":"..."})()),u(E,d(Q,{get when(){return l.length>0},get children(){return d(he,{each:l,children:(T,S)=>(()=>{var I=ar();return u(I,()=>T.formatted_address.filter(Boolean).join(", ")),v(()=>I.value=S()),I})()})}}),null),u(c,d(Q,{get when(){return l.length>0},get children(){var T=nr(),S=T.firstChild,I=S.firstChild;return I.$$click=()=>o(!0),T}}),null),v(()=>m.value=s()),c})()}ie(["keyup","click"]);var or=g("<div class=field-group><a class=no-underline>Add Address Manually "),dr=g('<div class="main-content-stretch gap-2"><div class=sticky-top-buttons><button class=btn>← Cancel</button><button class=btn-good>Create Client</button></div><form><div class="sectioned-content w-full"><div class=form-section><div class=field-group><div class=py-2><label>First Name</label><input type=text></div><div class=py-2><label>Last Name</label><input type=text></div><div class=py-2><label>Business Name</label><input type=text></div></div></div><div class=form-section><div class=field-group><div class=py-2><label>Phone</label><input type=text></div><div class=py-2><label>Email Address</label><input type=text></div><div class=py-2><label>Alternative Phone</label><input type=text></div><div class=py-2><label>Alternative Email Address</label><input type=text></div></div><div class=form-section><div class=field-group><div class=checkbox><input type=checkbox id=add_client_phone_dnc name=add_client_phone_dnc><label for=add_client_phone_dnc>Do not send SMS updates or messages</label></div><div class=checkbox><input type=checkbox id=add_client_email_address_dnc name=add_client_email_address_dnc><label for=add_client_email_address_dnc>Do not send email updates or messages</label></div></div></div></div><div class=form-section><div><div class=field-group><div class=py-2><label>Building Number</label><input type=text></div><div class=py-2><label>Sub Building Number</label><input type=text></div><div class=py-2><label>Building Name</label><input type=text></div><div class=py-2><label>Sub Building Name</label><input type=text></div></div><div class=field-group><div class=py-2><label>Address Line 1</label><input type=text></div><div class=py-2><label>Address Line 2</label><input type=text></div><div class=py-2><label>Address Line 3</label><input type=text></div><div class=py-2><label>Locality</label><input type=text></div></div><div class=field-group><div class=py-2><label>Town / City</label><input type=text></div><div class=py-2><label>County</label><input type=text></div><div class=py-2><label>District</label><input type=text></div></div><div class=field-group><div class=py-2><label>Postcode</label><input type=text></div><div class=py-2><label>Country</label><input type=text>');function cr(){const e=W(ce),[t,l]=y(!1),[i,s]=y({business_name:"",first_name:"",last_name:"",phone:"",alt_phone:"",email_address:"",alt_email_address:"",phone_dnc:!1,email_address_dnc:!1}),[n,r]=y({building_number:"",sub_building_number:"",building_name:"",sub_building_name:"",address_line_1:"",address_line_2:"",address_line_3:"",locality:"",town_or_city:"",county:"",district:"",postcode:"",country:""});function a(){e.api.post("/clients/create",{fk_user_id:e.user().user_id,...i(),...n()}).then(o=>{o.ok?(e.showSuccessToast(o.message),e.navigator(`/clients/${o.data.client_id}`)):e.showErrorToast(o.message)})}return(()=>{var o=dr(),f=o.firstChild,c=f.firstChild,_=c.nextSibling,h=f.nextSibling,b=h.firstChild,$=b.firstChild,m=$.firstChild,p=m.firstChild,A=p.firstChild,k=A.nextSibling,C=p.nextSibling,E=C.firstChild,U=E.nextSibling,T=C.nextSibling,S=T.firstChild,I=S.nextSibling,M=$.nextSibling,w=M.firstChild,x=w.firstChild,L=x.firstChild,V=L.nextSibling,oe=x.nextSibling,ee=oe.firstChild,ne=ee.nextSibling,G=oe.nextSibling,F=G.firstChild,O=F.nextSibling,re=G.nextSibling,Y=re.firstChild,K=Y.nextSibling,N=w.nextSibling,D=N.firstChild,H=D.firstChild,J=H.firstChild,B=H.nextSibling,te=B.firstChild,le=M.nextSibling,de=le.firstChild,P=de.firstChild,R=P.firstChild,X=R.firstChild,j=X.nextSibling,ue=R.nextSibling,me=ue.firstChild,_e=me.nextSibling,be=ue.nextSibling,se=be.firstChild,pe=se.nextSibling,Se=be.nextSibling,Ue=Se.firstChild,Bt=Ue.nextSibling,jt=P.nextSibling,qt=jt.firstChild,Zl=qt.firstChild,Ht=Zl.nextSibling,Vt=qt.nextSibling,Yl=Vt.firstChild,Gt=Yl.nextSibling,Kt=Vt.nextSibling,Xl=Kt.firstChild,Zt=Xl.nextSibling,Jl=Kt.nextSibling,Ql=Jl.firstChild,Yt=Ql.nextSibling,Xt=jt.nextSibling,Jt=Xt.firstChild,ei=Jt.firstChild,Qt=ei.nextSibling,el=Jt.nextSibling,ti=el.firstChild,tl=ti.nextSibling,li=el.nextSibling,ii=li.firstChild,ll=ii.nextSibling,si=Xt.nextSibling,il=si.firstChild,ni=il.firstChild,sl=ni.nextSibling,ri=il.nextSibling,ai=ri.firstChild,nl=ai.nextSibling;return c.$$click=()=>e.navigator("/clients"),_.$$click=a,h.addEventListener("submit",Z=>{Z.preventDefault()}),k.$$keyup=Z=>{s({...i(),first_name:Z.target.value})},U.$$keyup=Z=>{s({...i(),last_name:Z.target.value})},I.$$keyup=Z=>{s({...i(),business_name:Z.target.value})},V.$$keyup=Z=>{s({...i(),phone:Z.target.value})},ne.$$keyup=Z=>{s({...i(),email_address:Z.target.value})},O.$$keyup=Z=>{s({...i(),alt_phone:Z.target.value})},K.$$keyup=Z=>{s({...i(),alt_email_address:Z.target.value})},J.addEventListener("change",Z=>s({...i(),phone_dnc:Z.target.checked})),te.addEventListener("change",Z=>s({...i(),email_address_dnc:Z.target.checked})),u(le,d(Q,{get when(){return e.enabledServices().includes("get_address")},get children(){return[d(Gl,{setAddress:r}),(()=>{var Z=or(),$t=Z.firstChild;return $t.firstChild,$t.$$click=oi=>{oi.preventDefault(),l(!t())},u($t,()=>t()?"▾":"▸",null),Z})()]}}),de),j.$$keyup=Z=>{r({...n(),building_number:Z.target.value})},_e.$$keyup=Z=>{r({...n(),sub_building_number:Z.target.value})},pe.$$keyup=Z=>{r({...n(),building_name:Z.target.value})},Bt.$$keyup=Z=>{r({...n(),sub_building_name:Z.target.value})},Ht.$$keyup=Z=>{r({...n(),address_line_1:Z.target.value})},Gt.$$keyup=Z=>{r({...n(),address_line_2:Z.target.value})},Zt.$$keyup=Z=>{r({...n(),address_line_3:Z.target.value})},Yt.$$keyup=Z=>{r({...n(),locality:Z.target.value})},Qt.$$keyup=Z=>{r({...n(),town_or_city:Z.target.value})},tl.$$keyup=Z=>{r({...n(),county:Z.target.value})},ll.$$keyup=Z=>{r({...n(),district:Z.target.value})},sl.$$keyup=Z=>{r({...n(),postcode:Z.target.value})},nl.$$keyup=Z=>{r({...n(),country:Z.target.value})},v(()=>de.className=e.enabledServices().includes("get_address")&&!t()?"hidden":"block"),v(()=>k.value=i().first_name),v(()=>U.value=i().last_name),v(()=>I.value=i().business_name),v(()=>V.value=i().phone),v(()=>ne.value=i().email_address),v(()=>O.value=i().alt_phone),v(()=>K.value=i().alt_email_address),v(()=>J.checked=i().phone_dnc),v(()=>te.checked=i().email_address_dnc),v(()=>j.value=n().building_number),v(()=>_e.value=n().sub_building_number),v(()=>pe.value=n().building_name),v(()=>Bt.value=n().sub_building_name),v(()=>Ht.value=n().address_line_1),v(()=>Gt.value=n().address_line_2),v(()=>Zt.value=n().address_line_3),v(()=>Yt.value=n().locality),v(()=>Qt.value=n().town_or_city),v(()=>tl.value=n().county),v(()=>ll.value=n().district),v(()=>sl.value=n().postcode),v(()=>nl.value=n().country),o})()}ie(["click","keyup"]);const lt=ke();function ur(){const e=W(ce),t=W(Ae),l=Al(),[i,s]=y(!1),[n,r]=y(!1),[a,o]=y({client_id:0,first_name:"",last_name:"",business_name:"",phone:"",email_address:"",alt_phone:"",alt_email_address:"",phone_dnc:!1,email_address_dnc:!1,__added_by:"",__created:""}),[f,c]=y([]);let _;function h(){e.api.get(`/workshop/get/client/${a().client_id}/tickets`).then(p=>{c(p.data)})}function b(){e.api.get("/clients/get/"+l.client_id).then(p=>{p.ok&&o({client_id:p.data.client_id,first_name:p.data.first_name,last_name:p.data.last_name,business_name:p.data.business_name,phone:p.data.phone,email_address:p.data.email_address,alt_phone:p.data.alt_phone,alt_email_address:p.data.alt_email_address,phone_dnc:p.data.phone_dnc,email_address_dnc:p.data.email_address_dnc,__added_by:p.data.__added_by,__created:p.data.__created}),h()})}function $(){s(!0),_&&clearTimeout(_),_=setTimeout(()=>{e.api.post("/clients/update/"+a().client_id,a()).then(p=>{s(!1)})},500)}function m(){e.api.get("/clients/delete/"+l.client_id).then(p=>{p.ok&&(t.deBounceGetPageClients(200,t.page(),t.limit(),t.clientsWhere()),e.showSuccessToast("Client Deleted"),e.navigator("/clients"))})}return ge(()=>{b()}),d(lt.Provider,{value:{savingClient:i,client:a,setClient:o,showAddress:n,setShowAddress:r,workshopTickets:f,setWorkshopTickets:c,saveClient:$,deleteClient:m},get children(){return d(ye,{})}})}var fr=g('<div class="flex flex-row flex-wrap gap-2 w-full mb-4"><div class=card-group-slim><div class=card-labelled-pill><div class=card-labelled-pill-label>Client ID</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Added By</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Created</div><div class=card-labelled-pill-text>');function vr(){const e=W(lt);return(()=>{var t=fr(),l=t.firstChild,i=l.firstChild,s=i.firstChild,n=s.nextSibling,r=i.nextSibling,a=r.firstChild,o=a.nextSibling,f=r.nextSibling,c=f.firstChild,_=c.nextSibling;return u(n,()=>e.client().client_id),u(o,()=>e.client().__added_by),u(_,()=>e.client().__created),t})()}var hr=g("<div class=field-group><div class=py-2><label>Building Number</label><input type=text></div><div class=py-2><label>Sub Building Number</label><input type=text></div><div class=py-2><label>Building Name</label><input type=text></div><div class=py-2><label>Sub Building Name</label><input type=text>"),_r=g("<div class=field-group><div class=py-2><label>Address Line 1</label><input type=text></div><div class=py-2><label>Address Line 2</label><input type=text></div><div class=py-2><label>Address Line 3</label><input type=text></div><div class=py-2><label>Locality</label><input type=text>"),pr=g("<div class=field-group><div class=py-2><label>Town / City</label><input type=text></div><div class=py-2><label>County</label><input type=text></div><div class=py-2><label>District</label><input type=text>"),gr=g("<div class=field-group><div class=py-2><label>Postcode</label><input type=text></div><div class=py-2><label>Country</label><input type=text>"),mr=g('<form><div class=form-section><div class=field-group><div class=py-2><label>First Name</label><input type=text></div><div class=py-2><label>Last Name</label><input type=text></div><div class=py-2><label>Business Name</label><input type=text></div></div></div><div class="form-section pb-0"><div class="field-group mb-2"><div class=py-2><label>Phone</label><input type=text></div><div class=py-2><label>Email Address</label><input type=text></div><div class=py-2><label>Alternative Phone</label><input type=text></div><div class=py-2><label>Alternative Email Address</label><input type=text></div></div><div class=form-section><div class=field-group><div class=checkbox><input type=checkbox id=add_client_phone_dnc name=add_client_phone_dnc><label for=add_client_phone_dnc>Do not send SMS updates or messages</label></div><div class=checkbox><input type=checkbox id=add_client_email_address_dnc name=add_client_email_address_dnc><label for=add_client_email_address_dnc>Do not send email updates or messages</label></div></div></div></div><div class=form-section><div class=field-group><div class="pb-4 w-full"><label>Address</label><input type=text class=w-full></div></div><div class=field-group><a class=no-underline>Show Address Fields ');function $r(){const e=W(lt);return(()=>{var t=mr(),l=t.firstChild,i=l.firstChild,s=i.firstChild,n=s.firstChild,r=n.nextSibling,a=s.nextSibling,o=a.firstChild,f=o.nextSibling,c=a.nextSibling,_=c.firstChild,h=_.nextSibling,b=l.nextSibling,$=b.firstChild,m=$.firstChild,p=m.firstChild,A=p.nextSibling,k=m.nextSibling,C=k.firstChild,E=C.nextSibling,U=k.nextSibling,T=U.firstChild,S=T.nextSibling,I=U.nextSibling,M=I.firstChild,w=M.nextSibling,x=$.nextSibling,L=x.firstChild,V=L.firstChild,oe=V.firstChild,ee=V.nextSibling,ne=ee.firstChild,G=b.nextSibling,F=G.firstChild,O=F.firstChild,re=O.firstChild,Y=re.nextSibling,K=F.nextSibling,N=K.firstChild;return N.firstChild,t.addEventListener("submit",D=>{D.preventDefault()}),r.$$keyup=D=>{e.setClient({...e.client(),first_name:D.target.value}),e.saveClient()},f.$$keyup=D=>{e.setClient({...e.client(),last_name:D.target.value}),e.saveClient()},h.$$keyup=D=>{e.setClient({...e.client(),business_name:D.target.value}),e.saveClient()},A.$$keyup=D=>{e.setClient({...e.client(),phone:D.target.value}),e.saveClient()},E.$$keyup=D=>{e.setClient({...e.client(),email_address:D.target.value})},S.$$keyup=D=>{e.setClient({...e.client(),alt_phone:D.target.value}),e.saveClient()},w.$$keyup=D=>{e.setClient({...e.client(),alt_email_address:D.target.value}),e.saveClient()},oe.addEventListener("change",D=>{e.setClient({...e.client(),phone_dnc:D.target.checked}),e.saveClient()}),ne.addEventListener("change",D=>{e.setClient({...e.client(),email_address_dnc:D.target.checked}),e.saveClient()}),Y.style.setProperty("max-width","600px"),Y.readOnly=!0,N.$$click=D=>{e.setShowAddress(!e.showAddress()),D.preventDefault()},u(N,()=>e.showAddress()?"▾":"▸",null),u(G,d(Q,{get when(){return e.showAddress()},get children(){return[(()=>{var D=hr(),H=D.firstChild,J=H.firstChild,B=J.nextSibling,te=H.nextSibling,le=te.firstChild,de=le.nextSibling,P=te.nextSibling,R=P.firstChild,X=R.nextSibling,j=P.nextSibling,ue=j.firstChild,me=ue.nextSibling;return B.$$keyup=_e=>{e.setClient({...e.client(),building_number:_e.target.value}),e.saveClient()},de.$$keyup=_e=>{e.setClient({...e.client(),sub_building_number:_e.target.value})},X.$$keyup=_e=>{e.setClient({...e.client(),building_name:_e.target.value}),e.saveClient()},me.$$keyup=_e=>{e.setClient({...e.client(),sub_building_name:_e.target.value}),e.saveClient()},v(()=>B.value=e.client().building_number),v(()=>de.value=e.client().sub_building_number),v(()=>X.value=e.client().building_name),v(()=>me.value=e.client().sub_building_name),D})(),(()=>{var D=_r(),H=D.firstChild,J=H.firstChild,B=J.nextSibling,te=H.nextSibling,le=te.firstChild,de=le.nextSibling,P=te.nextSibling,R=P.firstChild,X=R.nextSibling,j=P.nextSibling,ue=j.firstChild,me=ue.nextSibling;return B.$$keyup=_e=>{e.setClient({...e.client(),address_line_1:_e.target.value}),e.saveClient()},de.$$keyup=_e=>{e.setClient({...e.client(),address_line_2:_e.target.value})},X.$$keyup=_e=>{e.setClient({...e.client(),address_line_3:_e.target.value}),e.saveClient()},me.$$keyup=_e=>{e.setClient({...e.client(),locality:_e.target.value})},v(()=>B.value=e.client().address_line_1),v(()=>de.value=e.client().address_line_2),v(()=>X.value=e.client().address_line_3),v(()=>me.value=e.client().locality),D})(),(()=>{var D=pr(),H=D.firstChild,J=H.firstChild,B=J.nextSibling,te=H.nextSibling,le=te.firstChild,de=le.nextSibling,P=te.nextSibling,R=P.firstChild,X=R.nextSibling;return B.$$keyup=j=>{e.setClient({...e.client(),town_or_city:j.target.value}),e.saveClient()},de.$$keyup=j=>{e.setClient({...e.client(),county:j.target.value})},X.$$keyup=j=>{e.setClient({...e.client(),district:j.target.value}),e.saveClient()},v(()=>B.value=e.client().town_or_city),v(()=>de.value=e.client().county),v(()=>X.value=e.client().district),D})(),(()=>{var D=gr(),H=D.firstChild,J=H.firstChild,B=J.nextSibling,te=H.nextSibling,le=te.firstChild,de=le.nextSibling;return B.$$keyup=P=>{e.setClient({...e.client(),postcode:P.target.value}),e.saveClient()},de.$$keyup=P=>{e.setClient({...e.client(),country:P.target.value}),e.saveClient()},v(()=>B.value=e.client().postcode),v(()=>de.value=e.client().country),D})()]}}),null),v(()=>r.value=e.client().first_name),v(()=>f.value=e.client().last_name),v(()=>h.value=e.client().business_name),v(()=>A.value=e.client().phone),v(()=>E.value=e.client().email_address),v(()=>S.value=e.client().alt_phone),v(()=>w.value=e.client().alt_email_address),v(()=>oe.checked=e.client().phone_dnc),v(()=>ne.checked=e.client().email_address_dnc),v(()=>Y.value=e.client().__address),t})()}ie(["keyup","click"]);var br=g("<div class=card-section><small>Device(s)</small><div class=card-pill-group>"),yr=g("<div class=card-labelled-pill-device>"),kr=g("<div class=card-labelled-pill-text>"),xr=g("<div class=card-labelled-pill>"),Sr=g('<div class="card-labelled-pill-device border-r rounded-md">');function wr(e){const t=e.devices;return(()=>{var l=br(),i=l.firstChild,s=i.nextSibling;return u(s,d(he,{each:t,children:(n,r)=>(()=>{var a=xr();return u(a,d(Q,{get when(){return n.make!==""||n.model!==""},get fallback(){return(()=>{var o=Sr();return u(o,()=>n.type),o})()},get children(){return[(()=>{var o=yr();return u(o,()=>n.type),o})(),(()=>{var o=kr();return u(o,d(Q,{get when(){return n.make!==""},get children(){return n.make}}),null),u(o,d(Q,{get when(){return n.model!==""},get children(){return[q(()=>n.make!==""?" ":""),q(()=>n.model)]}}),null),o})()]}})),a})()})),l})()}var Cr=g("<div class=card-section><small>Item(s)</small><div class=card-pill-group>"),Ar=g('<div class=card-labelled-pill><div class="card-labelled-pill-text rounded-md border-r">');function Tr(e){const t=e.items;return(()=>{var l=Cr(),i=l.firstChild,s=i.nextSibling;return u(s,d(he,{each:t,children:(n,r)=>(()=>{var a=Ar(),o=a.firstChild;return u(o,()=>n.description),a})()})),l})()}var Pr=g("<div class=card-group>"),Er=g('<div class=card><div class=card-start><div class=card-group-slim><div class=card-labelled-pill><div class=card-labelled-pill-label>Status</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Tag</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Category</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Assigned To</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Created</div><div class=card-labelled-pill-text></div></div></div><div class="card-group mt-2"><div class=card-section><small>Client</small><p></p></div><div class=card-section><small>Contact</small><p></p></div></div><div class="card-group mb-2"><div class=card-section><small>Request</small><p></p></div></div></div><div class=card-end><div class="flex justify-end">');function Kl(e){const t=W(ce),l=e.ticket;return(()=>{var i=Er(),s=i.firstChild,n=s.firstChild,r=n.firstChild,a=r.firstChild,o=a.nextSibling,f=r.nextSibling,c=f.firstChild,_=c.nextSibling,h=f.nextSibling,b=h.firstChild,$=b.nextSibling,m=h.nextSibling,p=m.firstChild,A=p.nextSibling,k=m.nextSibling,C=k.firstChild,E=C.nextSibling,U=n.nextSibling,T=U.firstChild,S=T.firstChild,I=S.nextSibling,M=T.nextSibling,w=M.firstChild,x=w.nextSibling,L=U.nextSibling,V=L.firstChild,oe=V.firstChild,ee=oe.nextSibling,ne=s.nextSibling,G=ne.firstChild;return u(o,()=>t.statusCodeLookup(l.status_code).name),u(_,()=>l.workshop_tag),u($,()=>t.categoryCodeLookup(l.category_code)),u(A,()=>l.__assigned_to),u(E,()=>l.__created),u(I,()=>Hl(l.__client.business_name,l.__client.first_name,l.__client.last_name)),u(x,()=>Vl(l.__client.phone,l.__client.email_address,l.__client.alt_phone,l.__client.alt_email_address)),u(ee,()=>l.request),u(s,d(Q,{get when(){return l.__devices.length>0||l.__items.length>0},get children(){var F=Pr();return u(F,(()=>{var O=q(()=>l.__devices.length>0);return()=>O()?d(wr,{get devices(){return l.__devices}}):""})(),null),u(F,(()=>{var O=q(()=>l.__items.length>0);return()=>O()?d(Tr,{get items(){return l.__items}}):""})(),null),F}}),null),u(G,d(Te,{className:"btn-confirm",get href(){return"/workshop/ticket/"+l.workshop_tag},children:"Open"})),v(F=>Lt(o,t.statusCodeLookup(l.status_code).style,F)),i})()}function Ur(){const e=W(lt);return d(he,{get each(){return e.workshopTickets()},children:(t,l)=>d(Kl,{ticket:t})})}var Dr=g('<div class="flex flex-row gap-2 items-center px-4"> Saving...'),Wr=g('<div class="main-content-slim gap-2"><div class="field-group items-center sticky top-0"><button class=btn>← Back</button><button class=btn-danger>Delete Client</button></div><div class="sectioned-content w-full"></div><div class="sectioned-content flex flex-col w-full gap-2"><label>Tickets</label></div><dialog class=dialog><div class="dialog-content text-center"><p>Are you sure you would like to delete this client?</p><p>Please note that this action is irreversible.</p></div><div class=dialog-footer><button class=btn>Cancel</button><button class=btn-danger>Confirm Delete');function Mr(){const e=W(ce),t=W(Ae),l=W(lt);let i;return(()=>{var s=Wr(),n=s.firstChild,r=n.firstChild,a=r.nextSibling,o=n.nextSibling,f=o.nextSibling;f.firstChild;var c=f.nextSibling,_=c.firstChild,h=_.nextSibling,b=h.firstChild,$=b.nextSibling;r.$$click=()=>{t.deBounceGetPageClients(200,t.page(),t.limit(),t.clientsWhere()),e.navigator("/clients")},a.$$click=()=>{i.showModal()},u(n,d(Q,{get when(){return l.savingClient()},get children(){var p=Dr(),A=p.firstChild;return u(p,d(mt,{}),A),p}}),null),u(o,d(vr,{}),null),u(o,d($r,{}),null),u(f,d(Ur,{}),null);var m=i;return typeof m=="function"?Me(m,c):i=c,_.style.setProperty("height","100px"),b.$$click=()=>{i.close()},$.$$click=()=>{l.deleteClient()},s})()}ie(["click"]);var Lr=g('<div class="flex flex-col pb-4 gap-1"><div><label for=username class=select-none>Admin Username:</label><input class=mb-2 id=username type=text name=admin_username></div><div><label for=password class=select-none>Admin Password:</label><div class=inline-action-right><input id=password name=admin_password><div>'),zr=g('<div class="field-group p-2"><div class="py-2 w-full"><label for=get_address_api_key class=select-none>GetAddress API Key:</label><div class=inline-action-right><input id=get_address_api_key><div>'),Nr=g("<div class=attention><div class=pb-2><p><strong>GetAddress:</strong> UK Postcode lookup.</p></div><div class=field-group><div class=checkbox><input type=checkbox id=get_address_service name=get_address_service><label for=get_address_service>Enable GetAddress API Service"),Or=g('<div class="flex flex-col p-2"><div class=py-2><label for=zepto_sender class=select-none>Sender:</label><input id=zepto_sender type=text></div><div class=py-2><label for=zepto_api_url class=select-none>API URL:</label><input id=zepto_api_url type=text></div><div class=py-2><label for=zepto_token class=select-none>Token:</label><div class=inline-action-right><input id=zepto_token><div>'),Ir=g("<div class=attention><div class=pb-2><p><strong>Zepto:</strong> Transactional email.</p></div><div class=field-group><div class=checkbox><input type=checkbox id=zepto_service name=zepto_service><label for=zepto_service>Enable Zepto Service"),Rr=g('<div class="flex flex-col p-2"><div class=py-2><label for=smtp_server class=select-none>Server:</label><input id=smtp_server type=text></div><div class=py-2><label for=smtp_port class=select-none>Port:</label><input id=smtp_port type=number></div><div class=py-2><label for=smtp_username class=select-none>Username:</label><input id=smtp_username type=text></div><div class=py-2><label for=smtp_password class=select-none>Password:</label><div class=inline-action-right><input id=smtp_password><div>'),Fr=g("<div class=attention><div class=pb-2><p><strong>SMTP:</strong> Send email via smtp.</p></div><div class=field-group><div class=checkbox><input type=checkbox id=smtp_service name=smtp_service><label for=smtp_service>Enable SMTP Service"),Br=g("<div class=attention-danger>"),jr=g('<div class=install-background><div class=install-outer><div class=install-inner><form class="flex flex-col gap-4"><div class=install-form-group><p class="text-2xl pb-4">🤖 Track-a-tron Installer</p><div class=pb-4><div class="flex flex-col gap-1"><p class="text-lg pb-2">Services:</p></div></div></div><div class="flex flex-col gap-1"><input type=submit class=btn-confirm value=Install></div></form></div><div class="text-sm text-center text-gray-500 p-2"><p>Track-a-tron 1000');function qr(){const e=zt(),t=new Rl({navigator:e,apiUrl:Rt}),[l,i]=y(""),[s,n]=y(""),[r,a]=y(""),[o,f]=y(!1),[c,_]=y({api_key:"",administration_key:""}),[h,b]=y(!1),[$,m]=y(!1),[p,A]=y({sender:"",api_url:"",token:""}),[k,C]=y(!1),[E,U]=y(!1),[T,S]=y({username:"",password:"",server:"",port:0}),[I,M]=y(!1),[w,x]=y(!1);function L(){if(s().length<1){i("Admin username is required");return}if(r().length<1){i("Admin password is required");return}if(h()&&c().api_key.length<1){i("GetAddress API Key is required");return}if(k()){if(p().sender.length<1){i("Zepto sender is required");return}if(p().api_url.length<1){i("Zepto API URL is required");return}if(p().token.length<1){i("Zepto token is required");return}}if(I()){if(T().username.length<1){i("SMTP username is required");return}if(T().password.length<1){i("SMTP password is required");return}if(T().server.length<1){i("SMTP server is required");return}if(T().port<1){i("SMTP port is required");return}}t.post("/system/install",{admin_username:s(),admin_password:r(),services:{get_address:{enabled:h(),name:"get_address",category:"Postcode Lookup",data:c()},zepto:{enabled:k(),name:"zepto",category:"Transactional Email",data:p()},smtp:{enabled:I(),name:"smtp",category:"SMTP Email",data:T()}}}).then(F=>{F.ok?e("/login"):i(F.message)})}function V(){t.get("/system/auth/logout").then(F=>{})}ge(()=>{t.get("/system/checks").then(F=>{F.ok&&(F.data.system_setup?e("/login"):V())})});function oe(){return(()=>{var F=Lr(),O=F.firstChild,re=O.firstChild,Y=re.nextSibling,K=O.nextSibling,N=K.firstChild,D=N.nextSibling,H=D.firstChild,J=H.nextSibling;return Y.addEventListener("change",B=>n(B.target.value)),H.addEventListener("change",B=>a(B.target.value)),J.$$mouseup=()=>f(!1),J.$$mousedown=()=>f(!0),u(J,(()=>{var B=q(()=>!!o());return()=>B()?d(ze,{size:14}):d(Ne,{size:14})})()),v(()=>z(H,"type",o()?"text":"password")),v(()=>H.value=r()),F})()}function ee(){return(()=>{var F=Nr(),O=F.firstChild,re=O.nextSibling,Y=re.firstChild,K=Y.firstChild;return K.addEventListener("change",N=>b(N.target.checked)),u(F,d(Q,{get when(){return h()},get children(){var N=zr(),D=N.firstChild,H=D.firstChild,J=H.nextSibling,B=J.firstChild,te=B.nextSibling;return B.addEventListener("change",le=>_({...c(),api_key:le.target.value})),te.$$mouseup=()=>m(!1),te.$$mousedown=()=>m(!0),u(te,(()=>{var le=q(()=>!!$());return()=>le()?d(ze,{size:14}):d(Ne,{size:14})})()),v(()=>z(B,"type",$()?"text":"password")),v(()=>B.value=c().api_key),N}}),null),v(()=>K.checked=h()),F})()}function ne(){return(()=>{var F=Ir(),O=F.firstChild,re=O.nextSibling,Y=re.firstChild,K=Y.firstChild;return K.addEventListener("change",N=>C(N.target.checked)),u(F,d(Q,{get when(){return k()},get children(){var N=Or(),D=N.firstChild,H=D.firstChild,J=H.nextSibling,B=D.nextSibling,te=B.firstChild,le=te.nextSibling,de=B.nextSibling,P=de.firstChild,R=P.nextSibling,X=R.firstChild,j=X.nextSibling;return J.addEventListener("change",ue=>A({...p(),sender:ue.target.value})),le.addEventListener("change",ue=>A({...p(),api_url:ue.target.value})),X.addEventListener("change",ue=>A({...p(),token:ue.target.value})),j.$$mouseup=()=>U(!1),j.$$mousedown=()=>U(!0),u(j,(()=>{var ue=q(()=>!!E());return()=>ue()?d(ze,{size:14}):d(Ne,{size:14})})()),v(()=>z(X,"type",E()?"text":"password")),v(()=>J.value=p().sender),v(()=>le.value=p().api_url),v(()=>X.value=p().token),N}}),null),v(()=>K.checked=k()),F})()}function G(){return(()=>{var F=Fr(),O=F.firstChild,re=O.nextSibling,Y=re.firstChild,K=Y.firstChild;return K.addEventListener("change",N=>M(N.target.checked)),u(F,d(Q,{get when(){return I()},get children(){var N=Rr(),D=N.firstChild,H=D.firstChild,J=H.nextSibling,B=D.nextSibling,te=B.firstChild,le=te.nextSibling,de=B.nextSibling,P=de.firstChild,R=P.nextSibling,X=de.nextSibling,j=X.firstChild,ue=j.nextSibling,me=ue.firstChild,_e=me.nextSibling;return J.addEventListener("change",be=>S({...T(),server:be.target.value})),le.addEventListener("change",be=>S({...T(),port:be.target.value})),R.addEventListener("change",be=>S({...T(),username:be.target.value})),me.addEventListener("change",be=>S({...T(),password:be.target.value})),_e.$$mouseup=()=>x(!1),_e.$$mousedown=()=>x(!0),u(_e,(()=>{var be=q(()=>!!w());return()=>be()?d(ze,{size:14}):d(Ne,{size:14})})()),v(()=>z(me,"type",w()?"text":"password")),v(()=>J.value=T().server),v(()=>le.value=T().port),v(()=>R.value=T().username),v(()=>me.value=T().password),N}}),null),v(()=>K.checked=I()),F})()}return(()=>{var F=jr(),O=F.firstChild,re=O.firstChild,Y=re.firstChild,K=Y.firstChild,N=K.firstChild,D=N.nextSibling,H=D.firstChild;H.firstChild;var J=K.nextSibling,B=J.firstChild;return Y.addEventListener("submit",te=>{te.preventDefault()}),u(K,d(Q,{get when(){return l().length>0},get children(){var te=Br();return u(te,l),te}}),D),u(D,d(oe,{}),H),u(H,d(ee,{}),null),u(H,d(ne,{}),null),u(H,d(G,{}),null),B.$$click=()=>L(),F})()}ie(["mousedown","mouseup","click"]);var Hr=g('<div><h1 class="m-0 pb-2">🤖 Track-a-tron</h1><p class=font-bold>Track-a-tron is a simple system for tracking things.</p><p class=pt-2>View the project on <a target=_blank href=https://github.com/CheeseCake87/track-a-tron>GitHub</a></p><p class=pt-2><small>Version: </small></p><p><small>© 2024 David Carmichael, licensed under GNU AFFERO GENERAL PUBLIC LICENSE Version 3 (19 November 2007)</small></p><p><small>A copy of this license can be <a target=_blank href=https://github.com/CheeseCake87/track-a-tron/blob/main/LICENSE>found here');function Vr(){const e=W(ce),t=W(Ee);return ge(()=>{e.setMainMenuLocation("system"),t.setSystemSection("information")}),(()=>{var l=Hr(),i=l.firstChild,s=i.nextSibling,n=s.nextSibling,r=n.nextSibling,a=r.firstChild;return a.firstChild,u(a,()=>e.systemVersion(),null),l})()}var Gr=g('<div class="attention-danger -clickable"><p></p><p class=text-xs>Click to close'),Kr=g('<dialog><div class=py-2><label>User Type</label><select class=w-full></select></div><div class=py-2><label>Username</label><input type=text class=w-full></div><div class=py-2><label>Password</label><input type=password class=w-full></div><div class=py-2><label>Display Name</label><input type=text class=w-full></div><div class=pt-2><strong>Notifications</strong></div><div class=py-2><label>Email Address</label><input type=email class=w-full></div><div class=py-2><label>SMS</label><input type=text class=w-full></div><div class="flex flex-col gap-2 sticky bottom-0 mt-4"><div class="flex flex-row justify-between gap-2"><button class=btn>𝗑 Cancel</button><button class=btn-good>Create User'),Zr=g("<option>");function Yr(){const e=W(ce),t=W(Ee);function l(){e.api.post("/system/search/user",{where:{username:t.tempAddSystemUser().username}}).then(i=>{if(i.ok){t.setSystemUsersDialogError("Username already exists, please choose another");return}if(t.tempAddSystemUser().username===""){t.setSystemUsersDialogError("Username cannot be blank");return}if(t.tempAddSystemUser().password===""){t.setSystemUsersDialogError("Password cannot be blank");return}if(t.tempAddSystemUser().password.length<8){t.setSystemUsersDialogError("Password must be at least 8 characters");return}if(t.tempAddSystemUser().display_name===""){t.setSystemUsersDialogError("Display name cannot be blank");return}e.api.post("/system/create/user",t.tempAddSystemUser()).then(s=>{s.ok?(t.setSystemUsersDialogError(""),t.setTempAddSystemUser(t.blankSystemUser),t.refSystemUserAddDialog.close(),t.getAllSystemUsers(),e.showSuccessToast("User created")):(t.setSystemUsersDialogError(""),t.setTempAddSystemUser(t.blankSystemUser),t.refSystemUserAddDialog.close(),t.setSystemUsersDialogError(`Error creating user ${s.message}`))})})}return(()=>{var i=Kr(),s=i.firstChild,n=s.firstChild,r=n.nextSibling,a=s.nextSibling,o=a.firstChild,f=o.nextSibling,c=a.nextSibling,_=c.firstChild,h=_.nextSibling,b=c.nextSibling,$=b.firstChild,m=$.nextSibling,p=b.nextSibling,A=p.nextSibling,k=A.firstChild,C=k.nextSibling,E=A.nextSibling,U=E.firstChild,T=U.nextSibling,S=E.nextSibling,I=S.firstChild,M=I.firstChild,w=M.nextSibling,x=t.refSystemUserAddDialog;return typeof x=="function"?Me(x,i):t.refSystemUserAddDialog=i,r.addEventListener("change",L=>{t.setTempAddSystemUser({...t.tempAddSystemUser(),user_type:L.target.value})}),u(r,d(he,{get each(){return t.systemUserTypes},children:L=>(()=>{var V=Zr();return V.value=L,u(V,L),V})()})),f.$$keyup=L=>{t.setTempAddSystemUser({...t.tempAddSystemUser(),username:L.target.value})},h.$$keyup=L=>{t.setTempAddSystemUser({...t.tempAddSystemUser(),password:L.target.value})},m.$$keyup=L=>{t.setTempAddSystemUser({...t.tempAddSystemUser(),display_name:L.target.value})},C.$$keyup=L=>{t.setTempAddSystemUser({...t.tempAddSystemUser(),email:L.target.value})},T.$$keyup=L=>{t.setTempAddSystemUser({...t.tempAddSystemUser(),sms:L.target.value})},u(S,d(Q,{get when(){return t.systemUsersDialogError()!==""},get children(){var L=Gr(),V=L.firstChild;return L.$$click=()=>{t.setSystemUsersDialogError("")},u(V,()=>t.systemUsersDialogError()),L}}),I),M.$$click=()=>{t.setSystemUsersDialogError(""),t.setTempAddSystemUser(t.blankSystemUser),t.refSystemUserAddDialog.close()},w.$$click=()=>{l()},v(()=>f.value=t.tempAddSystemUser().username),v(()=>h.value=t.tempAddSystemUser().password),v(()=>m.value=t.tempAddSystemUser().display_name),v(()=>C.value=t.tempAddSystemUser().email),v(()=>T.value=t.tempAddSystemUser().sms),i})()}ie(["keyup","click"]);var Xr=g('<div class="attention-danger -clickable"><p></p><p class=text-xs>Click to close'),Jr=g('<dialog><div class=py-2><label>User Type</label><select class=w-full></select></div><div class=py-2><label>Username</label><input type=text class=w-full></div><div class=py-2><label>Display Name</label><input type=text class=w-full></div><div class=pt-2><strong>Notifications</strong></div><div class=py-2><label>Email Address</label><input type=email class=w-full></div><div class=py-2><label>SMS</label><input type=text class=w-full></div><div class="flex flex-col gap-2 sticky bottom-0 mt-4"><div class="flex flex-row justify-between gap-2"><button class=btn>𝗑 Cancel</button><button class=btn-good>Update User'),Qr=g("<option>");function ea(){const e=W(ce),t=W(Ee);function l(){if(t.tempEditSystemUser().username===""){t.setSystemUsersDialogError("Username cannot be blank");return}if(t.tempEditSystemUser().display_name===""){t.setSystemUsersDialogError("Display name cannot be blank");return}e.api.post("/system/search/user",{where:{username:t.tempEditSystemUser().username}}).then(i=>{if(i.ok){if(i.data.user_id!==t.tempEditSystemUser().user_id){t.setSystemUsersDialogError("Username already exists, please choose another");return}e.api.post(`/system/update/user/${t.tempEditSystemUser().user_id}`,{username:t.tempEditSystemUser().username,display_name:t.tempEditSystemUser().display_name,email:t.tempEditSystemUser().email,sms:t.tempEditSystemUser().sms,user_type:t.tempEditSystemUser().user_type}).then(s=>{s.ok?(t.setSystemUsersDialogError(""),t.setTempEditSystemUser(t.blankSystemUser),t.refSystemUserEditDialog.close(),t.getAllSystemUsers(),e.showSuccessToast("User updated")):t.setSystemUsersDialogError(`Error updating user ${s.message}`)})}})}return(()=>{var i=Jr(),s=i.firstChild,n=s.firstChild,r=n.nextSibling,a=s.nextSibling,o=a.firstChild,f=o.nextSibling,c=a.nextSibling,_=c.firstChild,h=_.nextSibling,b=c.nextSibling,$=b.nextSibling,m=$.firstChild,p=m.nextSibling,A=$.nextSibling,k=A.firstChild,C=k.nextSibling,E=A.nextSibling,U=E.firstChild,T=U.firstChild,S=T.nextSibling,I=t.refSystemUserEditDialog;return typeof I=="function"?Me(I,i):t.refSystemUserEditDialog=i,r.addEventListener("change",M=>{t.setTempEditSystemUser({...t.tempEditSystemUser(),user_type:M.target.value})}),u(r,d(he,{get each(){return t.systemUserTypes},children:M=>(()=>{var w=Qr();return w.value=M,u(w,M),v(()=>w.selected=t.tempEditSystemUser().user_type===M),w})()})),f.$$keyup=M=>{t.setTempEditSystemUser({...t.tempEditSystemUser(),username:M.target.value})},h.$$keyup=M=>{t.setTempEditSystemUser({...t.tempEditSystemUser(),display_name:M.target.value})},p.$$keyup=M=>{t.setTempEditSystemUser({...t.tempEditSystemUser(),email:M.target.value})},C.$$keyup=M=>{t.setTempEditSystemUser({...t.tempEditSystemUser(),sms:M.target.value})},u(E,d(Q,{get when(){return t.systemUsersDialogError()!==""},get children(){var M=Xr(),w=M.firstChild;return M.$$click=()=>{t.setSystemUsersDialogError("")},u(w,()=>t.systemUsersDialogError()),M}}),U),T.$$click=()=>{t.setSystemUsersDialogError(""),t.setTempEditSystemUser(t.blankSystemUser),t.refSystemUserEditDialog.close()},S.$$click=()=>{l()},v(()=>r.disabled=t.tempEditSystemUser().user_id===1),v(()=>f.value=t.tempEditSystemUser().username),v(()=>h.value=t.tempEditSystemUser().display_name),v(()=>p.value=t.tempEditSystemUser().email),v(()=>C.value=t.tempEditSystemUser().sms),i})()}ie(["keyup","click"]);var ta=g('<div class="attention-danger -clickable">'),la=g('<dialog><div class=py-2><label>New Password</label><input type=password class=w-full></div><div class="flex flex-col gap-2 sticky bottom-0 pb-2"><div class="flex flex-row justify-between mt-4"><button class=btn>𝗑 Cancel</button><button class=btn-good>Set Password');function ia(){const e=W(ce),t=W(Ee);function l(){e.api.post(`/system/update/user/${t.systemUserSelected()}/password`,{new_password:t.resetSystemUserPassword(),forced:!0}).then(i=>{i.ok?(t.refSystemUserResetPasswordDialog.close(),t.setSystemUsersDialogError(""),t.setResetSystemUserPassword("")):t.setSystemUsersDialogError(`Error updating password (${rpc.message})`)})}return(()=>{var i=la(),s=i.firstChild,n=s.firstChild,r=n.nextSibling,a=s.nextSibling,o=a.firstChild,f=o.firstChild,c=f.nextSibling,_=t.refSystemUserResetPasswordDialog;return typeof _=="function"?Me(_,i):t.refSystemUserResetPasswordDialog=i,r.$$keyup=h=>{t.setResetSystemUserPassword(h.target.value)},u(a,d(Q,{get when(){return t.systemUsersDialogError()!==""},get children(){var h=ta();return h.$$click=()=>{t.setSystemUsersDialogError("")},u(h,()=>t.systemUsersDialogError()),h}}),o),f.$$click=()=>{t.setSystemUsersDialogError(""),t.setResetSystemUserPassword(""),t.refSystemUserResetPasswordDialog.close()},c.$$click=()=>{l(),e.showSuccessToast("User's password set")},v(()=>r.value=t.resetSystemUserPassword()),i})()}ie(["keyup","click"]);var sa=g('<div class="attention-danger -clickable"><p></p><p class=text-xs>Click to close'),na=g('<dialog><div class="flex flex-col gap-2 sticky top-0 pb-2"><div><p>Are you sure you want to delete the following account?</p><p class="p-4 font-bold text-lg"> (<!>)</p></div><div class="flex flex-row justify-between gap-2"><button class="btn-danger w-full">YES, DELETE</button><button class="btn w-full">NO');function ra(){const e=W(ce),t=W(Ee);function l(){e.api.get(`/system/delete/user
            /${t.tempDeleteSystemUser().username}
            /${t.tempDeleteSystemUser().user_id}`).then(i=>{i.ok?(t.setSystemUsersDialogError(""),t.setTempDeleteSystemUser(t.blankSystemUser),t.refSystemUserDeleteDialog.close(),t.getAllSystemUsers(),e.showSuccessToast("User deleted")):t.setSystemUsersDialogError(`Error deleting user (${rpc.message})`)})}return(()=>{var i=na(),s=i.firstChild,n=s.firstChild,r=n.firstChild,a=r.nextSibling,o=a.firstChild,f=o.nextSibling;f.nextSibling;var c=n.nextSibling,_=c.firstChild,h=_.nextSibling,b=t.refSystemUserDeleteDialog;return typeof b=="function"?Me(b,i):t.refSystemUserDeleteDialog=i,u(a,()=>t.tempDeleteSystemUser().display_name,o),u(a,()=>t.tempDeleteSystemUser().username,f),u(s,d(Q,{get when(){return t.systemUsersDialogError()!==""},get children(){var $=sa(),m=$.firstChild;return $.$$click=()=>{t.setSystemUsersDialogError("")},u(m,()=>t.systemUsersDialogError()),$}}),c),_.$$click=()=>{l()},h.$$click=()=>{t.setSystemUsersDialogError(""),t.setTempEditSystemUser(t.blankSystemUser),t.refSystemUserDeleteDialog.close()},i})()}ie(["click"]);var aa=g("<div class=system-users-header><button class=btn-good>+ Add User"),oa=g("<div class=system-users>"),da=g("<div class=system-user><div class=system-user-info><div class=system-user-info-group><div><small>ID</small><p class=text-lg></p></div><div><small>User Type</small><p class=text-lg></p></div><div><small>Username</small><p class=text-lg></p></div><div><small>Display Name</small><p class=text-lg></p></div></div><div class=system-user-info-group><div><small>Email Address</small><p class=text-lg></p></div><div><small>SMS</small><p class=text-lg></p></div></div></div><div class=system-user-buttons><button class=btn>Edit</button><button class=btn>Reset Password</button><button class=btn-danger>Delete");function ca(){const e=W(ce),t=W(Ee);return ge(()=>{e.setMainMenuLocation("system"),t.setSystemSection("users"),t.getAllSystemUsers()}),[(()=>{var l=aa(),i=l.firstChild;return i.$$click=()=>{t.setSystemUsersDialogError(""),t.setTempAddSystemUser(t.blankSystemUser),t.refSystemUserAddDialog.showModal()},l})(),(()=>{var l=oa();return u(l,d(he,{get each(){return t.systemUsers()},children:i=>(()=>{var s=da(),n=s.firstChild,r=n.firstChild,a=r.firstChild,o=a.firstChild,f=o.nextSibling,c=a.nextSibling,_=c.firstChild,h=_.nextSibling,b=c.nextSibling,$=b.firstChild,m=$.nextSibling,p=b.nextSibling,A=p.firstChild,k=A.nextSibling,C=r.nextSibling,E=C.firstChild,U=E.firstChild,T=U.nextSibling,S=E.nextSibling,I=S.firstChild,M=I.nextSibling,w=n.nextSibling,x=w.firstChild,L=x.nextSibling,V=L.nextSibling;return u(f,()=>i.user_id),u(h,()=>i.user_type),u(m,()=>i.username),u(k,()=>i.display_name),u(T,()=>i.email?i.email:"-"),u(M,()=>i.sms?i.sms:"-"),x.$$click=()=>{t.setSystemUserSelected(i.user_id),t.setTempEditSystemUser({...i}),t.refSystemUserEditDialog.showModal()},L.$$click=()=>{t.setSystemUserSelected(i.user_id),t.setResetSystemUserPassword(""),t.refSystemUserResetPasswordDialog.showModal()},V.$$click=()=>{t.setSystemUserSelected(i.user_id),t.setTempDeleteSystemUser({...i}),t.refSystemUserDeleteDialog.showModal()},v(()=>V.disabled=i.user_id===1),s})()})),l})(),d(Yr,{}),d(ea,{}),d(ia,{}),d(ra,{})]}ie(["click"]);var ua=g('<div class="field-group p-2"><div class="py-2 w-full"><label for=get_address_api_key class=select-none>GetAddress API Key:</label><div class=inline-action-right><input id=get_address_api_key><div>'),fa=g('<div class=system-service><div class=pb-2><p><strong>GetAddress:</strong> UK Postcode lookup.</p></div><div class=field-group><div class=checkbox><input type=checkbox id=get_address_service name=get_address_service><label for=get_address_service>Enable GetAddress API Service</label></div></div><button class="btn-confirm mt-2">Update'),va=g('<div class="flex flex-col p-2"><div class=py-2><label for=zepto_sender class=select-none>Sender:</label><input id=zepto_sender type=text class=w-full></div><div class=py-2><label for=zepto_api_url class=select-none>API URL:</label><input id=zepto_api_url type=text class=w-full></div><div class=py-2><label for=zepto_token class=select-none>Token:</label><div class=inline-action-right><input id=zepto_token><div>'),ha=g('<div class=system-service><div class=pb-2><p><strong>Zepto:</strong> Transactional email.</p></div><div class=field-group><div class=checkbox><input type=checkbox id=zepto_service name=zepto_service><label for=zepto_service>Enable Zepto Service</label></div></div><button class="btn-confirm mt-2">Update'),_a=g('<div class="flex flex-col p-2"><div class=py-2><label for=smtp_server class=select-none>Server:</label><input id=smtp_server type=text class=w-full></div><div class=py-2><label for=smtp_port class=select-none>Port:</label><input id=smtp_port type=number class=w-full></div><div class=py-2><label for=smtp_username class=select-none>Username:</label><input id=smtp_username type=text class=w-full></div><div class=py-2><label for=smtp_password class=select-none>Password:</label><div class=inline-action-right><input id=smtp_password><div>'),pa=g('<div class=system-service><div class=pb-2><p><strong>SMTP:</strong> Send email via smtp.</p></div><div class=field-group><div class=checkbox><input type=checkbox id=smtp_service name=smtp_service><label for=smtp_service>Enable SMTP Service</label></div></div><button class="btn-confirm mt-2">Update'),ga=g('<div class="flex flex-col gap-2 w-100">');function ma(){const e=W(ce),t=W(Ee),[l,i]=y({api_key:"",administration_key:""}),[s,n]=y(!1),[r,a]=y(!1),[o,f]=y({sender:"",api_url:"",token:""}),[c,_]=y(!1),[h,b]=y(!1),[$,m]=y({username:"",password:"",server:"",port:0}),[p,A]=y(!1),[k,C]=y(!1);function E(){e.api.get("/system/get/enabled/services").then(x=>{x.ok?e.setEnabledServices(x.data):e.showErrorToast(x.message)})}function U(){if(s()&&l().api_key===""){e.showErrorToast("GetAddress API Key is required.");return}e.api.post("/system/update/service",{name:"get_address",data:l(),enabled:s()}).then(x=>{x.ok?(e.showSuccessToast("GetAddress service updated."),E()):e.showErrorToast("There was an error updating the GetAddress service.")})}function T(){if(c()){if(o().api_url===""){e.showErrorToast("Zepto API URL is required.");return}if(o().sender===""){e.showErrorToast("Zepto Sender is required.");return}if(o().token===""){e.showErrorToast("Zepto Token is required.");return}}e.api.post("/system/update/service",{name:"zepto",data:o(),enabled:c()}).then(x=>{x.ok?(e.showSuccessToast("Zepto service updated."),E()):e.showErrorToast("There was an error updating the Zepto service.")})}function S(){if(p()){if($().server===""){e.showErrorToast("SMTP Server is required.");return}if($().port===0){e.showErrorToast("SMTP Port is required.");return}if($().username===""){e.showErrorToast("SMTP Username is required.");return}if($().password===""){e.showErrorToast("SMTP Password is required.");return}}e.api.post("/system/update/service",{name:"smtp",data:$(),enabled:p()}).then(x=>{x.ok?(e.showSuccessToast("SMTP service updated."),E()):e.showErrorToast("There was an error updating the SMTP service.")})}function I(){return(()=>{var x=fa(),L=x.firstChild,V=L.nextSibling,oe=V.firstChild,ee=oe.firstChild,ne=V.nextSibling;return ee.addEventListener("change",G=>n(G.target.checked)),u(x,d(Q,{get when(){return s()},get children(){var G=ua(),F=G.firstChild,O=F.firstChild,re=O.nextSibling,Y=re.firstChild,K=Y.nextSibling;return Y.addEventListener("change",N=>i({...l(),api_key:N.target.value})),K.$$mouseup=()=>a(!1),K.$$mousedown=()=>a(!0),u(K,(()=>{var N=q(()=>!!r());return()=>N()?d(ze,{size:14}):d(Ne,{size:14})})()),v(()=>z(Y,"type",r()?"text":"password")),v(()=>Y.value=l().api_key),G}}),ne),ne.$$click=()=>U(),v(()=>ee.checked=s()),x})()}function M(){return(()=>{var x=ha(),L=x.firstChild,V=L.nextSibling,oe=V.firstChild,ee=oe.firstChild,ne=V.nextSibling;return ee.addEventListener("change",G=>_(G.target.checked)),u(x,d(Q,{get when(){return c()},get children(){var G=va(),F=G.firstChild,O=F.firstChild,re=O.nextSibling,Y=F.nextSibling,K=Y.firstChild,N=K.nextSibling,D=Y.nextSibling,H=D.firstChild,J=H.nextSibling,B=J.firstChild,te=B.nextSibling;return re.addEventListener("change",le=>f({...o(),sender:le.target.value})),N.addEventListener("change",le=>f({...o(),api_url:le.target.value})),B.addEventListener("change",le=>f({...o(),token:le.target.value})),te.$$mouseup=()=>b(!1),te.$$mousedown=()=>b(!0),u(te,(()=>{var le=q(()=>!!h());return()=>le()?d(ze,{size:14}):d(Ne,{size:14})})()),v(()=>z(B,"type",h()?"text":"password")),v(()=>re.value=o().sender),v(()=>N.value=o().api_url),v(()=>B.value=o().token),G}}),ne),ne.$$click=()=>T(),v(()=>ee.checked=c()),x})()}function w(){return(()=>{var x=pa(),L=x.firstChild,V=L.nextSibling,oe=V.firstChild,ee=oe.firstChild,ne=V.nextSibling;return ee.addEventListener("change",G=>A(G.target.checked)),u(x,d(Q,{get when(){return p()},get children(){var G=_a(),F=G.firstChild,O=F.firstChild,re=O.nextSibling,Y=F.nextSibling,K=Y.firstChild,N=K.nextSibling,D=Y.nextSibling,H=D.firstChild,J=H.nextSibling,B=D.nextSibling,te=B.firstChild,le=te.nextSibling,de=le.firstChild,P=de.nextSibling;return re.addEventListener("change",R=>m({...$(),server:R.target.value})),N.addEventListener("change",R=>m({...$(),port:R.target.value})),J.addEventListener("change",R=>m({...$(),username:R.target.value})),de.addEventListener("change",R=>m({...$(),password:R.target.value})),P.$$mouseup=()=>C(!1),P.$$mousedown=()=>C(!0),u(P,(()=>{var R=q(()=>!!k());return()=>R()?d(ze,{size:14}):d(Ne,{size:14})})()),v(()=>z(de,"type",k()?"text":"password")),v(()=>re.value=$().server),v(()=>N.value=$().port),v(()=>J.value=$().username),v(()=>de.value=$().password),G}}),ne),ne.$$click=()=>S(),v(()=>ee.checked=p()),x})()}return Pe(()=>{t.systemSection()==="services"&&e.api.get("/system/services").then(x=>{if(x.ok)for(let L of x.data)L.name==="get_address"&&(i(L.data),n(L.enabled)),L.name==="zepto"&&(f(L.data),_(L.enabled)),L.name==="smtp"&&(m(L.data),A(L.enabled))})}),ge(()=>{e.setMainMenuLocation("system"),t.setSystemSection("services")}),(()=>{var x=ga();return u(x,d(I,{}),null),u(x,d(M,{}),null),u(x,d(w,{}),null),x})()}ie(["mousedown","mouseup","click"]);const $a=ke();function ba(){const e=W(ce);return ge(()=>{e.loggedIn()&&e.navigator("/")}),d($a.Provider,{value:{},get children(){return d(ye,{})}})}const ya=ke();function Ge(){const e=W(ce);return ge(()=>{e.loggedIn()||e.navigator("/login")}),d(ya.Provider,{value:{},get children(){return d(ye,{})}})}const ka=ke();function xa(){const e=W(ce);return ge(()=>{e.userType()!=="admin"&&e.loggedIn()&&(e.navigator("/"),e.showErrorToast("You must be an admin to access this page"))}),d(ka.Provider,{value:{},get children(){return d(ye,{})}})}var Sa=g("<div class=system-users>"),wa=g("<div class=system-user>No logs found"),Ca=g("<div class=system-user>");function Aa(){const e=W(ce),t=W(Ee);return ge(()=>{e.setMainMenuLocation("system"),t.setSystemSection("logs"),t.getAllSystemLogs()}),(()=>{var l=Sa();return u(l,d(Q,{get when(){return t.systemLogs()},get fallback(){return wa()},get children(){return d(he,{get each(){return t.systemLogs()},children:i=>(()=>{var s=Ca();return u(s,i),s})()})}})),l})()}const xe=ke();function Ta(){const e=W(ce),[t,l]=y("cards"),[i,s]=y(!0),[n,r]=y(!1),[a,o]=Ft([]),[f,c]=y(0),[_,h]=y(0),[b,$]=y(1),[m,p]=y(25),[A,k]=y(),[C,E]=y(200),[U,T]=y({}),[S,I]=y({}),[M,w]=y({}),[x,L]=y({}),[V,oe]=y([]),ee=P=>{k(window.innerHeight)};let ne,G;function F(P,R,X){let j="";return R&&(j=R),X&&(R?j+=" "+X:j=X),P?j!==""?j+" ("+P+")":P:j}function O(P,R,X,j){let ue=[];return P&&ue.push(P),R&&ue.push(R),X&&ue.push(X),j&&ue.push(j),ue.join(", ")}function re(P,R){let X="";return P&&(X=P),R&&(P?X+=" "+R:X=R),X}function Y(P,R){R===""||R===0||R==="0"?M().hasOwnProperty(P)&&(delete M()[P],w({...M()})):w({...M(),[P]:R})}function K(P,R){if(M().hasOwnProperty("_in")&&M()._in.hasOwnProperty(P)&&M()._in[P].includes(R))return!0}function N(P,R){M().hasOwnProperty("_in")?M()._in.hasOwnProperty(P)?M()._in[P].includes(R)||w({...M(),_in:{...M()._in,[P]:[...M()._in[P],R]}}):w({...M(),_in:{...M()._in,[P]:[R]}}):w({...M(),_in:{[P]:[R]}})}function D(P,R){if(M().hasOwnProperty("_in")&&M()._in.hasOwnProperty(P)&&M()._in[P].includes(R)){const X=M()._in[P].filter(j=>j!==R);w({...M(),_in:{...M()._in,[P]:X}})}}function H(){e.api.get("/system/get/active/users").then(P=>{P.ok?oe(P.data):e.showErrorToast("Error fetching users. "+P.message)})}function J(P){$(1),p(P)}function B(P){return{workshop_tag:"Tag",status_code:"Status",category_code:"Category",fk_assigned_user_id:"Assigned To",date_from:"Date From",date_to:"Date To",date_on:"Date On"}[P]}function te(){const P=document.getElementById("ticketsTableOverflow");P&&(P.scrollTop=0)}function le(P,R,X,j){r(!0),clearTimeout(G),G=setTimeout(()=>{e.api.post("/workshop/paged",{page:R,limit:X,where:j}).then(ue=>{ue.ok?(c(ue.data.total_tickets),h(ue.data.total_pages),o(ue.data.tickets),r(!1),te(),i()&&s(!1)):(c(0),h(0),o([]),r(!1),i()&&s(!1))}),I(j)},P)}function de(P){const R={};for(let[X,j]of Object.entries(P))switch(X){case"status_code":dt.hasOwnProperty(j)?R[B(X)]=dt[j].name:R[B(X)]="Error";break;case"category_code":ct.hasOwnProperty(j)?R[B(X)]=ct[j]:R[B(X)]="Error";break;case"fk_assigned_user_id":const ue=V().find(me=>me.user_id===parseInt(j));R[B(X)]=ue?ue.display_name:"Error";break;default:R[B(X)]=j}return{...R}}return Pe(()=>{E(A()-150-(Object.keys(x()).length>0?45:0))}),Pe(()=>{le(200,b(),m(),U())}),Pe(()=>{L(de(S()?S():{}))}),ge(()=>{e.loggedIn()?(window.addEventListener("resize",ee),k(window.innerHeight),E(A()-150),le(200,b(),m(),U()),H()):e.navigator("/login")}),Fe(()=>{window.removeEventListener("resize",ee)}),d(xe.Provider,{value:{workshopLayout:t,setWorkshopLayout:l,users:V,setUsers:oe,loadingTickets:i,setLoadingTickets:s,smallLoadingTickets:n,setSmallLoadingTickets:r,tickets:a,setTickets:o,totalTickets:f,setTotalTickets:c,totalPages:_,setTotalPages:h,page:b,setPage:$,limit:m,setLimit:p,ticketsWhere:U,setTicketsWhere:T,ticketsWhereAnnex:S,setTicketsWhereAnnex:I,ticketsTempWhere:M,setTicketsTempWhere:w,ticketsWherePills:x,setTicketsWherePills:L,ticketsTempWhereValue:Y,windowHeight:A,setWindowHeight:k,ticketsInnerTableHeight:C,setTicketsInnerTableHeight:E,deBounceGetPageTickets:le,checkTempWhereIn:K,setTempWhereIn:N,unsetTempWhereIn:D,changeLimit:J,displayName:F,displayContact:O,displayDevice:re,getAllActiveUsers:H,dialogFilterTicketsRef:ne},get children(){return d(ye,{})}})}const Le=ke();function Pa(){const e=W(ce),t=W(xe),l={business_name:"",first_name:"",last_name:"",phone:"",alt_phone:"",email_address:"",alt_email_address:"",phone_dnc:!1,email_address_dnc:!1},i={building_number:"",sub_building_number:"",building_name:"",sub_building_name:"",address_line_1:"",address_line_2:"",address_line_3:"",locality:"",town_or_city:"",county:"",district:"",postcode:"",country:""},s={type:"Select...",make:"",model:"",password:""},n={description:""},r={any_name:"",any_phone:"",any_email:"",postcode:""},[a,o]=y({}),[f,c]=y(r),[_,h]=y(0),[b,$]=y(""),[m,p]=y(!1),[A,k]=y([]),[C,E]=y(!1),[U,T]=y(!1),[S,I]=y(l),[M,w]=y(i),[x,L]=y(s),[V,oe]=y(n),[ee,ne]=y(""),[G,F]=y(1),[O,re]=y(1),[Y,K]=y([]),[N,D]=y([]);function H(){h(0),$(""),E(!0),p(!1),k([]),c(r)}function J(se){const pe=t.displayName(se.business_name,se.first_name,se.last_name),Se=t.displayContact(se.phone,se.email_address,se.alt_phone,se.alt_email_address),Ue=se.__address;return`${pe||"-"} | ${Se||"-"} | ${Ue}`}function B(se){h(se.client_id),$(J(se))}function te(){const se={__limit__:10};f().any_name!==""&&(se.any_name=f().any_name),f().any_phone!==""&&(se.any_phone=f().any_phone),f().any_email!==""&&(se.any_email=f().any_email),f().postcode!==""&&(se.postcode=f().postcode),e.api.post("/clients/search",{where:se}).then(pe=>{pe.ok?(k(pe.data),p(!0)):(p(!0),k([]))})}function le(){Y().length===0?K([{...s}]):K([...Y(),{...s}])}function de(se,pe,Se){const Ue=[...Y()];Ue[se][pe]=Se,K(Ue)}function P(se){const pe=[...Y()];pe.splice(se,1),K(pe)}function R(){N().length===0?D([{...n}]):D([...N(),{...n}])}function X(se,pe,Se){const Ue=[...N()];Ue[se][pe]=Se,D(Ue)}function j(se){const pe=[...N()];pe.splice(se,1),D(pe)}function ue(se,pe){c({...f(),[se]:pe})}function me(){e.api.post("/clients/create",{fk_user_id:e.userId(),...S(),...M()}).then(se=>{se.ok?(e.showSuccessToast(se.message),B(se.data)):e.showErrorToast(se.message)})}function _e(){const se=t.displayName(S().business_name,S().first_name,S().last_name);if(C()){if(se==="")return[!1,"Client name or business name is required"];if(S().phone===""&&S().email_address==="")return[!1,"Client phone or email is required"]}else{if(!m())return[!1,"You must search for a client"];if(_()===0)return[!1,"You must select a client from the client search results"]}return ee()===""?[!1,"You must enter a request"]:[!0,""]}function be(){const[se,pe]=_e();if(!se){e.showErrorToast(pe);return}e.api.post("/workshop/create/ticket",{ticket:{user_id:e.userId(),assigned_user_id:e.userId(),client_id:_(),category_code:O(),status_code:G(),request:ee(),no_due_datetime:!0},devices:Y(),items:N()}).then(Se=>{Se.ok?(e.showSuccessToast(Se.message),e.navigator("/workshop/ticket/"+Se.data.workshop_tag)):e.showErrorToast(Se.message)})}return d(Le.Provider,{value:{addAddressManually:U,setAddAddressManually:T,clientAdd:S,setClientAdd:I,clientAddAddress:M,setClientAddAddress:w,findClientWhere:a,addNewClient:C,setAddNewClient:E,deviceFields:x,setDeviceFields:L,itemFields:V,setItemFields:oe,findClientFields:f,setFindClientFields:c,devices:Y,setDevices:K,items:N,setItems:D,foundClients:A,setFoundClients:k,clientSearchDone:m,setClientSearchDone:p,clientIDSelected:_,setClientIDSelected:h,clientSelected:b,setClientSelected:$,request:ee,setRequest:ne,statusCode:G,setStatusCode:F,categoryCode:O,setCategoryCode:re,createClient:me,findClient:te,createWorkshopTicket:be,addDevice:le,updateDeviceArray:de,removeDeviceArray:P,addItem:R,updateItemArray:X,removeItemArray:j,updateFindClient:ue,clearClientSearch:H,setSelectedClient:B,buildSelectedClient:J},get children(){return d(ye,{})}})}var Ea=g("<div class=form-section><label>Search</label><div class=field-group><div class=inline-label><label>Name</label><input type=text class=w-36></div><div class=inline-label><label>Phone</label><input type=text class=w-36></div><div class=inline-label><label>Email Address</label><input type=text></div><div class=inline-label><label>Postcode</label><input type=text class=w-28></div><button class=btn-confirm tabindex=8>Search Client"),Ua=g('<div class="form-section pt-2"><label>Clients Found</label><div class=card-pill-group>'),Da=g("<div class=flex><div class=card-pill>"),Wa=g('<div class=card-pill><button class="btn-good btn-pill"role=button>Select');function Ma(){W(ce);const e=W(Le);return[(()=>{var t=Ea(),l=t.firstChild,i=l.nextSibling,s=i.firstChild,n=s.firstChild,r=n.nextSibling,a=s.nextSibling,o=a.firstChild,f=o.nextSibling,c=a.nextSibling,_=c.firstChild,h=_.nextSibling,b=c.nextSibling,$=b.firstChild,m=$.nextSibling,p=b.nextSibling;return r.$$keyup=A=>{A.key==="Enter"&&e.findClient(),e.updateFindClient("any_name",A.target.value)},f.$$keyup=A=>{A.key==="Enter"&&e.findClient(),e.updateFindClient("any_phone",A.target.value)},h.$$keyup=A=>{A.key==="Enter"&&e.findClient(),e.updateFindClient("any_email",A.target.value)},m.$$keyup=A=>{A.key==="Enter"&&e.findClient(),e.updateFindClient("postcode",A.target.value)},p.$$click=()=>{e.findClient()},v(()=>p.disabled=e.findClientFields().any_name===""&&e.findClientFields().any_phone===""&&e.findClientFields().any_email===""&&e.findClientFields().postcode===""),v(()=>r.value=e.findClientFields().any_name),v(()=>f.value=e.findClientFields().any_phone),v(()=>h.value=e.findClientFields().any_email),v(()=>m.value=e.findClientFields().postcode),t})(),(()=>{var t=Ua(),l=t.firstChild,i=l.nextSibling;return u(i,d(he,{get each(){return e.foundClients()},get fallback(){return(()=>{var s=Da(),n=s.firstChild;return u(n,d(Q,{get when(){return e.clientSearchDone()},children:"No clients found",fallback:"Search for a client"})),s})()},children:(s,n)=>(()=>{var r=Wa(),a=r.firstChild;return u(r,()=>e.buildSelectedClient(s),a),u(r,d(Te,{get href(){return`/clients/${s.client_id}`},target:"_blank",className:"btn-confirm btn-pill",get children(){return["Open ",d(Nl,{size:14})]}}),a),a.$$click=()=>{e.setSelectedClient(s)},r})()})),t})()]}ie(["keyup","click"]);var La=g("<div class=form-section><div class=field-group><div class=py-2><label>First Name</label><input type=text></div><div class=py-2><label>Last Name</label><input type=text></div><div class=py-2><label>Business Name</label><input type=text>"),za=g("<div class=form-section><div class=field-group><div class=py-2><label>Phone</label><input type=text></div><div class=py-2><label>Email Address</label><input type=text></div><div class=py-2><label>Alternative Phone</label><input type=text></div><div class=py-2><label>Alternative Email Address</label><input type=text></div></div><div class=form-section><div class=field-group><div class=checkbox><input type=checkbox id=add_client_phone_dnc name=add_client_phone_dnc><label for=add_client_phone_dnc>Do not send SMS updates or messages</label></div><div class=checkbox><input type=checkbox id=add_client_email_address_dnc name=add_client_email_address_dnc><label for=add_client_email_address_dnc>Do not send email updates or messages"),Na=g("<div class=field-group><a class=no-underline>Add Address Manually "),Oa=g("<div class=form-section><div><div class=field-group><div class=py-2><label>Building Number</label><input type=text></div><div class=py-2><label>Sub Building Number</label><input type=text></div><div class=py-2><label>Building Name</label><input type=text></div><div class=py-2><label>Sub Building Name</label><input type=text></div></div><div class=field-group><div class=py-2><label>Address Line 1</label><input type=text></div><div class=py-2><label>Address Line 2</label><input type=text></div><div class=py-2><label>Address Line 3</label><input type=text></div><div class=py-2><label>Locality</label><input type=text></div></div><div class=field-group><div class=py-2><label>Town / City</label><input type=text></div><div class=py-2><label>County</label><input type=text></div><div class=py-2><label>District</label><input type=text></div></div><div class=field-group><div class=py-2><label>Postcode</label><input type=text></div><div class=py-2><label>Country</label><input type=text>"),Ia=g("<div class=form-section><div><button class=btn-good>Create &amp; Select Client");function Ra(){const e=W(ce),t=W(Le);return[(()=>{var l=La(),i=l.firstChild,s=i.firstChild,n=s.firstChild,r=n.nextSibling,a=s.nextSibling,o=a.firstChild,f=o.nextSibling,c=a.nextSibling,_=c.firstChild,h=_.nextSibling;return r.$$keyup=b=>{t.setClientAdd({...t.clientAdd(),first_name:b.target.value})},f.$$keyup=b=>{t.setClientAdd({...t.clientAdd(),last_name:b.target.value})},h.$$keyup=b=>{t.setClientAdd({...t.clientAdd(),business_name:b.target.value})},v(()=>r.value=t.clientAdd().first_name),v(()=>f.value=t.clientAdd().last_name),v(()=>h.value=t.clientAdd().business_name),l})(),(()=>{var l=za(),i=l.firstChild,s=i.firstChild,n=s.firstChild,r=n.nextSibling,a=s.nextSibling,o=a.firstChild,f=o.nextSibling,c=a.nextSibling,_=c.firstChild,h=_.nextSibling,b=c.nextSibling,$=b.firstChild,m=$.nextSibling,p=i.nextSibling,A=p.firstChild,k=A.firstChild,C=k.firstChild,E=k.nextSibling,U=E.firstChild;return r.$$keyup=T=>{t.setClientAdd({...t.clientAdd(),phone:T.target.value})},f.$$keyup=T=>{t.setClientAdd({...t.clientAdd(),email_address:T.target.value})},h.$$keyup=T=>{t.setClientAdd({...t.clientAdd(),alt_phone:T.target.value})},m.$$keyup=T=>{t.setClientAdd({...t.clientAdd(),alt_email_address:T.target.value})},C.addEventListener("change",T=>t.setClientAdd({...t.clientAdd(),phone_dnc:T.target.checked})),U.addEventListener("change",T=>t.setClientAdd({...t.clientAdd(),email_address_dnc:T.target.checked})),v(()=>r.value=t.clientAdd().phone),v(()=>f.value=t.clientAdd().email_address),v(()=>h.value=t.clientAdd().alt_phone),v(()=>m.value=t.clientAdd().alt_email_address),v(()=>C.checked=t.clientAdd().phone_dnc),v(()=>U.checked=t.clientAdd().email_address_dnc),l})(),(()=>{var l=Oa(),i=l.firstChild,s=i.firstChild,n=s.firstChild,r=n.firstChild,a=r.nextSibling,o=n.nextSibling,f=o.firstChild,c=f.nextSibling,_=o.nextSibling,h=_.firstChild,b=h.nextSibling,$=_.nextSibling,m=$.firstChild,p=m.nextSibling,A=s.nextSibling,k=A.firstChild,C=k.firstChild,E=C.nextSibling,U=k.nextSibling,T=U.firstChild,S=T.nextSibling,I=U.nextSibling,M=I.firstChild,w=M.nextSibling,x=I.nextSibling,L=x.firstChild,V=L.nextSibling,oe=A.nextSibling,ee=oe.firstChild,ne=ee.firstChild,G=ne.nextSibling,F=ee.nextSibling,O=F.firstChild,re=O.nextSibling,Y=F.nextSibling,K=Y.firstChild,N=K.nextSibling,D=oe.nextSibling,H=D.firstChild,J=H.firstChild,B=J.nextSibling,te=H.nextSibling,le=te.firstChild,de=le.nextSibling;return u(l,d(Q,{get when(){return e.enabledServices().includes("get_address")},get children(){return[d(Gl,{cachePostcode:!0,get setAddress(){return t.setClientAddAddress}}),(()=>{var P=Na(),R=P.firstChild;return R.firstChild,R.$$click=X=>{X.preventDefault(),t.setAddAddressManually(!t.addAddressManually())},u(R,()=>t.addAddressManually()?"▾":"▸",null),P})()]}}),i),a.$$keyup=P=>{t.setClientAddAddress({...t.clientAddAddress(),building_number:P.target.value})},c.$$keyup=P=>{t.setClientAddAddress({...t.clientAddAddress(),sub_building_number:P.target.value})},b.$$keyup=P=>{t.setClientAddAddress({...t.clientAddAddress(),building_name:P.target.value})},p.$$keyup=P=>{t.setClientAddAddress({...t.clientAddAddress(),sub_building_name:P.target.value})},E.$$keyup=P=>{t.setClientAddAddress({...t.clientAddAddress(),address_line_1:P.target.value})},S.$$keyup=P=>{t.setClientAddAddress({...t.clientAddAddress(),address_line_2:P.target.value})},w.$$keyup=P=>{t.setClientAddAddress({...t.clientAddAddress(),address_line_3:P.target.value})},V.$$keyup=P=>{t.setClientAddAddress({...t.clientAddAddress(),locality:P.target.value})},G.$$keyup=P=>{t.setClientAddAddress({...t.clientAddAddress(),town_or_city:P.target.value})},re.$$keyup=P=>{t.setClientAddAddress({...t.clientAddAddress(),county:P.target.value})},N.$$keyup=P=>{t.setClientAddAddress({...t.clientAddAddress(),district:P.target.value})},B.$$keyup=P=>{t.setClientAddAddress({...t.clientAddAddress(),postcode:P.target.value})},de.$$keyup=P=>{t.setClientAddAddress({...t.clientAddAddress(),country:P.target.value})},v(()=>i.className=e.enabledServices().includes("get_address")&&!t.addAddressManually()?"hidden":"block"),v(()=>a.value=t.clientAddAddress().building_number),v(()=>c.value=t.clientAddAddress().sub_building_number),v(()=>b.value=t.clientAddAddress().building_name),v(()=>p.value=t.clientAddAddress().sub_building_name),v(()=>E.value=t.clientAddAddress().address_line_1),v(()=>S.value=t.clientAddAddress().address_line_2),v(()=>w.value=t.clientAddAddress().address_line_3),v(()=>V.value=t.clientAddAddress().locality),v(()=>G.value=t.clientAddAddress().town_or_city),v(()=>re.value=t.clientAddAddress().county),v(()=>N.value=t.clientAddAddress().district),v(()=>B.value=t.clientAddAddress().postcode),v(()=>de.value=t.clientAddAddress().country),l})(),(()=>{var l=Ia(),i=l.firstChild,s=i.firstChild;return s.$$click=()=>{t.createClient()},l})()]}ie(["keyup","click"]);var Fa=g('<div class="form-section pt-2"><label>Client Selected</label><div class=card-pill-group><div class=card-pill><button class="btn-danger btn-pill">'),Ba=g('<div class="sectioned-content w-full"><div class="flex flex-row gap-2 mb-4"><div class=btn-box-group-row><button>Search For Client</button><button>Add New Client</button><div>Client Selected');function ja(){const e=W(Le);return(()=>{var t=Ba(),l=t.firstChild,i=l.firstChild,s=i.firstChild,n=s.nextSibling,r=n.nextSibling;return s.$$click=()=>{e.setAddNewClient(!1)},n.$$click=()=>{e.clearClientSearch()},u(i,d(It,{}),r),u(t,d(Q,{get when(){return q(()=>!e.addNewClient())()&&e.clientSelected()===""},get children(){return d(Ma,{})}}),null),u(t,d(Q,{get when(){return q(()=>!!e.addNewClient())()&&e.clientSelected()===""},get children(){return d(Ra,{})}}),null),u(t,d(Q,{get when(){return e.clientSelected()!==""},get children(){var a=Fa(),o=a.firstChild,f=o.nextSibling,c=f.firstChild,_=c.firstChild;return u(c,()=>e.clientSelected(),_),_.$$click=()=>{e.setClientIDSelected(0),e.setClientSelected("")},u(_,d(en,{size:18,strokeWidth:2})),a}}),null),v(a=>{var o=e.clientSelected()!=="",f=!e.addNewClient()&&e.clientSelected()===""?"btn-confirm":"btn",c=e.clientSelected()!=="",_=e.addNewClient()&&e.clientSelected()===""?"btn-confirm":"btn",h=e.clientSelected()===""?"btn-box-good-disabled":"btn-box-good";return o!==a.e&&(s.disabled=a.e=o),f!==a.t&&(s.className=a.t=f),c!==a.a&&(n.disabled=a.a=c),_!==a.o&&(n.className=a.o=_),h!==a.i&&(r.className=a.i=h),a},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),t})()}ie(["click"]);var qa=g("<div class=field-group><div class=inline-label><label>Type</label><select><option value=Select...>Select...</option></select></div><div class=inline-label><label>Make</label><input type=text class=w-36></div><div class=inline-label><label>Model</label><input type=text class=w-38></div><div class=inline-label><label>Password</label><input type=text></div><button class=btn-danger>Remove"),Ha=g("<option>");function Va(e){const t=W(Le),l=e.index,i=e.device;return(()=>{var s=qa(),n=s.firstChild,r=n.firstChild,a=r.nextSibling,o=a.firstChild,f=n.nextSibling,c=f.firstChild,_=c.nextSibling,h=f.nextSibling,b=h.firstChild,$=b.nextSibling,m=h.nextSibling,p=m.firstChild,A=p.nextSibling,k=m.nextSibling;return a.addEventListener("change",C=>{const E=document.getElementById(`device-type-${l()}`);t.updateDeviceArray(l(),"type",E.options[C.target.selectedIndex].text)}),u(a,d(he,{each:hn,children:(C,E)=>(()=>{var U=Ha();return U.value=C,u(U,C),v(()=>U.selected=C===i.type),U})()}),null),_.$$keyup=C=>{t.updateDeviceArray(l(),"make",C.target.value)},$.$$keyup=C=>{t.updateDeviceArray(l(),"model",C.target.value)},A.$$keyup=C=>{t.updateDeviceArray(l(),"password",C.target.value)},k.$$click=()=>{t.removeDeviceArray(l())},v(C=>{var E=`device-type-${l()}`,U=i.type==="Select...",T=`device-make-${l()}`,S=`device-model-${l()}`,I=`device-password-${l()}`,M=`remove-device-${l()}`;return E!==C.e&&z(a,"id",C.e=E),U!==C.t&&(o.selected=C.t=U),T!==C.a&&z(_,"id",C.a=T),S!==C.o&&z($,"id",C.o=S),I!==C.i&&z(A,"id",C.i=I),M!==C.n&&z(k,"id",C.n=M),C},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),v(()=>_.value=i.make),v(()=>$.value=i.model),v(()=>A.value=i.password),s})()}ie(["keyup","click"]);var Ga=g('<form><div class="sectioned-content w-full"><div class="form-section pt-2"><div class=form-section></div><div class=form-section><div class=field-group><button class=btn-confirm tabindex=6>Add Device'),Ka=g("<div class=card-pill>No devices added");function Za(){const e=W(Le);return(()=>{var t=Ga(),l=t.firstChild,i=l.firstChild,s=i.firstChild,n=s.nextSibling,r=n.firstChild,a=r.firstChild;return t.$$keydown=o=>{o.key==="Enter"&&o.preventDefault()},t.addEventListener("submit",o=>{o.preventDefault()}),u(s,d(he,{get each(){return e.devices()},get fallback(){return Ka()},children:(o,f)=>d(Va,{index:f,device:o})})),n.style.setProperty("padding-bottom","0"),a.$$click=()=>{e.addDevice()},t})()}ie(["keydown","click"]);var Ya=g("<div class=field-group><div class=inline-label><label>Description</label><input type=text class=w-52></div><button class=btn-danger>Remove");function Xa(e){const t=W(Le),l=e.index,i=e.item;return(()=>{var s=Ya(),n=s.firstChild,r=n.firstChild,a=r.nextSibling,o=n.nextSibling;return a.$$keyup=f=>{t.updateItemArray(l(),"description",f.target.value)},o.$$click=()=>{t.removeItemArray(l())},v(f=>{var c=`item-description-${l()}`,_=`remove-device-${l()}`;return c!==f.e&&z(a,"id",f.e=c),_!==f.t&&z(o,"id",f.t=_),f},{e:void 0,t:void 0}),v(()=>a.value=i.description),s})()}ie(["keyup","click"]);var Ja=g('<form><div class="sectioned-content w-full"><div class="form-section pt-2"><div class=form-section></div><div class=form-section><div class=field-group><button class=btn-confirm>Add Item'),Qa=g("<div class=card-pill>No items added");function eo(){const e=W(Le);return(()=>{var t=Ja(),l=t.firstChild,i=l.firstChild,s=i.firstChild,n=s.nextSibling,r=n.firstChild,a=r.firstChild;return t.$$keydown=o=>{o.key==="Enter"&&o.preventDefault()},t.addEventListener("submit",o=>{o.preventDefault()}),u(s,d(he,{get each(){return e.items()},get fallback(){return Qa()},children:(o,f)=>d(Xa,{index:f,item:o})})),n.style.setProperty("padding-bottom","0"),a.$$click=()=>{e.addItem()},t})()}ie(["keydown","click"]);var to=g('<div class="main-content-stretch gap-2"><div class=sticky-top-buttons><button class=btn>← Cancel</button><button class=btn-good>Create Ticket</button></div><form><div class="sectioned-content w-full"><div class=form-section><label>Category</label><div class="flex flex-row gap-2"></div></div><div class="form-section pt-2"><label>Request</label><textarea rows=3 tabindex=1>'),lo=g("<button>");function io(){const e=W(ce),t=W(Le);return(()=>{var l=to(),i=l.firstChild,s=i.firstChild,n=s.nextSibling,r=i.nextSibling,a=r.firstChild,o=a.firstChild,f=o.firstChild,c=f.nextSibling,_=o.nextSibling,h=_.firstChild,b=h.nextSibling;return s.$$click=()=>e.navigator("/workshop"),kl(n,"click",t.createWorkshopTicket,!0),u(l,d(ja,{}),r),r.addEventListener("submit",$=>{$.preventDefault()}),u(c,d(he,{each:Il,children:($,m)=>(()=>{var p=lo();return p.$$click=()=>t.setCategoryCode($.code),u(p,()=>$.label),v(()=>p.className=t.categoryCode()===$.code?"btn-confirm":"btn"),p})()})),b.$$keyup=$=>{t.setRequest($.target.value)},u(l,d(Za,{}),null),u(l,d(eo,{}),null),v(()=>b.value=t.request()),l})()}ie(["click","keyup"]);const Be=ke();function so(){const e=W(ce),t=W(xe),l=Al(),[i,s]=y(!1),[n,r]=y({}),[a,o]=y({}),[f,c]=y([]),[_,h]=y([]),[b,$]=y({}),[m,p]=y([]),[A,k]=y("");let C;function E(w){s(!0),C&&clearTimeout(C),C=setTimeout(()=>{e.api.post("/workshop/update/ticket"+n().workshop_ticket_id,w).then(x=>{x.ok?(s(!1),r({workshop_ticket_id:x.data.workshop_ticket_id,status_code:x.data.status_code,workshop_tag:x.data.workshop_tag,category_code:x.data.category_code,request:x.data.request,__assigned_to:x.data.__assigned_to,__assigned_to_id:x.data.__assigned_to_id,__created:x.data.__created})):e.showErrorToast("Error updating ticket. "+x.message)})},500)}function U(){e.api.get("/workshop/ticket/tag/"+l.workshop_tag).then(w=>{w.ok?(r({workshop_ticket_id:w.data.workshop_ticket_id,status_code:w.data.status_code,workshop_tag:w.data.workshop_tag,category_code:w.data.category_code,request:w.data.request,__assigned_to:w.data.__assigned_to,__assigned_to_id:w.data.__assigned_to_id,__created:w.data.__created}),o({...w.data.__client}),c([...w.data.__devices]),h([...w.data.__items]),p([...w.data.__notes])):(e.showErrorToast("Ticket not found."),e.navigate("/workshop"))})}function T(){e.api.get("/workshop/ticket/delete/"+n().workshop_ticket_id).then(w=>{w.ok?(t.deBounceGetPageTickets(200,t.page(),t.limit(),t.ticketsWhere()),e.showSuccessToast("Ticket deleted."),e.navigate("/workshop")):e.showErrorToast("Error deleting ticket. "+w.message)})}function S(){e.api.get(`/workshop/get/ticket/${n().workshop_ticket_id}/notes/`).then(w=>{w.ok?p([...w.data]):e.showErrorToast("Error fetching notes. "+w.message)})}function I(){const w=document.getElementById("workshop-ticket-note");A().length>0?e.api.post(`/workshop/ticket/${n().workshop_ticket_id}/add/note`,{user_id:e.userId(),note:A()}).then(x=>{x.ok?(w.value="",w.focus(),S()):e.showErrorToast("Error adding note. "+x.message)}):e.showErrorToast("Note cannot be empty.")}function M(w){e.api.get(`/ticket/delete/note/${w}`).then(x=>{x.ok?p([...m().filter(L=>L.workshop_ticket_note_id!==w)]):e.showErrorToast("Error deleting note. "+x.message)})}return ge(()=>{U()}),d(Be.Provider,{value:{savingWorkshopTicket:i,setSavingWorkshopTicket:s,workshopTicket:n,setWorkshopTicket:r,status:b,setStatus:$,client:a,setClient:o,devices:f,setDevices:c,items:_,setItems:h,notes:m,setNotes:p,note:A,setNote:k,updateWorkshopTicket:E,addWorkshopTicketNote:I,deleteWorkshopTicketNote:M,deleteWorkshopTicket:T},get children(){return d(ye,{})}})}var no=g("<div class=py-3><div class=card-group>"),ro=g("<div class=card-section><small>Device(s)</small><div class=card-pill-group>"),ao=g("<div class=card-labelled-pill-device>"),oo=g("<div class=card-labelled-pill-text>"),co=g("<div class=card-labelled-pill>"),uo=g('<div class="card-labelled-pill-device border-r rounded-md">'),fo=g("<div class=card-section><small>Item(s)</small><div class=card-pill-group>"),vo=g('<div class=card-labelled-pill><div class="card-labelled-pill-text rounded-md border-r">');function ho(){const e=W(Be);return d(Q,{get when(){return e.devices().length>0||e.items().length>0},get children(){var t=no(),l=t.firstChild;return u(l,(()=>{var i=q(()=>e.devices().length>0);return()=>i()?d(_o,{get devices(){return e.devices()}}):""})(),null),u(l,(()=>{var i=q(()=>e.items().length>0);return()=>i()?d(po,{get items(){return e.items()}}):""})(),null),t}})}function _o(e){const t=e.devices;return(()=>{var l=ro(),i=l.firstChild,s=i.nextSibling;return u(s,d(he,{each:t,children:(n,r)=>(()=>{var a=co();return u(a,d(Q,{get when(){return n.make!==""||n.model!==""},get fallback(){return(()=>{var o=uo();return u(o,()=>n.type),o})()},get children(){return[(()=>{var o=ao();return u(o,()=>n.type),o})(),(()=>{var o=oo();return u(o,d(Q,{get when(){return n.make!==""},get children(){return n.make}}),null),u(o,d(Q,{get when(){return n.model!==""},get children(){return[q(()=>n.make!==""?" ":""),q(()=>n.model)]}}),null),u(o,d(Q,{get when(){return n.password!==""&&n.password},get children(){return" (Password: "+n.password+")"}}),null),o})()]}})),a})()})),l})()}function po(e){const t=e.items;return(()=>{var l=fo(),i=l.firstChild,s=i.nextSibling;return u(s,d(he,{each:t,children:(n,r)=>(()=>{var a=vo(),o=a.firstChild;return u(o,()=>n.description),a})()})),l})()}var go=g('<div class="flex flex-col gap-6 w-full py-4"><div class=card-group><div class=card-section><small>Client</small><p></p></div><div class=card-section><small>Contact</small><p></p></div><div class=card-section><small>Address</small><p></p></div></div><div class=card-group><div class=card-section><small>Request');function mo(){const e=W(xe),t=W(Be);return(()=>{var l=go(),i=l.firstChild,s=i.firstChild,n=s.firstChild,r=n.nextSibling,a=s.nextSibling,o=a.firstChild,f=o.nextSibling,c=a.nextSibling,_=c.firstChild,h=_.nextSibling,b=i.nextSibling,$=b.firstChild;return $.firstChild,u(r,(()=>{var m=q(()=>!!t.client());return()=>m()?e.displayName(t.client().business_name,t.client().first_name,t.client().last_name):""})()),u(f,(()=>{var m=q(()=>!!t.client());return()=>m()?e.displayContact(t.client().phone,t.client().email_address,t.client().alt_phone,t.client().alt_email_address):""})()),u(h,(()=>{var m=q(()=>!!t.client());return()=>m()?t.client().__address:""})()),u($,()=>t.workshopTicket().request,null),l})()}var $o=g('<div class="flex flex-row flex-wrap gap-2 w-full mb-4"><div class=card-group-slim><div class=card-labelled-pill><div class=card-labelled-pill-label>Status</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Tag</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Category</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Assigned To</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Created</div><div class=card-labelled-pill-text>');function bo(e){const t=W(ce),l=W(Be);return(()=>{var i=$o(),s=i.firstChild,n=s.firstChild,r=n.firstChild,a=r.nextSibling,o=n.nextSibling,f=o.firstChild,c=f.nextSibling,_=o.nextSibling,h=_.firstChild,b=h.nextSibling,$=_.nextSibling,m=$.firstChild,p=m.nextSibling,A=$.nextSibling,k=A.firstChild,C=k.nextSibling;return u(a,()=>e.status.name),u(c,()=>l.workshopTicket().workshop_tag),u(b,()=>t.categoryCodeLookup(l.workshopTicket().category_code)),u(p,()=>l.workshopTicket().__assigned_to),u(C,()=>l.workshopTicket().__created),v(E=>Lt(a,e.status.style,E)),i})()}var yo=g('<div class=py-3><label>Update Ticket</label><div class="form-section-row flex-wrap"><div class=field-group><div class="py-2 w-full"><div class=inline-label><label>Status:</label><select></select></div></div></div><div class=field-group><div class="py-2 w-full"><div class=inline-label><label>Assigned To:</label><select></select></div></div></div><div class=field-group><div class="py-2 w-full"><button class="btn btn-confirm">Update'),vl=g("<option>");function ko(e){const t=W(ce),l=W(xe),i=W(Be),[s,n]=y(i.status().status_code),[r,a]=y(i.workshopTicket().__assigned_to_id);return(()=>{var o=yo(),f=o.firstChild,c=f.nextSibling,_=c.firstChild,h=_.firstChild,b=h.firstChild,$=b.firstChild,m=$.nextSibling,p=_.nextSibling,A=p.firstChild,k=A.firstChild,C=k.firstChild,E=C.nextSibling,U=p.nextSibling,T=U.firstChild,S=T.firstChild;return c.style.setProperty("padding-bottom","0"),m.addEventListener("change",I=>{n(I.target.value)}),u(m,d(he,{each:Ol,children:(I,M)=>(()=>{var w=vl();return u(w,()=>I.label),v(()=>w.selected=I.code===i.workshopTicket().status_code),v(()=>w.value=I.code),w})()})),E.addEventListener("change",I=>{a(I.target.value)}),u(E,d(he,{get each(){return l.users()},children:(I,M)=>(()=>{var w=vl();return u(w,()=>I.display_name),v(()=>w.selected=I.user_id===i.workshopTicket().__assigned_to_id),v(()=>w.value=I.user_id),w})()})),S.$$click=()=>{if(s()===0){t.showErrorToast("Please select a status.");return}if(r()===0){t.showErrorToast("Please select a user.");return}i.updateWorkshopTicket({status_code:s(),fk_user_id:r()})},o})()}ie(["click"]);var xo=g("<label>Notes"),So=g("<div class=workshop-ticket-notes-bg-wrapper><div class=workshop-ticket-notes>"),wo=g('<div class="form-section pt-2"><textarea rows=3 tabindex=4 id=workshop-ticket-note>'),Co=g("<div class=form-section><button class=btn-confirm tabindex=5>Add Note"),Ao=g("<div class=workshop-ticket-note>No Notes"),To=g("<div class=workshop-ticket-note><div class=workshop-ticket-note-stats> @ <!> - <a class=text-red-400>Delete");function Po(e){const t=W(Be);return[xo(),(()=>{var l=So(),i=l.firstChild;return u(i,d(he,{get each(){return t.notes()},get fallback(){return Ao()},children:s=>(()=>{var n=To(),r=n.firstChild,a=r.firstChild,o=a.nextSibling,f=o.nextSibling,c=f.nextSibling;return u(n,()=>s.text_note,r),u(r,()=>s.__added_by,a),u(r,()=>s.__created,o),c.$$click=()=>{t.deleteWorkshopTicketNote(s.workshop_ticket_note_id)},n})()})),l})(),(()=>{var l=wo(),i=l.firstChild;return i.$$keyup=s=>{t.setNote(s.target.value)},l})(),(()=>{var l=Co(),i=l.firstChild;return i.$$click=()=>{t.addWorkshopTicketNote()},l})()]}ie(["keyup","click"]);var Eo=g('<div class="flex flex-row gap-2 items-center px-4"> Saving...'),Uo=g('<div class="main-content-slim gap-2"><div class="field-group items-center sticky top-0"><button class=btn>← Back</button><button class=btn-danger>Delete Ticket</button></div><div class=sectioned-content></div><dialog class=dialog><div class="dialog-content text-center"><p>Are you sure you would like to delete this ticket?</p><p>Please note that this action is irreversible.</p></div><div class=dialog-footer><button class=btn>Cancel</button><button class=btn-danger>Confirm Delete');function Do(){const e=W(ce),t=W(xe),l=W(Be),[i,s]=y({Name:"",Style:{}});let n;return Pe(()=>{l.workshopTicket().status_code&&s(e.statusCodeLookup(l.workshopTicket().status_code))}),(()=>{var r=Uo(),a=r.firstChild,o=a.firstChild,f=o.nextSibling,c=a.nextSibling,_=c.nextSibling,h=_.firstChild,b=h.nextSibling,$=b.firstChild,m=$.nextSibling;o.$$click=()=>{t.deBounceGetPageTickets(200,t.page(),t.limit(),t.ticketsWhere()),e.navigator("/workshop")},u(a,d(Te,{className:"btn-confirm btn-a btn-slim",target:"_blank",get href(){return"/clients/"+l.client().client_id},get children(){return["Open Client ",d(Nl,{size:16})]}}),f),f.$$click=()=>{t.deBounceGetPageTickets(200,t.page(),t.limit(),t.ticketsWhere()),e.navigator("/workshop")},u(a,d(Q,{get when(){return l.savingWorkshopTicket()},get children(){var A=Eo(),k=A.firstChild;return u(A,d(mt,{}),k),A}}),null),u(c,d(bo,{get status(){return i()}}),null),u(c,d(mo,{}),null),u(c,d(ho,{}),null),u(c,d(ko,{}),null),u(c,d(Po,{}),null);var p=n;return typeof p=="function"?Me(p,_):n=_,h.style.setProperty("height","100px"),$.$$click=()=>{n.close()},m.$$click=()=>{l.deleteWorkshopTicket()},r})()}ie(["click"]);var Ke=g("<button class=btn-confirm>"),hl=g("<div class=input-like>"),Wo=g("<select><option value=25>25 pp</option><option value=50>50 pp</option><option value=100>100 pp");function Mo(){const e=W(xe);return[(()=>{var t=Ke();return t.$$click=()=>{e.page()>1&&e.setPage(1)},u(t,d(El,{size:16})),v(()=>t.disabled=e.page()===1),t})(),(()=>{var t=Ke();return t.$$click=()=>{e.page()>1&&e.setPage(e.page()-1)},u(t,d(Dl,{size:16})),v(()=>t.disabled=e.page()===1),t})(),(()=>{var t=hl();return t.$$click=()=>{},u(t,(()=>{var l=q(()=>!!e.loadingTickets());return()=>l()?"-":`Total: ${e.totalTickets()}`})()),t})(),(()=>{var t=hl();return t.$$click=()=>{},u(t,(()=>{var l=q(()=>!!e.loadingTickets());return()=>l()?"-":`${e.page()} / ${e.totalPages()}`})()),t})(),(()=>{var t=Wo(),l=t.firstChild,i=l.nextSibling,s=i.nextSibling;return t.addEventListener("change",n=>e.changeLimit(parseInt(n.target.options[n.target.selectedIndex].value))),v(n=>{var r=e.limit()===25,a=e.limit()===50,o=e.limit()===100;return r!==n.e&&(l.selected=n.e=r),a!==n.t&&(i.selected=n.t=a),o!==n.a&&(s.selected=n.a=o),n},{e:void 0,t:void 0,a:void 0}),t})(),(()=>{var t=Ke();return t.$$click=()=>{e.page()<e.totalPages()&&e.setPage(e.page()+1)},u(t,d(It,{size:16})),v(()=>t.disabled=e.page()===e.totalPages()),t})(),(()=>{var t=Ke();return t.$$click=()=>{e.page()<e.totalPages()&&e.setPage(e.totalPages())},u(t,d(Ul,{size:16})),v(()=>t.disabled=e.page()===e.totalPages()),t})(),(()=>{var t=Ke();return t.$$click=()=>{e.dialogFilterTicketsRef.showModal()},u(t,d(Wl,{size:16})),t})()]}ie(["click"]);var Lo=g('<div class=dialog-content-group><div class=section-filter-group><div class="inline-label flex-1"><label>Workshop Tag</label><input type=text></div><div class="inline-label flex-1"><label>Status&nbsp;</label><select class=w-full><option value=0>All</option></select></div><div class="inline-label flex-1"><label>Category</label><select class=w-full><option value=0>All</option></select></div><div class="inline-label flex-1"><label>Assigned&nbsp;To:</label><select class=w-full><option value=0>All'),St=g("<option>");function zo(e){const t=W(xe);return(()=>{var l=Lo(),i=l.firstChild,s=i.firstChild,n=s.firstChild,r=n.nextSibling,a=s.nextSibling,o=a.firstChild;o.firstChild;var f=o.nextSibling;f.firstChild;var c=a.nextSibling,_=c.firstChild,h=_.nextSibling;h.firstChild;var b=c.nextSibling,$=b.firstChild,m=$.nextSibling;return m.firstChild,r.$$keyup=p=>{e.keyDownHandler(p)||t.ticketsTempWhereValue("workshop_tag",p.target.value)},u(o,()=>t.ticketsTempWhere().status_code,null),f.addEventListener("change",p=>{t.ticketsTempWhereValue("status_code",p.target.options[p.target.selectedIndex].value)}),u(f,d(he,{each:Ol,children:(p,A)=>(()=>{var k=St();return u(k,()=>p.label),v(()=>k.selected=parseInt(t.ticketsTempWhere().status_code)===p.code),v(()=>k.value=p.code),k})()}),null),h.addEventListener("change",p=>{t.ticketsTempWhereValue("category_code",p.target.options[p.target.selectedIndex].value)}),u(h,d(he,{each:Il,children:(p,A)=>(()=>{var k=St();return u(k,()=>p.label),v(()=>k.selected=parseInt(t.ticketsTempWhere().category_code)===p.code),v(()=>k.value=p.code),k})()}),null),m.addEventListener("change",p=>{t.ticketsTempWhereValue("fk_assigned_user_id",p.target.options[p.target.selectedIndex].value)}),u(m,d(he,{get each(){return t.users()},children:(p,A)=>(()=>{var k=St();return u(k,()=>p.display_name),v(()=>k.selected=parseInt(t.ticketsTempWhere().fk_assigned_user_id)===p.user_id),v(()=>k.value=p.user_id),k})()}),null),v(()=>r.value=t.ticketsTempWhere().hasOwnProperty("workshop_tag")?t.ticketsTempWhere().workshop_tag:""),l})()}ie(["keyup"]);var No=g('<div class=dialog-content-group><div class=section-filter-group><small class=font-bold>Specific</small><div class="pt-1 pb-2"><div class="inline-label flex-1"><label>Date</label><div class="inline-button w-full"><input type=date class=""><button class=btn>clear</button></div></div></div><small class=font-bold>Range</small><div class="flex flex-col gap-1 pt-1 pb-2"><div class="inline-label flex-1"><label>From</label><div class="inline-button w-full"><input type=date><button class=btn>clear</button></div></div><div class="inline-label flex-1"><label>To</label><div class="inline-button w-full"><input type=date><button class=btn>clear');function Oo(e){const t=W(xe);return(()=>{var l=No(),i=l.firstChild,s=i.firstChild,n=s.nextSibling,r=n.firstChild,a=r.firstChild,o=a.nextSibling,f=o.firstChild,c=f.nextSibling,_=n.nextSibling,h=_.nextSibling,b=h.firstChild,$=b.firstChild,m=$.nextSibling,p=m.firstChild,A=p.nextSibling,k=b.nextSibling,C=k.firstChild,E=C.nextSibling,U=E.firstChild,T=U.nextSibling;return f.addEventListener("change",S=>{e.keyDownHandler(S)||(t.ticketsTempWhereValue("date_on",S.target.value),t.ticketsTempWhere().hasOwnProperty("date_from")&&t.ticketsTempWhereValue("date_from",""),t.ticketsTempWhere().hasOwnProperty("date_to")&&t.ticketsTempWhereValue("date_to",""))}),c.$$click=S=>{S.preventDefault(),t.ticketsTempWhereValue("date_on","")},p.addEventListener("change",S=>{e.keyDownHandler(S)||(t.ticketsTempWhereValue("date_from",S.target.value),t.ticketsTempWhere().hasOwnProperty("date_on")&&t.ticketsTempWhereValue("date_on",""))}),A.$$click=S=>{S.preventDefault(),t.ticketsTempWhereValue("date_on","")},U.addEventListener("change",S=>{e.keyDownHandler(S)||(t.ticketsTempWhereValue("date_to",S.target.value),t.ticketsTempWhere().hasOwnProperty("date_on")&&t.ticketsTempWhereValue("date_on",""))}),T.$$click=S=>{S.preventDefault(),t.ticketsTempWhereValue("date_on","")},v(()=>f.value=t.ticketsTempWhere().hasOwnProperty("date_on")?t.ticketsTempWhere().date_on:""),v(()=>p.value=t.ticketsTempWhere().hasOwnProperty("date_from")?t.ticketsTempWhere().date_from:""),v(()=>U.value=t.ticketsTempWhere().hasOwnProperty("date_to")?t.ticketsTempWhere().date_to:""),l})()}ie(["click"]);var Io=g('<dialog class=dialog id=dialog-filter-tickets-id><div class=btn-tab-group><button>Workshop Ticket</button><button>Date</button></div><div></div><div></div><div class=dialog-footer><div class="flex gap-1"><button class=btn>Cancel</button><button class=btn>Clear Filter</button></div><button class=btn-confirm>Apply Filter');function Ro(){const e=W(xe),[t,l]=y("client-info"),i=s=>s.key==="Escape"?(l("client-info"),setTimeout(()=>{e.dialogFilterTicketsRef.close()},1),!0):s.key==="Enter"?(e.setTicketsWhere({...e.ticketsWhere(),...e.ticketsTempWhere()}),l("client-info"),setTimeout(()=>{e.dialogFilterTicketsRef.close()},1),!0):!1;return ge(()=>{e.dialogFilterTicketsRef.addEventListener("keydown",i),e.dialogFilterTicketsRef.addEventListener("cancel",s=>{s.preventDefault()})}),Fe(()=>{e.dialogFilterTicketsRef.removeEventListener("keydown",i),e.dialogFilterTicketsRef.removeEventListener("cancel",s=>{s.preventDefault()})}),(()=>{var s=Io(),n=s.firstChild,r=n.firstChild,a=r.nextSibling,o=n.nextSibling,f=o.nextSibling,c=f.nextSibling,_=c.firstChild,h=_.firstChild,b=h.nextSibling,$=_.nextSibling,m=e.dialogFilterTicketsRef;return typeof m=="function"?Me(m,s):e.dialogFilterTicketsRef=s,r.$$click=()=>l("client-info"),a.$$click=()=>l("date"),u(o,d(zo,{keyDownHandler:i,setFilterTab:l})),u(f,d(Oo,{keyDownHandler:i,setFilterTab:l})),h.$$click=()=>{e.dialogFilterTicketsRef.close(),l("client-info")},b.$$click=()=>{e.setTicketsTempWhere({})},$.$$click=()=>{e.setTicketsWhere(e.ticketsTempWhere()),e.dialogFilterTicketsRef.close(),l("client-info")},v(p=>{var A=t()==="client-info"?"btn-tab-active":"btn-tab",k=t()==="date"?"btn-tab-active":"btn-tab",C=t()==="client-info"?"dialog-content":"hidden",E=t()==="date"?"dialog-content":"hidden";return A!==p.e&&(r.className=p.e=A),k!==p.t&&(a.className=p.t=k),C!==p.a&&(o.className=p.a=C),E!==p.o&&(f.className=p.o=E),p},{e:void 0,t:void 0,a:void 0,o:void 0}),s})()}ie(["click"]);var Fo=g("<span>+"),Bo=g('<div class="flex items-center px-4">'),jo=g('<div class=page-section-header><div class="flex items-center gap-1">');function qo(e){const t=W(xe);return[(()=>{var l=jo(),i=l.firstChild;return u(l,d(Te,{className:"btn-good",href:"/workshop/ticket/add",get children(){return[Fo()," Add Ticket"]}}),i),u(i,d(Q,{get when(){return t.smallLoadingTickets()},get children(){var s=Bo();return u(s,d(mt,{})),s}}),null),u(i,d(Mo,{}),null),l})(),d(Ro,{})]}var Ho=g('<div class="flex justify-center items-center w-full h-full min-h-0"><div class="flex flex-col items-center"><small>No tickets found');function Vo(){return(()=>{var e=Ho(),t=e.firstChild,l=t.firstChild;return u(t,d(zl,{size:64}),l),e})()}var Go=g('<div class="flex justify-center items-center w-full h-full min-h-0">');function Ko(){return(()=>{var e=Go();return u(e,d(Ot,{})),e})()}var Zo=g('<div class="pills mb-2"><div class=pill-danger-interactive>'),Yo=g("<div class=pill>: ");function Xo(){const e=W(xe);return d(Q,{get when(){return Object.keys(e.ticketsWhereAnnex()).length>0},get children(){var t=Zo(),l=t.firstChild;return u(t,d(he,{get each(){return Object.keys(e.ticketsWherePills())},children:i=>(()=>{var s=Yo(),n=s.firstChild;return u(s,i,n),u(s,()=>e.ticketsWherePills()[i],null),s})()}),l),l.$$click=()=>{e.setTicketsWhere({}),e.setTicketsWhereAnnex({}),e.setTicketsTempWhere({})},u(l,d(Ml,{size:14})),t}})}ie(["click"]);function Jo(){const e=W(xe);return d(he,{get each(){return e.tickets},children:(t,l)=>d(Kl,{ticket:t})})}var Qo=g("<div class=main-content-stretch><div class=cards-bg-wrapper><div class=cards>");function ed(){const e=W(xe);return(()=>{var t=Qo(),l=t.firstChild,i=l.firstChild;return u(t,d(qo,{}),l),u(t,d(Xo,{}),l),u(i,(()=>{var s=q(()=>!!e.loadingTickets());return()=>s()?d(Ko,{}):(()=>{var n=q(()=>e.tickets.length>0);return()=>n()?d(Jo,{}):d(Vo,{})})()})()),t})()}const td=document.getElementById("root");Mi(()=>d(vs,{get children(){return d(hs,{get children(){return[d(ae,{path:"",component:pn,get children(){return[d(ae,{path:"",component:Ge,get children(){return d(ae,{path:"/",component:()=>d(xt,{href:"/workshop"})})}}),d(ae,{path:"",component:ba,get children(){return d(ae,{path:"/login",component:$n})}}),d(ae,{path:"",component:Ge,get children(){return d(ae,{path:"",component:Sn,get children(){return d(ae,{path:"/clients",get children(){return[d(ae,{path:"/",component:Kn}),d(ae,{path:"",component:sr,get children(){return d(ae,{path:"/add",component:cr})}}),d(ae,{path:"",component:ur,get children(){return d(ae,{path:"/:client_id",component:Mr})}})]}})}})}}),d(ae,{path:"",component:Ge,get children(){return d(ae,{path:"",component:Ta,get children(){return d(ae,{path:"/workshop",get children(){return[d(ae,{path:"/",component:ed}),d(ae,{path:"/ticket",get children(){return[d(ae,{path:"/",component:()=>d(xt,{href:"/workshop"})}),d(ae,{path:"",component:Pa,get children(){return d(ae,{path:"/add",component:io})}}),d(ae,{path:"",component:so,get children(){return d(ae,{path:"/:workshop_tag",component:Do})}})]}})]}})}})}}),d(ae,{path:"",component:Ge,get children(){return d(ae,{path:"",component:xa,get children(){return d(ae,{path:"/system",component:Jn,get children(){return[d(ae,{path:"/",component:()=>d(xt,{href:"/system/information"})}),d(ae,{path:"/information",component:Vr}),d(ae,{path:"/users",component:ca}),d(ae,{path:"/services",component:ma}),d(ae,{path:"/logs",component:Aa})]}})}})}}),d(ae,{path:"",component:Ge,get children(){return d(ae,{path:"",component:er,get children(){return d(ae,{path:"/account",component:lr})}})}})]}}),d(ae,{path:"/install",component:qr})]}})}}),td);
