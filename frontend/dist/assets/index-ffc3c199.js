(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function l(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=l(n);fetch(n.href,s)}})();const $i=(e,t)=>e===t,Te=Symbol("solid-proxy"),ul=Symbol("solid-track"),Wt={equals:$i};let Ml=Rl;const Be=1,Mt=2,zl={owned:null,cleanups:null,context:null,owner:null};var ve=null;let al=null,mi=null,he=null,ye=null,Oe=null,jt=0;function dt(e,t){const l=he,i=ve,n=e.length===0,s=t===void 0?i:t,a=n?zl:{owned:null,cleanups:null,context:s?s.context:null,owner:s},r=n?e:()=>e(()=>Ce(()=>qt(a)));ve=a,he=null;try{return je(r,!0)}finally{he=l,ve=i}}function y(e,t){t=t?Object.assign({},Wt,t):Wt;const l={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},i=n=>(typeof n=="function"&&(n=n(l.value)),Ol(l,n));return[Il.bind(l),i]}function v(e,t,l){const i=ml(e,t,!1,Be);vt(i)}function Me(e,t,l){Ml=Ci;const i=ml(e,t,!1,Be);(!l||!l.render)&&(i.user=!0),Oe?Oe.push(i):vt(i)}function H(e,t,l){l=l?Object.assign({},Wt,l):Wt;const i=ml(e,t,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=l.equals||void 0,vt(i),Il.bind(i)}function bi(e){return je(e,!1)}function Ce(e){if(he===null)return e();const t=he;he=null;try{return e()}finally{he=t}}function Nl(e,t,l){const i=Array.isArray(e);let n,s=l&&l.defer;return a=>{let r;if(i){r=Array(e.length);for(let f=0;f<e.length;f++)r[f]=e[f]()}else r=e();if(s)return s=!1,a;const d=Ce(()=>t(r,n,a));return n=r,d}}function be(e){Me(()=>Ce(e))}function Ve(e){return ve===null||(ve.cleanups===null?ve.cleanups=[e]:ve.cleanups.push(e)),e}function fl(){return he}function yi(){return ve}function xi(e,t){const l=ve,i=he;ve=e,he=null;try{return je(t,!0)}catch(n){bl(n)}finally{ve=l,he=i}}function ki(e){const t=he,l=ve;return Promise.resolve().then(()=>{he=t,ve=l;let i;return je(e,!1),he=ve=null,i?i.done:void 0})}function Se(e,t){const l=Symbol("context");return{id:l,Provider:Ti(l),defaultValue:e}}function W(e){return ve&&ve.context&&ve.context[e.id]!==void 0?ve.context[e.id]:e.defaultValue}function $l(e){const t=H(e),l=H(()=>vl(t()));return l.toArray=()=>{const i=l();return Array.isArray(i)?i:i!=null?[i]:[]},l}function Il(){if(this.sources&&this.state)if(this.state===Be)vt(this);else{const e=ye;ye=null,je(()=>Nt(this),!1),ye=e}if(he){const e=this.observers?this.observers.length:0;he.sources?(he.sources.push(this),he.sourceSlots.push(e)):(he.sources=[this],he.sourceSlots=[e]),this.observers?(this.observers.push(he),this.observerSlots.push(he.sources.length-1)):(this.observers=[he],this.observerSlots=[he.sources.length-1])}return this.value}function Ol(e,t,l){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&je(()=>{for(let n=0;n<e.observers.length;n+=1){const s=e.observers[n],a=al&&al.running;a&&al.disposed.has(s),(a?!s.tState:!s.state)&&(s.pure?ye.push(s):Oe.push(s),s.observers&&Fl(s)),a||(s.state=Be)}if(ye.length>1e6)throw ye=[],new Error},!1)),t}function vt(e){if(!e.fn)return;qt(e);const t=jt;Si(e,e.value,t)}function Si(e,t,l){let i;const n=ve,s=he;he=ve=e;try{i=e.fn(t)}catch(a){return e.pure&&(e.state=Be,e.owned&&e.owned.forEach(qt),e.owned=null),e.updatedAt=l+1,bl(a)}finally{he=s,ve=n}(!e.updatedAt||e.updatedAt<=l)&&(e.updatedAt!=null&&"observers"in e?Ol(e,i):e.value=i,e.updatedAt=l)}function ml(e,t,l,i=Be,n){const s={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:ve,context:ve?ve.context:null,pure:l};return ve===null||ve!==zl&&(ve.owned?ve.owned.push(s):ve.owned=[s]),s}function zt(e){if(e.state===0)return;if(e.state===Mt)return Nt(e);if(e.suspense&&Ce(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<jt);)e.state&&t.push(e);for(let l=t.length-1;l>=0;l--)if(e=t[l],e.state===Be)vt(e);else if(e.state===Mt){const i=ye;ye=null,je(()=>Nt(e,t[0]),!1),ye=i}}function je(e,t){if(ye)return e();let l=!1;t||(ye=[]),Oe?l=!0:Oe=[],jt++;try{const i=e();return wi(l),i}catch(i){l||(Oe=null),ye=null,bl(i)}}function wi(e){if(ye&&(Rl(ye),ye=null),e)return;const t=Oe;Oe=null,t.length&&je(()=>Ml(t),!1)}function Rl(e){for(let t=0;t<e.length;t++)zt(e[t])}function Ci(e){let t,l=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[l++]=i:zt(i)}for(t=0;t<l;t++)zt(e[t])}function Nt(e,t){e.state=0;for(let l=0;l<e.sources.length;l+=1){const i=e.sources[l];if(i.sources){const n=i.state;n===Be?i!==t&&(!i.updatedAt||i.updatedAt<jt)&&zt(i):n===Mt&&Nt(i,t)}}}function Fl(e){for(let t=0;t<e.observers.length;t+=1){const l=e.observers[t];l.state||(l.state=Mt,l.pure?ye.push(l):Oe.push(l),l.observers&&Fl(l))}}function qt(e){let t;if(e.sources)for(;e.sources.length;){const l=e.sources.pop(),i=e.sourceSlots.pop(),n=l.observers;if(n&&n.length){const s=n.pop(),a=l.observerSlots.pop();i<n.length&&(s.sourceSlots[a]=i,n[i]=s,l.observerSlots[i]=a)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)qt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Ai(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function bl(e,t=ve){throw Ai(e)}function vl(e){if(typeof e=="function"&&!e.length)return vl(e());if(Array.isArray(e)){const t=[];for(let l=0;l<e.length;l++){const i=vl(e[l]);Array.isArray(i)?t.push.apply(t,i):t.push(i)}return t}return e}function Ti(e,t){return function(i){let n;return v(()=>n=Ce(()=>(ve.context={...ve.context,[e]:i.value},$l(()=>i.children))),void 0),n}}const Ei=Symbol("fallback");function Cl(e){for(let t=0;t<e.length;t++)e[t]()}function Pi(e,t,l={}){let i=[],n=[],s=[],a=0,r=t.length>1?[]:null;return Ve(()=>Cl(s)),()=>{let d=e()||[],f,c;return d[ul],Ce(()=>{let h=d.length,g,x,m,$,b,S,k,D,P;if(h===0)a!==0&&(Cl(s),s=[],i=[],n=[],a=0,r&&(r=[])),l.fallback&&(i=[Ei],n[0]=dt(T=>(s[0]=T,l.fallback())),a=1);else if(a===0){for(n=new Array(h),c=0;c<h;c++)i[c]=d[c],n[c]=dt(p);a=h}else{for(m=new Array(h),$=new Array(h),r&&(b=new Array(h)),S=0,k=Math.min(a,h);S<k&&i[S]===d[S];S++);for(k=a-1,D=h-1;k>=S&&D>=S&&i[k]===d[D];k--,D--)m[D]=n[k],$[D]=s[k],r&&(b[D]=r[k]);for(g=new Map,x=new Array(D+1),c=D;c>=S;c--)P=d[c],f=g.get(P),x[c]=f===void 0?-1:f,g.set(P,c);for(f=S;f<=k;f++)P=i[f],c=g.get(P),c!==void 0&&c!==-1?(m[c]=n[f],$[c]=s[f],r&&(b[c]=r[f]),c=x[c],g.set(P,c)):s[f]();for(c=S;c<h;c++)c in m?(n[c]=m[c],s[c]=$[c],r&&(r[c]=b[c],r[c](c))):n[c]=dt(p);n=n.slice(0,a=h),i=d.slice(0)}return n});function p(h){if(s[c]=h,r){const[g,x]=y(c);return r[c]=x,t(d[c],g)}return t(d[c])}}}function o(e,t){return Ce(()=>e(t||{}))}function Dt(){return!0}const pl={get(e,t,l){return t===Te?l:e.get(t)},has(e,t){return t===Te?!0:e.has(t)},set:Dt,deleteProperty:Dt,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Dt,deleteProperty:Dt}},ownKeys(e){return e.keys()}};function ol(e){return(e=typeof e=="function"?e():e)?e:{}}function Ui(){for(let e=0,t=this.length;e<t;++e){const l=this[e]();if(l!==void 0)return l}}function hl(...e){let t=!1;for(let a=0;a<e.length;a++){const r=e[a];t=t||!!r&&Te in r,e[a]=typeof r=="function"?(t=!0,H(r)):r}if(t)return new Proxy({get(a){for(let r=e.length-1;r>=0;r--){const d=ol(e[r])[a];if(d!==void 0)return d}},has(a){for(let r=e.length-1;r>=0;r--)if(a in ol(e[r]))return!0;return!1},keys(){const a=[];for(let r=0;r<e.length;r++)a.push(...Object.keys(ol(e[r])));return[...new Set(a)]}},pl);const l={},i=Object.create(null);for(let a=e.length-1;a>=0;a--){const r=e[a];if(!r)continue;const d=Object.getOwnPropertyNames(r);for(let f=d.length-1;f>=0;f--){const c=d[f];if(c==="__proto__"||c==="constructor")continue;const p=Object.getOwnPropertyDescriptor(r,c);if(!i[c])i[c]=p.get?{enumerable:!0,configurable:!0,get:Ui.bind(l[c]=[p.get.bind(r)])}:p.value!==void 0?p:void 0;else{const h=l[c];h&&(p.get?h.push(p.get.bind(r)):p.value!==void 0&&h.push(()=>p.value))}}}const n={},s=Object.keys(i);for(let a=s.length-1;a>=0;a--){const r=s[a],d=i[r];d&&d.get?Object.defineProperty(n,r,d):n[r]=d?d.value:void 0}return n}function Di(e,...t){if(Te in e){const n=new Set(t.length>1?t.flat():t[0]),s=t.map(a=>new Proxy({get(r){return a.includes(r)?e[r]:void 0},has(r){return a.includes(r)&&r in e},keys(){return a.filter(r=>r in e)}},pl));return s.push(new Proxy({get(a){return n.has(a)?void 0:e[a]},has(a){return n.has(a)?!1:a in e},keys(){return Object.keys(e).filter(a=>!n.has(a))}},pl)),s}const l={},i=t.map(()=>({}));for(const n of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,n),a=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let r=!1,d=0;for(const f of t)f.includes(n)&&(r=!0,a?i[d][n]=s.value:Object.defineProperty(i[d],n,s)),++d;r||(a?l[n]=s.value:Object.defineProperty(l,n,s))}return[...i,l]}const Li=e=>`Stale read from <${e}>.`;function _e(e){const t="fallback"in e&&{fallback:()=>e.fallback};return H(Pi(()=>e.each,e.children,t||void 0))}function le(e){const t=e.keyed,l=H(()=>e.when,void 0,{equals:(i,n)=>t?i===n:!i==!n});return H(()=>{const i=l();if(i){const n=e.children;return typeof n=="function"&&n.length>0?Ce(()=>n(t?i:()=>{if(!Ce(l))throw Li("Show");return e.when})):n}return e.fallback},void 0,void 0)}const Wi=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Mi=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Wi]),zi=new Set(["innerHTML","textContent","innerText","children"]),Ni=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Ii=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Oi(e,t){const l=Ii[e];return typeof l=="object"?l[t]?l.$:void 0:l}const Ri=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Fi={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Bi(e,t,l){let i=l.length,n=t.length,s=i,a=0,r=0,d=t[n-1].nextSibling,f=null;for(;a<n||r<s;){if(t[a]===l[r]){a++,r++;continue}for(;t[n-1]===l[s-1];)n--,s--;if(n===a){const c=s<i?r?l[r-1].nextSibling:l[s-r]:d;for(;r<s;)e.insertBefore(l[r++],c)}else if(s===r)for(;a<n;)(!f||!f.has(t[a]))&&t[a].remove(),a++;else if(t[a]===l[s-1]&&l[r]===t[n-1]){const c=t[--n].nextSibling;e.insertBefore(l[r++],t[a++].nextSibling),e.insertBefore(l[--s],c),t[n]=l[s]}else{if(!f){f=new Map;let p=r;for(;p<s;)f.set(l[p],p++)}const c=f.get(t[a]);if(c!=null)if(r<c&&c<s){let p=a,h=1,g;for(;++p<n&&p<s&&!((g=f.get(t[p]))==null||g!==c+h);)h++;if(h>c-r){const x=t[a];for(;r<c;)e.insertBefore(l[r++],x)}else e.replaceChild(l[r++],t[a++])}else a++;else t[a++].remove()}}}const Al="_$DX_DELEGATE";function ji(e,t,l,i={}){let n;return dt(s=>{n=s,t===document?e():u(t,e(),t.firstChild?null:void 0,l)},i.owner),()=>{n(),t.textContent=""}}function _(e,t,l){let i;const n=()=>{const a=document.createElement("template");return a.innerHTML=e,l?a.content.firstChild.firstChild:a.content.firstChild},s=t?()=>Ce(()=>document.importNode(i||(i=n()),!0)):()=>(i||(i=n())).cloneNode(!0);return s.cloneNode=s,s}function ne(e,t=window.document){const l=t[Al]||(t[Al]=new Set);for(let i=0,n=e.length;i<n;i++){const s=e[i];l.has(s)||(l.add(s),t.addEventListener(s,Yi))}}function M(e,t,l){l==null?e.removeAttribute(t):e.setAttribute(t,l)}function qi(e,t,l,i){i==null?e.removeAttributeNS(t,l):e.setAttributeNS(t,l,i)}function Hi(e,t){t==null?e.removeAttribute("class"):e.className=t}function Bl(e,t,l,i){if(i)Array.isArray(l)?(e[`$$${t}`]=l[0],e[`$$${t}Data`]=l[1]):e[`$$${t}`]=l;else if(Array.isArray(l)){const n=l[0];e.addEventListener(t,l[0]=s=>n.call(e,l[1],s))}else e.addEventListener(t,l)}function Vi(e,t,l={}){const i=Object.keys(t||{}),n=Object.keys(l);let s,a;for(s=0,a=n.length;s<a;s++){const r=n[s];!r||r==="undefined"||t[r]||(Tl(e,r,!1),delete l[r])}for(s=0,a=i.length;s<a;s++){const r=i[s],d=!!t[r];!r||r==="undefined"||l[r]===d||!d||(Tl(e,r,!0),l[r]=d)}return l}function yl(e,t,l){if(!t)return l?M(e,"style"):t;const i=e.style;if(typeof t=="string")return i.cssText=t;typeof l=="string"&&(i.cssText=l=void 0),l||(l={}),t||(t={});let n,s;for(s in l)t[s]==null&&i.removeProperty(s),delete l[s];for(s in t)n=t[s],n!==l[s]&&(i.setProperty(s,n),l[s]=n);return l}function Gi(e,t={},l,i){const n={};return i||v(()=>n.children=et(e,t.children,n.children)),v(()=>typeof t.ref=="function"?Re(t.ref,e):t.ref=e),v(()=>Ki(e,t,l,!0,n,!0)),n}function Re(e,t,l){return Ce(()=>e(t,l))}function u(e,t,l,i){if(l!==void 0&&!i&&(i=[]),typeof t!="function")return et(e,t,i,l);v(n=>et(e,t(),n,l),i)}function Ki(e,t,l,i,n={},s=!1){t||(t={});for(const a in n)if(!(a in t)){if(a==="children")continue;n[a]=El(e,a,null,n[a],l,s)}for(const a in t){if(a==="children"){i||et(e,t.children);continue}const r=t[a];n[a]=El(e,a,r,n[a],l,s)}}function Zi(e){return e.toLowerCase().replace(/-([a-z])/g,(t,l)=>l.toUpperCase())}function Tl(e,t,l){const i=t.trim().split(/\s+/);for(let n=0,s=i.length;n<s;n++)e.classList.toggle(i[n],l)}function El(e,t,l,i,n,s){let a,r,d,f,c;if(t==="style")return yl(e,l,i);if(t==="classList")return Vi(e,l,i);if(l===i)return i;if(t==="ref")s||l(e);else if(t.slice(0,3)==="on:"){const p=t.slice(3);i&&e.removeEventListener(p,i),l&&e.addEventListener(p,l)}else if(t.slice(0,10)==="oncapture:"){const p=t.slice(10);i&&e.removeEventListener(p,i,!0),l&&e.addEventListener(p,l,!0)}else if(t.slice(0,2)==="on"){const p=t.slice(2).toLowerCase(),h=Ri.has(p);if(!h&&i){const g=Array.isArray(i)?i[0]:i;e.removeEventListener(p,g)}(h||l)&&(Bl(e,p,l,h),h&&ne([p]))}else if(t.slice(0,5)==="attr:")M(e,t.slice(5),l);else if((c=t.slice(0,5)==="prop:")||(d=zi.has(t))||!n&&((f=Oi(t,e.tagName))||(r=Mi.has(t)))||(a=e.nodeName.includes("-")))c&&(t=t.slice(5),r=!0),t==="class"||t==="className"?Hi(e,l):a&&!r&&!d?e[Zi(t)]=l:e[f||t]=l;else{const p=n&&t.indexOf(":")>-1&&Fi[t.split(":")[0]];p?qi(e,p,t,l):M(e,Ni[t]||t,l)}return l}function Yi(e){const t=`$$${e.type}`;let l=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==l&&Object.defineProperty(e,"target",{configurable:!0,value:l}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return l||document}});l;){const i=l[t];if(i&&!l.disabled){const n=l[`${t}Data`];if(n!==void 0?i.call(l,n,e):i.call(l,e),e.cancelBubble)return}l=l._$host||l.parentNode||l.host}}function et(e,t,l,i,n){for(;typeof l=="function";)l=l();if(t===l)return l;const s=typeof t,a=i!==void 0;if(e=a&&l[0]&&l[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),a){let r=l[0];r&&r.nodeType===3?r.data!==t&&(r.data=t):r=document.createTextNode(t),l=Je(e,l,i,r)}else l!==""&&typeof l=="string"?l=e.firstChild.data=t:l=e.textContent=t;else if(t==null||s==="boolean")l=Je(e,l,i);else{if(s==="function")return v(()=>{let r=t();for(;typeof r=="function";)r=r();l=et(e,r,l,i)}),()=>l;if(Array.isArray(t)){const r=[],d=l&&Array.isArray(l);if(_l(r,t,l,n))return v(()=>l=et(e,r,l,i,!0)),()=>l;if(r.length===0){if(l=Je(e,l,i),a)return l}else d?l.length===0?Pl(e,r,i):Bi(e,l,r):(l&&Je(e),Pl(e,r));l=r}else if(t.nodeType){if(Array.isArray(l)){if(a)return l=Je(e,l,i,t);Je(e,l,null,t)}else l==null||l===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);l=t}}return l}function _l(e,t,l,i){let n=!1;for(let s=0,a=t.length;s<a;s++){let r=t[s],d=l&&l[e.length],f;if(!(r==null||r===!0||r===!1))if((f=typeof r)=="object"&&r.nodeType)e.push(r);else if(Array.isArray(r))n=_l(e,r,d)||n;else if(f==="function")if(i){for(;typeof r=="function";)r=r();n=_l(e,Array.isArray(r)?r:[r],Array.isArray(d)?d:[d])||n}else e.push(r),n=!0;else{const c=String(r);d&&d.nodeType===3&&d.data===c?e.push(d):e.push(document.createTextNode(c))}}return n}function Pl(e,t,l=null){for(let i=0,n=t.length;i<n;i++)e.insertBefore(t[i],l)}function Je(e,t,l,i){if(l===void 0)return e.textContent="";const n=i||document.createTextNode("");if(t.length){let s=!1;for(let a=t.length-1;a>=0;a--){const r=t[a];if(n!==r){const d=r.parentNode===e;!s&&!a?d?e.replaceChild(n,r):e.insertBefore(n,l):d&&r.remove()}else s=!0}}else e.insertBefore(n,l);return[n]}const Xi=!1;function Ji(e,t,l){return e.addEventListener(t,l),()=>e.removeEventListener(t,l)}function Qi([e,t],l,i){return[l?()=>l(e()):e,i?n=>t(i(n)):t]}function en(e){if(e==="#")return null;try{return document.querySelector(e)}catch{return null}}function tn(e,t){const l=en(`#${e}`);l?l.scrollIntoView():t&&window.scrollTo(0,0)}function ln(e,t,l,i){let n=!1;const s=r=>typeof r=="string"?{value:r}:r,a=Qi(y(s(e()),{equals:(r,d)=>r.value===d.value}),void 0,r=>(!n&&t(r),r));return l&&Ve(l((r=e())=>{n=!0,a[1](s(r)),n=!1})),{signal:a,utils:i}}function nn(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:y({value:""})};return e}function sn(){return ln(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:t,scroll:l,state:i})=>{t?window.history.replaceState(i,"",e):window.history.pushState(i,"",e),tn(window.location.hash.slice(1),l)},e=>Ji(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}function rn(){let e=new Set;function t(n){return e.add(n),()=>e.delete(n)}let l=!1;function i(n,s){if(l)return!(l=!1);const a={to:n,options:s,defaultPrevented:!1,preventDefault:()=>a.defaultPrevented=!0};for(const r of e)r.listener({...a,from:r.location,retry:d=>{d&&(l=!0),r.navigate(n,s)}});return!a.defaultPrevented}return{subscribe:t,confirm:i}}const an=/^(?:[a-z0-9]+:)?\/\//i,on=/^\/+|(\/)\/+$/g;function He(e,t=!1){const l=e.replace(on,"$1");return l?t||/^[?#]/.test(l)?l:"/"+l:""}function Lt(e,t,l){if(an.test(t))return;const i=He(e),n=l&&He(l);let s="";return!n||t.startsWith("/")?s=i:n.toLowerCase().indexOf(i.toLowerCase())!==0?s=i+n:s=n,(s||"/")+He(t,!s)}function dn(e,t){if(e==null)throw new Error(t);return e}function jl(e,t){return He(e).replace(/\/*(\*.*)?$/g,"")+He(t)}function cn(e){const t={};return e.searchParams.forEach((l,i)=>{t[i]=l}),t}function un(e,t,l){const[i,n]=e.split("/*",2),s=i.split("/").filter(Boolean),a=s.length;return r=>{const d=r.split("/").filter(Boolean),f=d.length-a;if(f<0||f>0&&n===void 0&&!t)return null;const c={path:a?"":"/",params:{}},p=h=>l===void 0?void 0:l[h];for(let h=0;h<a;h++){const g=s[h],x=d[h],m=g[0]===":",$=m?g.slice(1):g;if(m&&dl(x,p($)))c.params[$]=x;else if(m||!dl(x,g))return null;c.path+=`/${x}`}if(n){const h=f?d.slice(-f).join("/"):"";if(dl(h,p(n)))c.params[n]=h;else return null}return c}}function dl(e,t){const l=i=>i.localeCompare(e,void 0,{sensitivity:"base"})===0;return t===void 0?!0:typeof t=="string"?l(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(l):t instanceof RegExp?t.test(e):!1}function fn(e){const[t,l]=e.pattern.split("/*",2),i=t.split("/").filter(Boolean);return i.reduce((n,s)=>n+(s.startsWith(":")?2:3),i.length-(l===void 0?0:1))}function ql(e){const t=new Map,l=yi();return new Proxy({},{get(i,n){return t.has(n)||xi(l,()=>t.set(n,H(()=>e()[n]))),t.get(n)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function Hl(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let l=e.slice(0,t.index),i=e.slice(t.index+t[0].length);const n=[l,l+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(i);)n.push(l+=t[1]),i=i.slice(t[0].length);return Hl(i).reduce((s,a)=>[...s,...n.map(r=>r+a)],[])}const vn=100,Vl=Se(),Ht=Se(),pt=()=>dn(W(Vl),"Make sure your app is wrapped in a <Router />");let ct;const Vt=()=>ct||W(Ht)||pt().base,pn=e=>{const t=Vt();return H(()=>t.resolvePath(e()))},hn=e=>{const t=pt();return H(()=>{const l=e();return l!==void 0?t.renderPath(l):l})},Gl=()=>pt().navigatorFactory(),xl=()=>pt().location,Kl=()=>Vt().params;function _n(e,t="",l){const{component:i,data:n,children:s}=e,a=!s||Array.isArray(s)&&!s.length,r={key:e,element:i?()=>o(i,{}):()=>{const{element:d}=e;return d===void 0&&l?o(l,{}):d},preload:e.component?i.preload:e.preload,data:n};return Zl(e.path).reduce((d,f)=>{for(const c of Hl(f)){const p=jl(t,c),h=a?p:p.split("/*",1)[0];d.push({...r,originalPath:c,pattern:h,matcher:un(h,!a,e.matchFilters)})}return d},[])}function gn(e,t=0){return{routes:e,score:fn(e[e.length-1])*1e4-t,matcher(l){const i=[];for(let n=e.length-1;n>=0;n--){const s=e[n],a=s.matcher(l);if(!a)return null;i.unshift({...a,route:s})}return i}}}function Zl(e){return Array.isArray(e)?e:[e]}function Yl(e,t="",l,i=[],n=[]){const s=Zl(e);for(let a=0,r=s.length;a<r;a++){const d=s[a];if(d&&typeof d=="object"&&d.hasOwnProperty("path")){const f=_n(d,t,l);for(const c of f){i.push(c);const p=Array.isArray(d.children)&&d.children.length===0;if(d.children&&!p)Yl(d.children,c.pattern,l,i,n);else{const h=gn([...i],n.length);n.push(h)}i.pop()}}}return i.length?n:n.sort((a,r)=>r.score-a.score)}function $n(e,t){for(let l=0,i=e.length;l<i;l++){const n=e[l].matcher(t);if(n)return n}return[]}function mn(e,t){const l=new URL("http://sar"),i=H(d=>{const f=e();try{return new URL(f,l)}catch{return console.error(`Invalid path ${f}`),d}},l,{equals:(d,f)=>d.href===f.href}),n=H(()=>i().pathname),s=H(()=>i().search,!0),a=H(()=>i().hash),r=H(()=>"");return{get pathname(){return n()},get search(){return s()},get hash(){return a()},get state(){return t()},get key(){return r()},query:ql(Nl(s,()=>cn(i())))}}function bn(e,t="",l,i){const{signal:[n,s],utils:a={}}=nn(e),r=a.parsePath||(w=>w),d=a.renderPath||(w=>w),f=a.beforeLeave||rn(),c=Lt("",t),p=void 0;if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!n().value&&s({value:c,replace:!0,scroll:!1});const[h,g]=y(!1),x=async w=>{g(!0);try{await ki(w)}finally{g(!1)}},[m,$]=y(n().value),[b,S]=y(n().state),k=mn(m,b),D=[],P={pattern:c,params:{},path:()=>c,outlet:()=>null,resolvePath(w){return Lt(c,w)}};if(l)try{ct=P,P.data=l({data:void 0,params:{},location:k,navigate:U(P)})}finally{ct=void 0}function T(w,C,E){Ce(()=>{if(typeof C=="number"){C&&(a.go?f.confirm(C,E)&&a.go(C):console.warn("Router integration does not support relative routing"));return}const{replace:O,resolve:ee,scroll:ae,state:se}={replace:!1,resolve:!0,scroll:!0,...E},F=ee?w.resolvePath(C):Lt("",C);if(F===void 0)throw new Error(`Path '${C}' is not a routable path`);if(D.length>=vn)throw new Error("Too many redirects");const j=m();if((F!==j||se!==b())&&!Xi){if(f.confirm(F,E)){const I=D.push({value:j,replace:O,scroll:ae,state:b()});x(()=>{$(F),S(se)}).then(()=>{D.length===I&&L({value:F,state:se})})}}})}function U(w){return w=w||W(Ht)||P,(C,E)=>T(w,C,E)}function L(w){const C=D[0];C&&((w.value!==C.value||w.state!==C.state)&&s({...w,replace:C.replace,scroll:C.scroll}),D.length=0)}v(()=>{const{value:w,state:C}=n();Ce(()=>{w!==m()&&x(()=>{$(w),S(C)})})});{let w=function(C){if(C.defaultPrevented||C.button!==0||C.metaKey||C.altKey||C.ctrlKey||C.shiftKey)return;const E=C.composedPath().find(j=>j instanceof Node&&j.nodeName.toUpperCase()==="A");if(!E||!E.hasAttribute("link"))return;const O=E.href;if(E.target||!O&&!E.hasAttribute("state"))return;const ee=(E.getAttribute("rel")||"").split(/\s+/);if(E.hasAttribute("download")||ee&&ee.includes("external"))return;const ae=new URL(O);if(ae.origin!==window.location.origin||c&&ae.pathname&&!ae.pathname.toLowerCase().startsWith(c.toLowerCase()))return;const se=r(ae.pathname+ae.search+ae.hash),F=E.getAttribute("state");C.preventDefault(),T(P,se,{resolve:!1,replace:E.hasAttribute("replace"),scroll:!E.hasAttribute("noscroll"),state:F&&JSON.parse(F)})};var q=w;ne(["click"]),document.addEventListener("click",w),Ve(()=>document.removeEventListener("click",w))}return{base:P,out:p,location:k,isRouting:h,renderPath:d,parsePath:r,navigatorFactory:U,beforeLeave:f}}function yn(e,t,l,i,n){const{base:s,location:a,navigatorFactory:r}=e,{pattern:d,element:f,preload:c,data:p}=i().route,h=H(()=>i().path);c&&c();const g={parent:t,pattern:d,get child(){return l()},path:h,params:n,data:t.data,outlet:f,resolvePath(x){return Lt(s.path(),x,h())}};if(p)try{ct=g,g.data=p({data:t.data,params:n,location:a,navigate:r(g)})}finally{ct=void 0}return g}var xn=_("<a link>");const kn=e=>{const{source:t,url:l,base:i,data:n,out:s}=e,a=t||sn(),r=bn(a,i,n);return o(Vl.Provider,{value:r,get children(){return e.children}})},Sn=e=>{const t=pt(),l=Vt(),i=$l(()=>e.children),n=H(()=>Yl(i(),jl(l.pattern,e.base||""),ke)),s=H(()=>$n(n(),t.location.pathname)),a=ql(()=>{const c=s(),p={};for(let h=0;h<c.length;h++)Object.assign(p,c[h].params);return p});t.out&&t.out.matches.push(s().map(({route:c,path:p,params:h})=>({originalPath:c.originalPath,pattern:c.pattern,path:p,params:h})));const r=[];let d;const f=H(Nl(s,(c,p,h)=>{let g=p&&c.length===p.length;const x=[];for(let m=0,$=c.length;m<$;m++){const b=p&&p[m],S=c[m];h&&b&&S.route.key===b.route.key?x[m]=h[m]:(g=!1,r[m]&&r[m](),dt(k=>{r[m]=k,x[m]=yn(t,x[m-1]||l,()=>f()[m+1],()=>s()[m],a)}))}return r.splice(c.length).forEach(m=>m()),h&&g?h:(d=x[0],x)}));return o(le,{get when(){return f()&&d},keyed:!0,children:c=>o(Ht.Provider,{value:c,get children(){return c.outlet()}})})},ie=e=>{const t=$l(()=>e.children);return hl(e,{get children(){return t()}})},ke=()=>{const e=Vt();return o(le,{get when(){return e.child},keyed:!0,children:t=>o(Ht.Provider,{value:t,get children(){return t.outlet()}})})};function De(e){e=hl({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=Di(e,["href","state","class","activeClass","inactiveClass","end"]),l=pn(()=>e.href),i=hn(l),n=xl(),s=H(()=>{const a=l();if(a===void 0)return!1;const r=He(a.split(/[?#]/,1)[0]).toLowerCase(),d=He(n.pathname).toLowerCase();return e.end?r===d:d.startsWith(r)});return(()=>{var a=xn();return Gi(a,hl(t,{get href(){return i()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!s(),[e.activeClass]:s(),...t.classList}},get"aria-current"(){return s()?"page":void 0}}),!1,!1),a})()}function nt(e){const t=Gl(),l=xl(),{href:i,state:n}=e,s=typeof i=="function"?i({navigate:t,location:l}):i;return t(s,{replace:!0,state:n}),null}var wn=_('<div class=spinner-with-message><svg width=24 height=24 stroke=#000 viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><g class=spinner><circle cx=12 cy=12 r=9.5 fill=none stroke-width=3>'),Cn=_("<p>"),An=_('<svg width=14 height=14 stroke=#000 viewBox="0 0 24 24"class=inline-block xmlns=http://www.w3.org/2000/svg><g class=spinner><circle cx=12 cy=12 r=9.5 fill=none stroke-width=3>');function Gt(e){return(()=>{var t=wn();return t.firstChild,u(t,(()=>{var l=H(()=>!!e.message);return()=>l()?(()=>{var i=Cn();return u(i,()=>e.message),i})():""})(),null),t})()}function ht(){return An()}var Tn=_("<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.");function Ue(e){return Tn()}var En=_('<div class="overflow-y-auto h-screen"><div class="flex flex-col justify-center p-6 __elements__"><h4>Buttons</h4><div class=flex><div class=p-2><p>btn</p><button class=btn>submit</button></div><div class=p-2><p>btn-confirm</p><button class=btn-confirm>submit</button></div><div class=p-2><p>btn-good</p><button class=btn-good>submit</button></div><div class=p-2><p>btn-warning</p><button class=btn-warning>submit</button></div><div class=p-2><p>btn-danger</p><button class=btn-danger>submit</button></div></div><h4>a Buttons</h4><div class=flex><div class=p-2><p>btn</p><a class=btn>submit</a></div><div class=p-2><p>btn-confirm</p><a class=btn-confirm>submit</a></div><div class=p-2><p>btn-good</p><a class=btn-good>submit</a></div><div class=p-2><p>btn-warning</p><a class=btn-warning>submit</a></div><div class=p-2><p>btn-danger</p><a class=btn-danger>submit</a></div></div><h4>input=submit Buttons</h4><form><div class=flex><div class=p-2><p>btn</p><input type=submit class=btn></div><div class=p-2><p>btn-confirm</p><input type=submit class=btn-confirm></div><div class=p-2><p>btn-good</p><input type=submit class=btn-good></div><div class=p-2><p>btn-warning</p><input type=submit class=btn-warning></div><div class=p-2><p>btn-danger</p><input type=submit class=btn-danger></div></div></form><h4>Forms</h4><h5>Inputs</h5><form><div class="flex flex-wrap pb-4"><div class=p-2><label>text</label><input type=text></div><div class=p-2><label>text required</label><input type=text required></div><div class=p-2><label>password</label><input type=password></div><div class=p-2><label>date</label><input type=date></div><div class=p-2><label>datetime-local</label><input type=datetime-local></div><div class=p-2><label>month</label><input type=month></div><div class=p-2><label>week</label><input type=week></div><div class=p-2><label>time</label><input type=time></div><div class=p-2><label>number</label><input type=number></div><div class=p-2><label>color</label><input type=color></div><div class=p-2><label>email</label><input type=email></div><div class=p-2><label>url</label><input type=url></div><div class=p-2><label>tel</label><input type=tel></div><div class=p-2><label>search</label><input type=search></div></div><div class="flex flex-wrap pb-4"><div class=p-2><label>range with labels</label><div class=range-labels><span>0</span><input type=range min=0 max=100 step=1><span>100</span></div></div><div class=p-2><label>range with labels show value</label><div class=range-labels><span>0</span><input type=range min=0 max=100 step=1><span></span><span>100</span></div></div><div class=p-2><label>range</label><input type=range min=0 max=100 step=1></div></div><div class="flex flex-wrap pb-4"><div class=p-2><label>select</label><select><option>Select...</option><option>option 1</option><option>option 2</option><option>option 3</option></select></div><div class=p-2><label>select required</label><select required><option>Select...</option><option>option 1</option><option>option 2</option><option>option 3</option></select></div></div><div class="flex flex-wrap pb-4"><div class=inline-label><label>select</label><select><option>Select...</option><option>option 1</option><option>option 2</option><option>option 3</option></select></div></div><div class="flex flex-wrap pb-4"><div class=p-2><label>file</label><input type=file></div><div class=p-2><label>file required</label><input type=file required></div></div><div class="flex flex-wrap pb-4"><div class=p-2><label>Radio</label><label for=value1 class=radio-label><input type=radio id=value1 name=radio1 value=value1 checked>value1</label><label for=value2 class=radio-label><input type=radio id=value2 name=radio1 value=value2>value2</label><label for=value3 class=radio-label><input type=radio id=value3 name=radio1 value=value3>value3</label></div><div class=p-2><label>Radio group col</label><div class=radio-group-col><label for=value111 class=radio-label><input type=radio id=value111 name=radio111 value=value111 checked>value1</label><label for=value222 class=radio-label><input type=radio id=value222 name=radio111 value=value222>value2</label><label for=value333 class=radio-label><input type=radio id=value333 name=radio111 value=value333>value3</label></div></div><div class=p-2><label>Radio group row</label><div class=radio-group-row><label for=value11 class=radio-label><input type=radio id=value11 name=radio11 value=value11 checked>value1</label><label for=value22 class=radio-label><input type=radio id=value22 name=radio11 value=value22>value2</label><label for=value33 class=radio-label><input type=radio id=value33 name=radio11 value=value33>value3</label></div></div></div><div class="flex flex-wrap pb-4"><div class=p-2><label>Checkbox</label><label for=check1 class=checkbox><input type=checkbox id=check1 name=check1 value=check1 checked>check1</label></div></div><div class="flex flex-col"><div class=p-2><div class=inline-button><input type=text><button class=btn-confirm>submit</button></div></div><div class=p-2><div class=inline-label><label>inline label range with labels</label><div class=range-labels><span>0</span><input type=range min=0 max=100 step=1><span>100</span></div></div></div><div class=p-2><div class=inline-label><label>inline label range with labels show value</label><div class=range-labels><span>0</span><input type=range min=0 max=100 step=1><span></span><span>100</span></div></div></div><div class=p-2><div class=inline-label><label>In line Input</label><input type=text></div></div><div class=p-2><div class=inline-label><label>In line Input required</label><input type=text required></div></div></div></form><h4>Spinners</h4><div class=p-2><h5>SpinnerSmall</h5></div><div class=p-2><h5>SpinnerWithMessage</h5></div><h4>Headers</h4><div class="p-2 flex flex-col"><div class="border w-full"></div><h1>Header 1</h1><h2>Header 2</h2><h3>Header 3</h3><h4>Header 4</h4><h5>Header 5</h5><h6>Header 6</h6></div><div class="p-2 flex flex-col gap-2"><p>Paragraph</p></div><h4>Attention</h4><div class=__attention__><div class=attention><h6>attention</h6></div><div class=attention-confirm><h6>attention-confirm</h6></div><div class=attention-warning><h6>attention-warning</h6></div><div class=attention-danger><h6>attention-danger');function Pn(){const[e,t]=y(0);return(()=>{var l=En(),i=l.firstChild,n=i.firstChild,s=n.nextSibling,a=s.firstChild,r=a.firstChild,d=r.nextSibling,f=a.nextSibling,c=f.firstChild,p=c.nextSibling,h=f.nextSibling,g=h.firstChild,x=g.nextSibling,m=h.nextSibling,$=m.firstChild,b=$.nextSibling,S=m.nextSibling,k=S.firstChild,D=k.nextSibling,P=s.nextSibling,T=P.nextSibling,U=T.firstChild,L=U.firstChild,q=L.nextSibling,w=U.nextSibling,C=w.firstChild,E=C.nextSibling,O=w.nextSibling,ee=O.firstChild,ae=ee.nextSibling,se=O.nextSibling,F=se.firstChild,j=F.nextSibling,I=se.nextSibling,de=I.firstChild,Q=de.nextSibling,V=T.nextSibling,te=V.nextSibling,A=te.nextSibling,R=A.nextSibling,K=R.nextSibling,Y=K.firstChild,X=Y.nextSibling,ue=X.firstChild,re=ue.firstChild,B=re.nextSibling,z=B.firstChild,N=z.nextSibling,Z=ue.nextSibling,G=Z.firstChild,pe=G.nextSibling,fe=pe.firstChild,Ne=fe.nextSibling,Ke=Ne.nextSibling,oe=Z.nextSibling,ge=oe.firstChild,me=ge.nextSibling,Ae=X.nextSibling,gt=Ae.nextSibling,$t=gt.nextSibling,mt=$t.nextSibling,Kt=mt.nextSibling,bt=Kt.nextSibling,tt=bt.firstChild,Zt=tt.firstChild,yt=Zt.firstChild,xt=yt.nextSibling,kt=tt.nextSibling,St=kt.firstChild,Yt=St.firstChild,Xt=Yt.nextSibling,wt=Xt.firstChild,Ze=wt.nextSibling,Ct=kt.nextSibling,Jt=Ct.firstChild,At=Jt.firstChild,Tt=At.nextSibling,Qt=Tt.firstChild,qe=Qt.nextSibling,el=qe.nextSibling,tl=K.nextSibling,Ye=tl.nextSibling;Ye.firstChild;var lt=Ye.nextSibling;lt.firstChild;var Et=lt.nextSibling,Pe=Et.nextSibling,Pt=Pe.firstChild,ll=Pt.nextSibling,Ut=ll.nextSibling,it=Ut.nextSibling,J=it.nextSibling,Xe=J.nextSibling,il=Xe.nextSibling,hi=Pe.nextSibling,_i=hi.nextSibling,gi=_i.nextSibling,nl=gi.firstChild;nl.firstChild;var sl=nl.nextSibling;sl.firstChild;var rl=sl.nextSibling;rl.firstChild;var wl=rl.nextSibling;return wl.firstChild,d.$$click=()=>{},p.$$click=()=>{},x.$$click=()=>{},b.$$click=()=>{},D.$$click=()=>{},q.$$click=()=>{},E.$$click=()=>{},ae.$$click=()=>{},j.$$click=()=>{},Q.$$click=()=>{},N.addEventListener("change",$e=>t($e.target.value)),N.$$input=$e=>t($e.target.value),Ne.addEventListener("change",$e=>t($e.target.value)),Ne.$$input=$e=>t($e.target.value),u(Ke,e),me.addEventListener("change",$e=>t($e.target.value)),me.$$input=$e=>t($e.target.value),xt.$$click=()=>{},Ze.addEventListener("change",$e=>t($e.target.value)),Ze.$$input=$e=>t($e.target.value),qe.addEventListener("change",$e=>t($e.target.value)),qe.$$input=$e=>t($e.target.value),u(el,e),u(Ye,o(ht,{}),null),u(lt,o(Gt,{message:"Loading message..."}),null),u(Pe,o(Ue,{}),Ut),u(Pe,o(Ue,{}),it),u(Pe,o(Ue,{}),J),u(Pe,o(Ue,{}),Xe),u(Pe,o(Ue,{}),il),u(Pe,o(Ue,{}),null),u(nl,o(Ue,{}),null),u(sl,o(Ue,{}),null),u(rl,o(Ue,{}),null),u(wl,o(Ue,{}),null),v(()=>N.value=e()),v(()=>Ne.value=e()),v(()=>me.value=e()),v(()=>Ze.value=e()),v(()=>qe.value=e()),l})()}ne(["click","input"]);var Un=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-linecap=round stroke-linejoin=round><circle cx=12 cy=12 r=10></circle><polyline points="12 8 8 12 12 16"></polyline><line x1=16 y1=12 x2=8 y2=12>'),Dn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-linecap=round stroke-linejoin=round><circle cx=12 cy=12 r=10></circle><polyline points="12 16 16 12 12 8"></polyline><line x1=8 y1=12 x2=16 y2=12>'),Ln=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=1.5 stroke-linecap=round stroke-linejoin=round><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx=12 cy=12 r=3>'),Wn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=1.5 stroke-linecap=round stroke-linejoin=round><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path><line x1=1 y1=1 x2=23 y2=23>'),Mn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M20 6v12a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h10a2 2 0 0 1 2 2z"></path><path d="M10 16h6"></path><path d="M13 11m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"></path><path d="M4 8h3"></path><path d="M4 12h3"></path><path d="M4 16h3">'),zn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=#2c3e50 fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M8 4h10a2 2 0 0 1 2 2v10m-.57 3.399c-.363 .37 -.87 .601 -1.43 .601h-10a2 2 0 0 1 -2 -2v-12"></path><path d="M10 16h6"></path><path d="M11 11a2 2 0 0 0 2 2m2 -2a2 2 0 0 0 -2 -2"></path><path d="M4 8h3"></path><path d="M4 12h3"></path><path d="M4 16h3"></path><path d="M3 3l18 18">'),Nn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path><path d="M12 10m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"></path><path d="M6.168 18.849a4 4 0 0 1 3.832 -2.849h4a4 4 0 0 1 3.834 2.855">'),In=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M9 7m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"></path><path d="M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path><path d="M21 21v-2a4 4 0 0 0 -3 -3.85">'),On=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M10 8v-2a2 2 0 0 1 2 -2h7a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-7a2 2 0 0 1 -2 -2v-2"></path><path d="M15 12h-12l3 -3"></path><path d="M6 15l-3 -3">'),Rn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M4 10a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"></path><path d="M6 4v4"></path><path d="M6 12v8"></path><path d="M10 16a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"></path><path d="M12 4v10"></path><path d="M12 18v2"></path><path d="M16 7a2 2 0 1 0 4 0a2 2 0 0 0 -4 0"></path><path d="M18 4v1"></path><path d="M18 9v11">'),Fn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M10 12l10 0"></path><path d="M10 12l4 4"></path><path d="M10 12l4 -4"></path><path d="M4 4l0 16">'),Bn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M14 12l-10 0"></path><path d="M14 12l-4 4"></path><path d="M14 12l-4 -4"></path><path d="M20 4l0 16">'),jn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M5 12l14 0"></path><path d="M15 16l4 -4"></path><path d="M15 8l4 4">'),qn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M5 12l14 0"></path><path d="M5 12l4 4"></path><path d="M5 12l4 -4">'),Hn=_('<svg xmlns=http://www.w3.org/2000/svg class="icon icon-tabler icon-tabler-filter"viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M4 4h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v7l-6 2v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227z">'),Vn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor fill=none stroke-linecap=round stroke-linejoin=round><path stroke=none d="M0 0h24v24H0z"fill=none></path><path d="M12 20l-3 1v-8.5l-4.48 -4.928a2 2 0 0 1 -.52 -1.345v-2.227h16v2.172a2 2 0 0 1 -.586 1.414l-4.414 4.414v3"></path><path d="M16 19h6">'),Gn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-width=1.5 stroke-linecap=round stroke-linejoin=round><path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path><line x1=12 y1=9 x2=12 y2=13></line><line x1=12 y1=17 x2=12.01 y2=17>'),Kn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-width=1.5 stroke-linecap=round stroke-linejoin=round><circle cx=12 cy=12 r=10></circle><line x1=12 y1=16 x2=12 y2=12></line><line x1=12 y1=8 x2=12.01 y2=8>'),Zn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-width=1.5 stroke-linecap=round stroke-linejoin=round><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01">'),Yn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-width=1.5 stroke-linecap=round stroke-linejoin=round><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1=12 y1=22.08 x2=12 y2=12>'),Xn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-width=1.5 stroke-linecap=round stroke-linejoin=round><rect x=2 y=2 width=20 height=8 rx=2 ry=2></rect><rect x=2 y=14 width=20 height=8 rx=2 ry=2></rect><line x1=6 y1=6 x2=6.01 y2=6></line><line x1=6 y1=18 x2=6.01 y2=18>'),Jn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-width=1.5 stroke-linecap=round stroke-linejoin=round><circle cx=12 cy=12 r=10></circle><circle cx=12 cy=12 r=6></circle><circle cx=12 cy=12 r=2>'),Qn=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-linecap=round stroke-linejoin=round><line x1=18 y1=6 x2=6 y2=18></line><line x1=6 y1=6 x2=18 y2=18>'),es=_('<svg xmlns=http://www.w3.org/2000/svg class=p-0.5 viewBox="0 0 24 24"fill=none stroke-linecap=round stroke-linejoin=round><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1=10 y1=14 x2=21 y2=3>');function ts(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),e.strokeWidth===void 0&&(e.strokeWidth=1.5),(()=>{var t=Un();return v(l=>{var i=e.size,n=e.size,s=e.color,a=e.strokeWidth;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),s!==l.a&&M(t,"stroke",l.a=s),a!==l.o&&M(t,"stroke-width",l.o=a),l},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()}function ls(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),e.strokeWidth===void 0&&(e.strokeWidth=1.5),(()=>{var t=Dn();return v(l=>{var i=e.size,n=e.size,s=e.color,a=e.strokeWidth;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),s!==l.a&&M(t,"stroke",l.a=s),a!==l.o&&M(t,"stroke-width",l.o=a),l},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()}function Le(e){return e.size===void 0&&(e.size=24),(()=>{var t=Ln();return v(l=>{var i=e.size,n=e.size;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),l},{e:void 0,t:void 0}),t})()}function We(e){return e.size===void 0&&(e.size=24),(()=>{var t=Wn();return v(l=>{var i=e.size,n=e.size;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),l},{e:void 0,t:void 0}),t})()}function is(e){return e.size===void 0&&(e.size=24),(()=>{var t=Mn();return v(l=>{var i=e.size,n=e.size;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),l},{e:void 0,t:void 0}),t})()}function ns(e){return e.size===void 0&&(e.size=24),(()=>{var t=zn();return v(l=>{var i=e.size,n=e.size;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),l},{e:void 0,t:void 0}),t})()}function ss(e){return e.size===void 0&&(e.size=24),(()=>{var t=Nn();return v(l=>{var i=e.size,n=e.size;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),l},{e:void 0,t:void 0}),t})()}function rs(e){return e.size===void 0&&(e.size=24),(()=>{var t=In();return v(l=>{var i=e.size,n=e.size;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),l},{e:void 0,t:void 0}),t})()}function as(e){return e.size===void 0&&(e.size=24),(()=>{var t=On();return v(l=>{var i=e.size,n=e.size;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),l},{e:void 0,t:void 0}),t})()}function os(e){return e.size===void 0&&(e.size=24),(()=>{var t=Rn();return v(l=>{var i=e.size,n=e.size;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),l},{e:void 0,t:void 0}),t})()}function Xl(e){return e.size===void 0&&(e.size=24),(()=>{var t=Fn();return v(l=>{var i=e.size,n=e.size;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),l},{e:void 0,t:void 0}),t})()}function Jl(e){return e.size===void 0&&(e.size=24),(()=>{var t=Bn();return v(l=>{var i=e.size,n=e.size;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),l},{e:void 0,t:void 0}),t})()}function kl(e){return e.size===void 0&&(e.size=24),(()=>{var t=jn();return v(l=>{var i=e.size,n=e.size;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),l},{e:void 0,t:void 0}),t})()}function Ql(e){return e.size===void 0&&(e.size=24),(()=>{var t=qn();return v(l=>{var i=e.size,n=e.size;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),l},{e:void 0,t:void 0}),t})()}function ei(e){return e.size===void 0&&(e.size=24),(()=>{var t=Hn();return v(l=>{var i=e.size,n=e.size;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),l},{e:void 0,t:void 0}),t})()}function ti(e){return e.size===void 0&&(e.size=24),(()=>{var t=Vn();return v(l=>{var i=e.size,n=e.size;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),l},{e:void 0,t:void 0}),t})()}function ds(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),(()=>{var t=Gn();return v(l=>{var i=e.size,n=e.size,s=e.color;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),s!==l.a&&M(t,"stroke",l.a=s),l},{e:void 0,t:void 0,a:void 0}),t})()}function li(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),(()=>{var t=Kn();return v(l=>{var i=e.size,n=e.size,s=e.color;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),s!==l.a&&M(t,"stroke",l.a=s),l},{e:void 0,t:void 0,a:void 0}),t})()}function cs(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),(()=>{var t=Zn();return v(l=>{var i=e.size,n=e.size,s=e.color;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),s!==l.a&&M(t,"stroke",l.a=s),l},{e:void 0,t:void 0,a:void 0}),t})()}function us(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),(()=>{var t=Yn();return v(l=>{var i=e.size,n=e.size,s=e.color;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),s!==l.a&&M(t,"stroke",l.a=s),l},{e:void 0,t:void 0,a:void 0}),t})()}function fs(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),(()=>{var t=Xn();return v(l=>{var i=e.size,n=e.size,s=e.color;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),s!==l.a&&M(t,"stroke",l.a=s),l},{e:void 0,t:void 0,a:void 0}),t})()}function ii(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),(()=>{var t=Jn();return v(l=>{var i=e.size,n=e.size,s=e.color;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),s!==l.a&&M(t,"stroke",l.a=s),l},{e:void 0,t:void 0,a:void 0}),t})()}function vs(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),e.strokeWidth===void 0&&(e.strokeWidth=1.5),(()=>{var t=Qn();return v(l=>{var i=e.size,n=e.size,s=e.color,a=e.strokeWidth;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),s!==l.a&&M(t,"stroke",l.a=s),a!==l.o&&M(t,"stroke-width",l.o=a),l},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()}function ni(e){return e.size===void 0&&(e.size=24),e.color===void 0&&(e.color="currentColor"),e.strokeWidth===void 0&&(e.strokeWidth=1.5),(()=>{var t=es();return v(l=>{var i=e.size,n=e.size,s=e.color,a=e.strokeWidth;return i!==l.e&&M(t,"width",l.e=i),n!==l.t&&M(t,"height",l.t=n),s!==l.a&&M(t,"stroke",l.a=s),a!==l.o&&M(t,"stroke-width",l.o=a),l},{e:void 0,t:void 0,a:void 0,o:void 0}),t})()}var ps=_("<div class=loading-background>");function hs(){return(()=>{var e=ps();return u(e,o(Gt,{})),e})()}var _s=_("<p>Workshop"),gs=_("<p>Clients"),$s=_("<p>Account"),ms=_("<p>System"),bs=_("<div class=main-menu-icon><p>Hide&nbsp;Menu"),ys=_("<p>Logout"),xs=_("<div class=main-menu><div></div><div><div class=main-menu-icon>"),ks=_("<div class=main-menu-icon>");function Ss(){const e=W(ce);return(()=>{var t=xs(),l=t.firstChild,i=l.nextSibling,n=i.firstChild;return u(l,o(De,{href:"/workshop",activeClass:"main-menu-icon-active",inactiveClass:"main-menu-icon",get children(){return[o(ii,{get size(){return e.iconSize()}}),o(le,{get when(){return e.showMainMenu()},get children(){return _s()}})]}}),null),u(l,o(De,{href:"/clients",activeClass:"main-menu-icon-active",inactiveClass:"main-menu-icon",get children(){return[o(is,{get size(){return e.iconSize()}}),o(le,{get when(){return e.showMainMenu()},get children(){return gs()}})]}}),null),u(i,o(De,{href:"/account",activeClass:"main-menu-icon-active",inactiveClass:"main-menu-icon",get children(){return[o(ss,{get size(){return e.iconSize()}}),o(le,{get when(){return e.showMainMenu()},get children(){return $s()}})]}}),n),u(i,o(De,{href:"/system",activeClass:"main-menu-icon-active",inactiveClass:"main-menu-icon",get children(){return[o(os,{get size(){return e.iconSize()}}),o(le,{get when(){return e.showMainMenu()},get children(){return ms()}})]}}),n),u(i,o(le,{get when(){return e.showMainMenu()},get fallback(){return(()=>{var s=ks();return s.$$click=()=>{e.setShowMainMenu(!0)},u(s,o(ls,{get size(){return e.iconSize()}})),s})()},get children(){var s=bs(),a=s.firstChild;return s.$$click=()=>{e.setShowMainMenu(!1)},u(s,o(ts,{get size(){return e.iconSize()}}),a),s}}),n),n.$$click=()=>e.logout(),u(n,o(as,{get size(){return e.iconSize()}}),null),u(n,o(le,{get when(){return e.showMainMenu()},get children(){return ys()}}),null),v(s=>(s=e.showMainMenu()?"250px":`${e.iconSize()+55}px`)!=null?t.style.setProperty("width",s):t.style.removeProperty("width")),t})()}ne(["click"]);var ws=_('<div><div class="flex gap-2">');function Ul(e){const t=W(ce),[l,i]=y(!1),[n,s]=y(!1),[a,r]=y("");let d=null,f=null;return Me(()=>{t.toastBarMessage()!==""?(i(!0),s(!0),r(t.toastBarMessage()),clearTimeout(f),f=setTimeout(()=>{s(!1),clearTimeout(d),d=setTimeout(()=>{t.setToastBarMessage("")},200)},4e3)):i(!1)}),o(le,{get when(){return l()},get children(){var c=ws(),p=c.firstChild;return c.$$click=()=>{clearTimeout(f),clearTimeout(d),t.setToastBarMessage("")},c.$$mouseover=()=>{clearTimeout(f),clearTimeout(d)},u(p,(()=>{var h=H(()=>t.toastBarType()==="error");return()=>h()?o(ds,{color:"#ff8484"}):null})(),null),u(p,(()=>{var h=H(()=>t.toastBarType()==="success");return()=>h()?o(cs,{color:"#4f9d4f"}):null})(),null),u(p,(()=>{var h=H(()=>t.toastBarType()==="info");return()=>h()?o(li,{color:"#ffbf2d"}):null})(),null),u(p,a,null),v(()=>c.className=n()?"toast-bar-fade-in":"toast-bar-fade-out"),c}})}ne(["mouseover","click"]);const Cs="/api/v1",As=["All-in-One","Desktop","Laptop","Tablet","Phone","Other"],It={1:{name:"Open",style:{"background-color":"#114a06",color:"#ffffff"}},2:{name:"In Progress",style:{"background-color":"#413ab8",color:"#ffffff"}},3:{name:"Waiting for Part(s)",style:{"background-color":"#985408",color:"#ffffff"}},4:{name:"Waiting for Client",style:{"background-color":"#741b78",color:"#ffffff"}},5:{name:"Ready for Pickup",style:{"background-color":"#b1d3bf",color:"#232323"}},6:{name:"Completed",style:{"background-color":"#ecc146",color:"#232323"}},7:{name:"Cancelled",style:{"background-color":"#e44756",color:"#232323"}}},si=Object.entries(It).map(([e,t])=>({code:parseInt(e),label:t.name})),Ot={1:"Drop-in",2:"Remote",3:"Callout",4:"Multiple"},ri=Object.entries(Ot).map(([e,t])=>({code:parseInt(e),label:t}));class xe{constructor(t=Cs){this.apiUrl=t}async get(t){const l=await fetch(this.apiUrl+t,{method:"GET",credentials:"include"});if(l.ok){const i=await l.json();return console.log(i),await i}else throw new Error("System error. Please try again later.")}async post(t,l){const i=await fetch(this.apiUrl+t,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(i.ok){const n=await i.json();return console.log(n),await n}else throw new Error("System error. Please try again later.")}resource(){}}var Ts=_("<div class=main-container>");const ce=Se();function Es(e){const t=new xe,l=Gl(),i=xl(),[n,s]=y({logged_in:!1,user_id:0,user_type:null}),[a,r]=y([]),[d,f]=y("success"),[c,p]=y(""),[h,g]=y(24),[x,m]=y(""),[$,b]=y(!1),[S,k]=y(null),[D,P]=y(null),[T,U]=y(!1),[L,q]=y(!0),[w,C]=y("workshop");function E(I){return It[I]}function O(I){return Ot[I]}function ee(I){f("success"),p(I)}function ae(I){f("error"),p(I)}function se(){t.get("/system/auth/logout").then(I=>{I.ok&&(k(null),P(null),b(!1),C("clients"))})}function F(I,de){t.post("/system/auth/login",{username:I,password:de}).then(Q=>{Q.ok?(s(Q.data),b(Q.data.logged_in),k(Q.data.user_id),P(Q.data.user_type),console.log(Q.data)):ae(Q.message)})}function j(){t.get("/system/auth/session").then(I=>{I.ok&&(s(I.data),b(I.data.logged_in),k(I.data.user_id),P(I.data.user_type))})}return be(()=>{U(!1),t.get("/system/checks").then(I=>{I.ok&&(I.data.system_setup?(m(I.data.system_version),r(I.data.enabled_services),s(I.data.session),b(I.data.session.logged_in),k(I.data.session.user_id),P(I.data.session.user_type),U(!0)):(U(!0),m(I.data.system_version),l("/install")))})}),o(ce.Provider,{value:{systemVersion:x,showMainMenu:L,setShowMainMenu:q,navigator:l,location:i,enabledServices:a,setEnabledServices:r,iconSize:h,setIconSize:g,loggedIn:$,setLoggedIn:b,userId:S,setUserId:k,userType:D,setUserType:P,toastBarType:d,setToastBarType:f,toastBarMessage:c,setToastBarMessage:p,mainMenuLocation:w,setMainMenuLocation:C,fetch_session:j,login:F,logout:se,showSuccessToast:ee,showErrorToast:ae,statusCodeLookup:E,categoryCodeLookup:O},get children(){return H(()=>!!T())()?H(()=>!!$())()?(()=>{var I=Ts();return u(I,o(Ul,{}),null),u(I,o(Ss,{}),null),u(I,o(ke,{}),null),I})():[o(Ul,{}),o(ke,{})]:o(hs,{})}})}var Ps=_('<form class="flex flex-col gap-4"><div class=login-form-group><label for=username class=select-none>Username:</label><input class=mb-2 id=username type=text name=username><label for=password class=select-none>Password:</label><div class=inline-action-right><input id=password name=password><div></div></div></div><div class="flex flex-col gap-1"><input type=submit class=btn-confirm value=Login><p class="text-sm text-center"><a href=/forgot-password>Forgot Password'),Us=_('<div class=login-background><div class=login-outer><div class=login-inner></div><div class="text-sm text-center text-gray-500 p-2"><p>Track-a-tron 1000');function Ds(){const e=W(ce),[t,l]=y(""),[i,n]=y(""),[s,a]=y(!1);function r(){return(()=>{var d=Ps(),f=d.firstChild,c=f.firstChild,p=c.nextSibling,h=p.nextSibling,g=h.nextSibling,x=g.firstChild,m=x.nextSibling,$=f.nextSibling,b=$.firstChild;return d.addEventListener("submit",S=>{S.preventDefault()}),p.addEventListener("change",S=>l(S.target.value)),x.addEventListener("change",S=>n(S.target.value)),m.$$mouseup=()=>a(!1),m.$$mousedown=()=>a(!0),u(m,(()=>{var S=H(()=>!!s());return()=>S()?o(Le,{size:14}):o(We,{size:14})})()),b.$$click=()=>{e.login(t(),i())},v(()=>M(x,"type",s()?"text":"password")),v(()=>x.value=i()),d})()}return(()=>{var d=Us(),f=d.firstChild,c=f.firstChild;return u(c,o(r,{})),d})()}ne(["mousedown","mouseup","click"]);var Ls=_('<div class=login-background><div class=login-outer><div class=login-inner><form class="flex flex-col gap-2"><div class=login-form-group><label for=email_address>Email Address:</label><input class=mb-2 id=email_address type=text name=email_address></div><div class="flex flex-col gap-1"><input type=submit class=btn-confirm value="Send Password Reset"><a class=btn href=/login>Back to Login</a></div></form></div><div class="text-sm text-center text-gray-500 p-2"><p>Track-a-tron 1000');function Ws(){return(()=>{var e=Ls(),t=e.firstChild,l=t.firstChild,i=l.firstChild,n=i.firstChild,s=n.nextSibling,a=s.firstChild;return i.addEventListener("submit",r=>{r.preventDefault()}),a.$$click=()=>{},e})()}ne(["click"]);var Ms=_('<div class=login-background><div class=login-outer><div class=login-inner><form class="flex flex-col gap-2"><div class=login-form-group><label for=verification_code class=select-none>Verification Code:</label><input class=mb-2 id=verification_code type=text name=verification_code></div><div class="flex flex-col gap-1"><input type=submit class=btn-confirm value=Verify></div></form></div><div class="text-sm text-center text-gray-500 p-2"><p>Track-a-tron 1000');function zs(){return(()=>{var e=Ms(),t=e.firstChild,l=t.firstChild,i=l.firstChild,n=i.firstChild,s=n.nextSibling,a=s.firstChild;return i.addEventListener("submit",r=>{r.preventDefault()}),a.$$click=()=>{},e})()}ne(["click"]);var Ns=_('<div class=login-background><div class=login-outer><div class=login-inner><form class="flex flex-col gap-2"><div class=login-form-group><label for=new_password class=select-none>New Password:</label><div class="inline-action-right mb-2"><input id=new_password name=new_password><div></div></div><label for=confirm_new_password class=select-none>Confirm New Password:</label><div class="inline-action-right mb-2"><input id=confirm_new_password name=confirm_new_password><div></div></div></div><div class="flex flex-col gap-1"><input type=submit class=btn-confirm value="Update Password"></div></form></div><div class="text-sm text-center text-gray-500 p-2"><p>Track-a-tron 1000');function Is(){const[e,t]=y(!1),[l,i]=y(!1);return(()=>{var n=Ns(),s=n.firstChild,a=s.firstChild,r=a.firstChild,d=r.firstChild,f=d.firstChild,c=f.nextSibling,p=c.firstChild,h=p.nextSibling,g=c.nextSibling,x=g.nextSibling,m=x.firstChild,$=m.nextSibling,b=d.nextSibling,S=b.firstChild;return r.addEventListener("submit",k=>{k.preventDefault()}),h.$$mouseup=()=>t(!1),h.$$mousedown=()=>t(!0),u(h,(()=>{var k=H(()=>!!e());return()=>k()?o(Le,{width:14,height:14}):o(We,{width:14,height:14})})()),$.$$mouseup=()=>i(!1),$.$$mousedown=()=>i(!0),u($,(()=>{var k=H(()=>!!l());return()=>k()?o(Le,{width:14,height:14}):o(We,{width:14,height:14})})()),S.$$click=()=>{},v(k=>{var D=e()?"text":"password",P=l()?"text":"password";return D!==k.e&&M(p,"type",k.e=D),P!==k.t&&M(m,"type",k.t=P),k},{e:void 0,t:void 0}),n})()}ne(["mousedown","mouseup","click"]);const gl=Symbol("store-raw"),Qe=Symbol("store-node"),Ie=Symbol("store-has"),ai=Symbol("store-self");function oi(e){let t=e[Te];if(!t&&(Object.defineProperty(e,Te,{value:t=new Proxy(e,Fs)}),!Array.isArray(e))){const l=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let n=0,s=l.length;n<s;n++){const a=l[n];i[a].get&&Object.defineProperty(e,a,{enumerable:i[a].enumerable,get:i[a].get.bind(t)})}}return t}function Rt(e){let t;return e!=null&&typeof e=="object"&&(e[Te]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function ut(e,t=new Set){let l,i,n,s;if(l=e!=null&&e[gl])return l;if(!Rt(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,r=e.length;a<r;a++)n=e[a],(i=ut(n,t))!==n&&(e[a]=i)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let d=0,f=a.length;d<f;d++)s=a[d],!r[s].get&&(n=e[s],(i=ut(n,t))!==n&&(e[s]=i))}return e}function Ft(e,t){let l=e[t];return l||Object.defineProperty(e,t,{value:l=Object.create(null)}),l}function ft(e,t,l){if(e[t])return e[t];const[i,n]=y(l,{equals:!1,internal:!0});return i.$=n,e[t]=i}function Os(e,t){const l=Reflect.getOwnPropertyDescriptor(e,t);return!l||l.get||!l.configurable||t===Te||t===Qe||(delete l.value,delete l.writable,l.get=()=>e[Te][t]),l}function di(e){fl()&&ft(Ft(e,Qe),ai)()}function Rs(e){return di(e),Reflect.ownKeys(e)}const Fs={get(e,t,l){if(t===gl)return e;if(t===Te)return l;if(t===ul)return di(e),l;const i=Ft(e,Qe),n=i[t];let s=n?n():e[t];if(t===Qe||t===Ie||t==="__proto__")return s;if(!n){const a=Object.getOwnPropertyDescriptor(e,t);fl()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(s=ft(i,t,s)())}return Rt(s)?oi(s):s},has(e,t){return t===gl||t===Te||t===ul||t===Qe||t===Ie||t==="__proto__"?!0:(fl()&&ft(Ft(e,Ie),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Rs,getOwnPropertyDescriptor:Os};function Bt(e,t,l,i=!1){if(!i&&e[t]===l)return;const n=e[t],s=e.length;l===void 0?(delete e[t],e[Ie]&&e[Ie][t]&&n!==void 0&&e[Ie][t].$()):(e[t]=l,e[Ie]&&e[Ie][t]&&n===void 0&&e[Ie][t].$());let a=Ft(e,Qe),r;if((r=ft(a,t,n))&&r.$(()=>l),Array.isArray(e)&&e.length!==s){for(let d=e.length;d<s;d++)(r=a[d])&&r.$();(r=ft(a,"length",s))&&r.$(e.length)}(r=a[ai])&&r.$()}function ci(e,t){const l=Object.keys(t);for(let i=0;i<l.length;i+=1){const n=l[i];Bt(e,n,t[n])}}function Bs(e,t){if(typeof t=="function"&&(t=t(e)),t=ut(t),Array.isArray(t)){if(e===t)return;let l=0,i=t.length;for(;l<i;l++){const n=t[l];e[l]!==n&&Bt(e,l,n)}Bt(e,"length",i)}else ci(e,t)}function ot(e,t,l=[]){let i,n=e;if(t.length>1){i=t.shift();const a=typeof i,r=Array.isArray(e);if(Array.isArray(i)){for(let d=0;d<i.length;d++)ot(e,[i[d]].concat(t),l);return}else if(r&&a==="function"){for(let d=0;d<e.length;d++)i(e[d],d)&&ot(e,[d].concat(t),l);return}else if(r&&a==="object"){const{from:d=0,to:f=e.length-1,by:c=1}=i;for(let p=d;p<=f;p+=c)ot(e,[p].concat(t),l);return}else if(t.length>1){ot(e[i],t,[i].concat(l));return}n=e[i],l=[i].concat(l)}let s=t[0];typeof s=="function"&&(s=s(n,l),s===n)||i===void 0&&s==null||(s=ut(s),i===void 0||Rt(n)&&Rt(s)&&!Array.isArray(s)?ci(n,s):Bt(e,i,s))}function Sl(...[e,t]){const l=ut(e||{}),i=Array.isArray(l),n=oi(l);function s(...a){bi(()=>{i&&a.length===1?Bs(l,a[0]):ot(l,a)})}return[n,s]}const Ee=Se();function js(){const e=W(ce),t=new xe,[l,i]=y(!0),[n,s]=y(!1),[a,r]=Sl([]),[d,f]=y(0),[c,p]=y(0),[h,g]=y(1),[x,m]=y(25),[$,b]=y(),[S,k]=y(200),[D,P]=y({}),[T,U]=y({}),[L,q]=y({}),[w,C]=y({}),E=A=>{b(window.innerHeight)};let O,ee;function ae(A,R){R===""?L().hasOwnProperty(A)&&(delete L()[A],q({...L()})):q({...L(),[A]:R})}function se(A,R){if(L().hasOwnProperty("_in")&&L()._in.hasOwnProperty(A)&&L()._in[A].includes(R))return!0}function F(A,R){L().hasOwnProperty("_in")?L()._in.hasOwnProperty(A)?L()._in[A].includes(R)||q({...L(),_in:{...L()._in,[A]:[...L()._in[A],R]}}):q({...L(),_in:{...L()._in,[A]:[R]}}):q({...L(),_in:{[A]:[R]}})}function j(A,R){if(L().hasOwnProperty("_in")&&L()._in.hasOwnProperty(A)&&L()._in[A].includes(R)){const K=L()._in[A].filter(Y=>Y!==R);q({...L(),_in:{...L()._in,[A]:K}})}}function I(A){g(1),m(A)}function de(A){return{client_id:"Client ID",business_name:"Business Name",any_name:"Name",any_email_address:"Email Address",any_number:"Phone Number",postcode:"Postcode",date_from:"Date From",date_to:"Date To",date_on:"Date On"}[A]}function Q(){const A=document.getElementById("clientsTableOverflow");A&&(A.scrollTop=0)}function V(A,R,K,Y){s(!0),clearTimeout(ee),ee=setTimeout(()=>{t.post("/clients/paged",{page:R,limit:K,where:Y}).then(X=>{X.ok?(f(X.data.total_clients),p(X.data.total_pages),r(X.data.clients),s(!1),Q(),l()&&i(!1)):(f(0),p(0),r([]),s(!1),l()&&i(!1))}),U(Y)},A)}function te(A){const R={};for(let[K,Y]of Object.entries(A))R[de(K)]=Y;return{...R}}return Me(()=>{k($()-150-(Object.keys(w()).length>0?45:0))}),Me(()=>{V(200,h(),x(),D())}),Me(()=>{C(te(T()?T():{}))}),be(()=>{e.loggedIn()?(window.addEventListener("resize",E),b(window.innerHeight),k($()-150),V(200,h(),x(),D())):e.navigator("/login")}),Ve(()=>{window.removeEventListener("resize",E)}),o(Ee.Provider,{value:{loadingClients:l,setLoadingClients:i,smallLoadingClients:n,setSmallLoadingClients:s,clients:a,setClients:r,totalClients:d,setTotalClients:f,totalPages:c,setTotalPages:p,page:h,setPage:g,limit:x,setLimit:m,clientsWhere:D,setClientsWhere:P,clientsWhereAnnex:T,setClientsWhereAnnex:U,clientsTempWhere:L,setClientsTempWhere:q,clientsWherePills:w,setClientsWherePills:C,clientsTempWhereValue:ae,windowHeight:$,setWindowHeight:b,clientsInnerTableHeight:S,setClientsInnerTableHeight:k,deBounceGetPageClients:V,checkTempWhereIn:se,setTempWhereIn:F,unsetTempWhereIn:j,changeLimit:I,dialogFilterClientsRef:O},get children(){return o(ke,{})}})}var st=_("<button class=btn-confirm>"),Dl=_("<div class=input-like>"),qs=_("<select><option value=25>25 pp</option><option value=50>50 pp</option><option value=100>100 pp");function Hs(){const e=W(Ee);return[(()=>{var t=st();return t.$$click=()=>{e.page()>1&&e.setPage(1)},u(t,o(Xl,{size:16})),v(()=>t.disabled=e.page()===1),t})(),(()=>{var t=st();return t.$$click=()=>{e.page()>1&&e.setPage(e.page()-1)},u(t,o(Ql,{size:16})),v(()=>t.disabled=e.page()===1),t})(),(()=>{var t=Dl();return t.$$click=()=>{},u(t,(()=>{var l=H(()=>!!e.loadingClients());return()=>l()?"-":`Total: ${e.totalClients()}`})()),t})(),(()=>{var t=Dl();return t.$$click=()=>{},u(t,(()=>{var l=H(()=>!!e.loadingClients());return()=>l()?"-":`${e.page()} / ${e.totalPages()}`})()),t})(),(()=>{var t=qs(),l=t.firstChild,i=l.nextSibling,n=i.nextSibling;return t.addEventListener("change",s=>e.changeLimit(parseInt(s.target.options[s.target.selectedIndex].value))),v(s=>{var a=e.limit()===25,r=e.limit()===50,d=e.limit()===100;return a!==s.e&&(l.selected=s.e=a),r!==s.t&&(i.selected=s.t=r),d!==s.a&&(n.selected=s.a=d),s},{e:void 0,t:void 0,a:void 0}),t})(),(()=>{var t=st();return t.$$click=()=>{e.page()<e.totalPages()&&e.setPage(e.page()+1)},u(t,o(kl,{size:16})),v(()=>t.disabled=e.page()===e.totalPages()),t})(),(()=>{var t=st();return t.$$click=()=>{e.page()<e.totalPages()&&e.setPage(e.totalPages())},u(t,o(Jl,{size:16})),v(()=>t.disabled=e.page()===e.totalPages()),t})(),(()=>{var t=st();return t.$$click=()=>{e.dialogFilterClientsRef.showModal()},u(t,o(ei,{size:16})),t})()]}ne(["click"]);var Vs=_('<div class=dialog-content-group><div class=section-filter-group><div class="inline-label flex-1"><label>Client&nbsp;ID</label><input type=number></div><div class="inline-label flex-1"><label>Business Name</label><input class=flex-1 type=text></div><div class="inline-label flex-1"><label>Name</label><input class=flex-1 type=text></div><div class="inline-label flex-1"><label>Email&nbsp;Address</label><input class=flex-1 type=text></div><div class="inline-label flex-1"><label>Phone&nbsp;Number</label><input class=flex-1 type=text></div><div class="inline-label flex-1"><label>Postcode</label><input class=flex-1 type=text>');function Gs(e){const t=W(Ee);return(()=>{var l=Vs(),i=l.firstChild,n=i.firstChild,s=n.firstChild,a=s.nextSibling,r=n.nextSibling,d=r.firstChild,f=d.nextSibling,c=r.nextSibling,p=c.firstChild,h=p.nextSibling,g=c.nextSibling,x=g.firstChild,m=x.nextSibling,$=g.nextSibling,b=$.firstChild,S=b.nextSibling,k=$.nextSibling,D=k.firstChild,P=D.nextSibling;return a.$$keyup=T=>{e.keyDownHandler(T)||t.clientsTempWhereValue("client_id",T.target.value)},f.$$keyup=T=>{e.keyDownHandler(T)||t.clientsTempWhereValue("business_name",T.target.value)},h.$$keyup=T=>{e.keyDownHandler(T)||t.clientsTempWhereValue("any_name",T.target.value)},m.$$keyup=T=>{e.keyDownHandler(T)||t.clientsTempWhereValue("email_address",T.target.value)},S.$$keyup=T=>{e.keyDownHandler(T)||t.clientsTempWhereValue("any_number",T.target.value)},P.$$keyup=T=>{e.keyDownHandler(T)||t.clientsTempWhereValue("postcode",T.target.value)},v(()=>a.value=t.clientsTempWhere().hasOwnProperty("client_id")?t.clientsTempWhere().client_id:""),v(()=>f.value=t.clientsTempWhere().hasOwnProperty("business_name")?t.clientsTempWhere().business_name:""),v(()=>h.value=t.clientsTempWhere().hasOwnProperty("any_name")?t.clientsTempWhere().any_name:""),v(()=>m.value=t.clientsTempWhere().hasOwnProperty("email_address")?t.clientsTempWhere().email_address:""),v(()=>S.value=t.clientsTempWhere().hasOwnProperty("any_number")?t.clientsTempWhere().any_number:""),v(()=>P.value=t.clientsTempWhere().hasOwnProperty("postcode")?t.clientsTempWhere().postcode:""),l})()}ne(["keyup"]);var Ks=_('<div class=dialog-content-group><div class=section-filter-group><small class=font-bold>Specific</small><div class="pt-1 pb-2"><div class="inline-label flex-1"><label>Date</label><div class="inline-button w-full"><input type=date class=""><button class=btn>clear</button></div></div></div><small class=font-bold>Range</small><div class="flex flex-col gap-1 pt-1 pb-2"><div class="inline-label flex-1"><label>From</label><div class="inline-button w-full"><input type=date><button class=btn>clear</button></div></div><div class="inline-label flex-1"><label>To</label><div class="inline-button w-full"><input type=date><button class=btn>clear');function Zs(e){const t=W(Ee);return(()=>{var l=Ks(),i=l.firstChild,n=i.firstChild,s=n.nextSibling,a=s.firstChild,r=a.firstChild,d=r.nextSibling,f=d.firstChild,c=f.nextSibling,p=s.nextSibling,h=p.nextSibling,g=h.firstChild,x=g.firstChild,m=x.nextSibling,$=m.firstChild,b=$.nextSibling,S=g.nextSibling,k=S.firstChild,D=k.nextSibling,P=D.firstChild,T=P.nextSibling;return f.addEventListener("change",U=>{e.keyDownHandler(U)||(t.clientsTempWhereValue("date_on",U.target.value),t.clientsTempWhere().hasOwnProperty("date_from")&&t.clientsTempWhereValue("date_from",""),t.clientsTempWhere().hasOwnProperty("date_to")&&t.clientsTempWhereValue("date_to",""))}),c.$$click=U=>{U.preventDefault(),t.clientsTempWhereValue("date_on","")},$.addEventListener("change",U=>{e.keyDownHandler(U)||(t.clientsTempWhereValue("date_from",U.target.value),t.clientsTempWhere().hasOwnProperty("date_on")&&t.clientsTempWhereValue("date_on",""))}),b.$$click=U=>{U.preventDefault(),t.clientsTempWhereValue("date_on","")},P.addEventListener("change",U=>{e.keyDownHandler(U)||(t.clientsTempWhereValue("date_to",U.target.value),t.clientsTempWhere().hasOwnProperty("date_on")&&t.clientsTempWhereValue("date_on",""))}),T.$$click=U=>{U.preventDefault(),t.clientsTempWhereValue("date_on","")},v(()=>f.value=t.clientsTempWhere().hasOwnProperty("date_on")?t.clientsTempWhere().date_on:""),v(()=>$.value=t.clientsTempWhere().hasOwnProperty("date_from")?t.clientsTempWhere().date_from:""),v(()=>P.value=t.clientsTempWhere().hasOwnProperty("date_to")?t.clientsTempWhere().date_to:""),l})()}ne(["click"]);var Ys=_('<dialog class=dialog id=dialog-filter-clients-id><div class=btn-tab-group><button>Client Info</button><button>Date</button></div><div></div><div></div><div class=dialog-footer><div class="flex gap-1"><button class=btn>Cancel</button><button class=btn>Clear Filter</button></div><button class=btn-confirm>Apply Filter');function Xs(){const e=W(Ee),[t,l]=y("client-info"),i=n=>n.key==="Escape"?(l("client-info"),setTimeout(()=>{e.dialogFilterClientsRef.close()},1),!0):n.key==="Enter"?(e.setClientsWhere({...e.clientsWhere(),...e.clientsTempWhere()}),l("client-info"),setTimeout(()=>{e.dialogFilterClientsRef.close()},1),!0):!1;return be(()=>{e.dialogFilterClientsRef.addEventListener("keydown",i),e.dialogFilterClientsRef.addEventListener("cancel",n=>{n.preventDefault()})}),Ve(()=>{e.dialogFilterClientsRef.removeEventListener("keydown",i),e.dialogFilterClientsRef.removeEventListener("cancel",n=>{n.preventDefault()})}),(()=>{var n=Ys(),s=n.firstChild,a=s.firstChild,r=a.nextSibling,d=s.nextSibling,f=d.nextSibling,c=f.nextSibling,p=c.firstChild,h=p.firstChild,g=h.nextSibling,x=p.nextSibling,m=e.dialogFilterClientsRef;return typeof m=="function"?Re(m,n):e.dialogFilterClientsRef=n,a.$$click=()=>l("client-info"),r.$$click=()=>l("date"),u(d,o(Gs,{keyDownHandler:i,setFilterTab:l})),u(f,o(Zs,{keyDownHandler:i,setFilterTab:l})),h.$$click=()=>{e.dialogFilterClientsRef.close(),l("client-info")},g.$$click=()=>{e.setClientsTempWhere({})},x.$$click=()=>{e.setClientsWhere(e.clientsTempWhere()),e.dialogFilterClientsRef.close(),l("client-info")},v($=>{var b=t()==="client-info"?"btn-tab-active":"btn-tab",S=t()==="date"?"btn-tab-active":"btn-tab",k=t()==="client-info"?"dialog-content":"hidden",D=t()==="date"?"dialog-content":"hidden";return b!==$.e&&(a.className=$.e=b),S!==$.t&&(r.className=$.t=S),k!==$.a&&(d.className=$.a=k),D!==$.o&&(f.className=$.o=D),$},{e:void 0,t:void 0,a:void 0,o:void 0}),n})()}ne(["click"]);var Js=_("<span>+"),Qs=_('<div class="flex items-center px-4">'),er=_('<div class=page-section-header><div class="flex items-center gap-1">');function tr(e){const t=W(Ee);return[(()=>{var l=er(),i=l.firstChild;return u(l,o(De,{className:"btn-good",href:"/clients/add",get children(){return[Js()," Add Client"]}}),i),u(i,o(le,{get when(){return t.smallLoadingClients()},get children(){var n=Qs();return u(n,o(ht,{})),n}}),null),u(i,o(Hs,{}),null),l})(),o(Xs,{})]}var lr=_('<div class="flex justify-center items-center w-full h-full min-h-0"><div class="flex flex-col items-center"><small>No clients found');function ir(){return(()=>{var e=lr(),t=e.firstChild,l=t.firstChild;return u(t,o(ns,{size:64}),l),e})()}var nr=_('<div class="flex justify-center items-center w-full h-full min-h-0">');function sr(){return(()=>{var e=nr();return u(e,o(Gt,{})),e})()}var rr=_('<div class="pills mb-2"><div class=pill-danger-interactive>'),ar=_("<div class=pill>: ");function or(){const e=W(Ee);return o(le,{get when(){return Object.keys(e.clientsWhereAnnex()).length>0},get children(){var t=rr(),l=t.firstChild;return u(t,o(_e,{get each(){return Object.keys(e.clientsWherePills())},children:i=>(()=>{var n=ar(),s=n.firstChild;return u(n,i,s),u(n,()=>e.clientsWherePills()[i],null),n})()}),l),l.$$click=()=>{e.setClientsWhere({}),e.setClientsWhereAnnex({}),e.setClientsTempWhere({})},u(l,o(ti,{size:14})),t}})}ne(["click"]);function ui(e,t,l){let i="";return t&&(i=t),l&&(t?i+=" "+l:i=l),e?i!==""?i+" ("+e+")":e:i||"-"}function fi(e,t,l,i){let n=[];return e&&n.push(e),t&&n.push(t),l&&n.push(l),i&&n.push(i),n.length===0?"-":n.join(", ")}var dr=_('<div class=card><div class=card-start><div class=card-group-slim><div class=card-labelled-pill><div class=card-labelled-pill-label>Client ID</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Added By</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Created</div><div class=card-labelled-pill-text></div></div></div><div class="card-group mt-2"><div class=card-section><small>Client</small><p></p></div><div class=card-section><small>Contact</small><p></p></div><div class=card-section><small>Address</small><p></p></div></div></div><div class=card-end><div class="flex justify-end">');function cr(e){const t=e.client;return(()=>{var l=dr(),i=l.firstChild,n=i.firstChild,s=n.firstChild,a=s.firstChild,r=a.nextSibling,d=s.nextSibling,f=d.firstChild,c=f.nextSibling,p=d.nextSibling,h=p.firstChild,g=h.nextSibling,x=n.nextSibling,m=x.firstChild,$=m.firstChild,b=$.nextSibling,S=m.nextSibling,k=S.firstChild,D=k.nextSibling,P=S.nextSibling,T=P.firstChild,U=T.nextSibling,L=i.nextSibling,q=L.firstChild;return u(r,()=>t.client_id),u(c,()=>t.__added_by),u(g,()=>t.__created),u(b,()=>ui(t.business_name,t.first_name,t.last_name)),u(D,()=>fi(t.phone,t.email_address,t.alt_phone,t.alt_email_address)),u(U,()=>t.__address),u(q,o(De,{className:"btn-confirm",get href(){return"/clients/"+t.client_id},children:"Open"})),l})()}function ur(){const e=W(Ee);return o(_e,{get each(){return e.clients},children:(t,l)=>o(cr,{client:t})})}var fr=_("<div class=main-content-stretch><div class=cards-bg-wrapper><div class=cards>");function vr(){const e=W(Ee);return(()=>{var t=fr(),l=t.firstChild,i=l.firstChild;return u(t,o(tr,{}),l),u(t,o(or,{}),l),u(i,(()=>{var n=H(()=>!!e.loadingClients());return()=>n()?o(sr,{}):(()=>{var s=H(()=>e.clients.length>0);return()=>s()?o(ur,{}):o(ir,{})})()})()),t})()}var pr=_("<div class=sub-menu><div><div></div><div>Information</div></div><div><div></div><div>Users</div></div><div><div></div><div>Services</div></div><div><div></div><div>Logs");function hr(){const e=W(ce),t=W(ze);return(()=>{var l=pr(),i=l.firstChild,n=i.firstChild,s=i.nextSibling,a=s.firstChild,r=s.nextSibling,d=r.firstChild,f=r.nextSibling,c=f.firstChild;return i.$$click=()=>e.navigator("/system/information"),u(n,o(li,{size:20})),s.$$click=()=>e.navigator("/system/users"),u(a,o(rs,{size:20})),r.$$click=()=>e.navigator("/system/services"),u(d,o(us,{size:20})),f.$$click=()=>e.navigator("/system/logs"),u(c,o(fs,{size:20})),v(p=>{var h=t.systemSection()==="information"?"sub-menu-icon-active":"sub-menu-icon",g=t.systemSection()==="users"?"sub-menu-icon-active":"sub-menu-icon",x=t.systemSection()==="services"?"sub-menu-icon-active":"sub-menu-icon",m=t.systemSection()==="logs"?"sub-menu-icon-active":"sub-menu-icon";return h!==p.e&&(i.className=p.e=h),g!==p.t&&(s.className=p.t=g),x!==p.a&&(r.className=p.a=x),m!==p.o&&(f.className=p.o=m),p},{e:void 0,t:void 0,a:void 0,o:void 0}),l})()}ne(["click"]);var _r=_("<div class=main-content-slim-row><div class=sub-content>");const ze=Se();function gr(){W(ce);const e=new xe,[t,l]=y("information"),i={username:"",password:"",display_name:"",email:"",sms:"",user_type:"user",disabled:!1,deleted:!1},n=["user","manager","admin"],[s,a]=y(0),[r,d]=y(""),[f,c]=y([]),[p,h]=y(i),[g,x]=y(i),[m,$]=y(i),[b,S]=y(""),[k,D]=y([]);let P,T,U,L;function q(){e.get("/system/get/users").then(C=>{C.ok&&c(C.data)})}function w(){e.get("/system/get/logs").then(C=>{C.ok&&D(C.data)})}return o(ze.Provider,{value:{systemSection:t,setSystemSection:l,blankSystemUser:i,refSystemUserAddDialog:P,refSystemUserEditDialog:T,refSystemUserResetPasswordDialog:U,refSystemUserDeleteDialog:L,systemUsers:f,setSystemUsers:c,systemUserTypes:n,systemUsersDialogError:r,setSystemUsersDialogError:d,systemLogs:k,systemUserSelected:s,setSystemUserSelected:a,tempAddSystemUser:p,setTempAddSystemUser:h,tempEditSystemUser:g,setTempEditSystemUser:x,tempDeleteSystemUser:m,setTempDeleteSystemUser:$,resetSystemUserPassword:b,setResetSystemUserPassword:S,getAllSystemUsers:q,getAllSystemLogs:w},get children(){var C=_r(),E=C.firstChild;return u(C,o(hr,{}),E),u(E,o(ke,{})),C}})}const $r=Se();function mr(){return o($r.Provider,{value:{},get children(){return o(ke,{})}})}var br=_('<div class="main-content-slim gap-2"><div class="sectioned-content w-full"><form><div class="form-section mb-2"><div class=field-group><div class=py-2><label>Username</label><input type=text disabled></div></div><div class=attention-warning>Username can only be changed by an administrator.</div><div class=field-group><div class=py-2><label>Display Name</label><input type=text></div></div><strong class=mt-2>Notifications</strong><div class=field-group><div class=py-2><label>Email</label><input type=text></div><div class=py-2><label>SMS</label><input type=text></div></div></div><button class=btn-confirm>Update</button></form></div><div class="sectioned-content w-full"><form><div class="form-section mb-2"><div class=field-group><div class=py-2><label>Current Password</label><input type=password></div></div><div class=field-group><div class=py-2><label>New Password</label><input type=password></div></div><div class=field-group><div class=py-2><label>Confirm New Password</label><input type=password></div></div></div><button class=btn-confirm>Change Password');function yr(){const e=W(ce),t=new xe,l={username:"",display_name:"",email:"",sms:""},[i,n]=y(l),[s,a]=y(""),[r,d]=y(""),[f,c]=y("");function p(){if(i().display_name===""){e.showErrorToast("Display Name cannot be empty.");return}t.post(`/update/user/${e.userId()}`,{display_name:i().display_name,email:i().email,sms:i().sms}).then(g=>{g.ok?e.showSuccessToast("Account updated."):e.showErrorToast("Error updating account. "+g.message)})}function h(){if(s()===""){e.showErrorToast("Current Password cannot be empty.");return}if(r()===""){e.showErrorToast("New Password cannot be empty.");return}if(r().length<8){e.showErrorToast("Password must be at least 8 characters.");return}if(r()!==f()){e.showErrorToast("Passwords do not match.");return}t.post(`/update/user/${e.userId()}/password`,{current_password:s(),new_password:r()}).then(g=>{g.ok?e.showSuccessToast("Password updated."):e.showErrorToast("Error updating password. "+g.message)})}return be(()=>{e.setMainMenuLocation("account"),t.get(`/system/user/${e.userId()}`).then(g=>{g.ok?(n({username:g.data.username,display_name:g.data.display_name,email:g.data.email,sms:g.data.sms}),d(""),a(""),c("")):e.showErrorToast(g.message)})}),(()=>{var g=br(),x=g.firstChild,m=x.firstChild,$=m.firstChild,b=$.firstChild,S=b.firstChild,k=S.firstChild,D=k.nextSibling,P=b.nextSibling,T=P.nextSibling,U=T.firstChild,L=U.firstChild,q=L.nextSibling,w=T.nextSibling,C=w.nextSibling,E=C.firstChild,O=E.firstChild,ee=O.nextSibling,ae=E.nextSibling,se=ae.firstChild,F=se.nextSibling,j=$.nextSibling,I=x.nextSibling,de=I.firstChild,Q=de.firstChild,V=Q.firstChild,te=V.firstChild,A=te.firstChild,R=A.nextSibling,K=V.nextSibling,Y=K.firstChild,X=Y.firstChild,ue=X.nextSibling,re=K.nextSibling,B=re.firstChild,z=B.firstChild,N=z.nextSibling,Z=Q.nextSibling;return m.addEventListener("submit",G=>{G.preventDefault()}),q.$$keyup=G=>{n({...i(),display_name:G.target.value})},ee.$$keyup=G=>{n({...i(),email:G.target.value})},F.$$keyup=G=>{n({...i(),sms:G.target.value})},j.$$click=()=>{p()},de.addEventListener("submit",G=>{G.preventDefault()}),R.$$keyup=G=>{a(G.target.value)},ue.$$keyup=G=>{d(G.target.value)},N.$$keyup=G=>{c(G.target.value)},Z.$$click=()=>{h()},v(()=>D.value=i().username),v(()=>q.value=i().display_name),v(()=>ee.value=i().email),v(()=>F.value=i().sms),v(()=>R.value=s()),v(()=>ue.value=r()),v(()=>N.value=f()),g})()}ne(["keyup","click"]);const xr=Se();function kr(){const e=W(ce);return be(()=>{e.setMainMenuLocation("clients")}),o(xr.Provider,{value:{},get children(){return o(ke,{})}})}var Sr=_("<div class=field-group><div class=py-2><button class=btn-confirm>Refresh Cache"),wr=_('<div><div class=field-group><div class=py-2><label for=postcode_lookup>Postcode Lookup</label><div class=inline-button><input type=text name=postcode_lookup id=postcode_lookup><button class=btn-confirm>Find Address</button></div></div></div><div class=field-group><div class="py-2 w-full"><label>Addresses</label><select class=w-full><option value=clear>'),Cr=_("<option>");function vi(e){const t=W(ce),l=new xe,[i,n]=Sl([]),[s,a]=y(""),[r,d]=y(!1);function f(p=!1){if(s().length<5){t.showErrorToast("Postcode is too short");return}l.post("/system/postcode/lookup",{postcode:s(),refresh_cache:p}).then(h=>{h.ok&&n(h.data.addresses)})}function c(p,h){if(p==="clear"){e.setAddress({building_number:"",sub_building_number:"",building_name:"",sub_building_name:"",address_line_1:"",address_line_2:"",address_line_3:"",locality:"",town_or_city:"",county:"",district:"",postcode:"",country:""});return}const g=i[p];e.setAddress({building_number:g.building_number,sub_building_number:g.sub_building_number,building_name:g.building_name,sub_building_name:g.sub_building_name,address_line_1:g.thoroughfare,address_line_2:g.line_2,address_line_3:g.line_3,locality:g.locality,town_or_city:g.town_or_city,county:g.county,district:g.district,postcode:h,country:g.country})}return(()=>{var p=wr(),h=p.firstChild,g=h.firstChild,x=g.firstChild,m=x.nextSibling,$=m.firstChild,b=$.nextSibling,S=h.nextSibling,k=S.firstChild,D=k.firstChild,P=D.nextSibling,T=P.firstChild;return $.$$keyup=U=>{U.key==="Enter"&&f(),a(U.target.value)},b.$$click=()=>f(),P.addEventListener("change",U=>{c(U.target.value,s())}),P.style.setProperty("max-width","350px"),u(T,(()=>{var U=H(()=>i.length>0);return()=>U()?`${i.length} Addresses Found`:r()?"No Addresses Found":"..."})()),u(P,o(le,{get when(){return i.length>0},get children(){return o(_e,{each:i,children:(U,L)=>(()=>{var q=Cr();return u(q,()=>U.formatted_address.filter(Boolean).join(", ")),v(()=>q.value=L()),q})()})}}),null),u(p,o(le,{get when(){return i.length>0},get children(){var U=Sr(),L=U.firstChild,q=L.firstChild;return q.$$click=()=>f(!0),U}}),null),v(()=>$.value=s()),p})()}ne(["keyup","click"]);var Ar=_("<div class=field-group><a class=no-underline>Add Address Manually "),Tr=_('<div class="main-content-stretch gap-2"><div class=sticky-top-buttons><button class=btn>← Cancel</button><button class=btn-good>Create Client</button></div><form><div class="sectioned-content w-full"><div class=form-section><div class=field-group><div class=py-2><label>First Name</label><input type=text></div><div class=py-2><label>Last Name</label><input type=text></div><div class=py-2><label>Business Name</label><input type=text></div></div></div><div class=form-section><div class=field-group><div class=py-2><label>Phone</label><input type=text></div><div class=py-2><label>Email Address</label><input type=text></div><div class=py-2><label>Alternative Phone</label><input type=text></div><div class=py-2><label>Alternative Email Address</label><input type=text></div></div><div class=form-section><div class=field-group><div class=checkbox><input type=checkbox id=add_client_phone_dnc name=add_client_phone_dnc><label for=add_client_phone_dnc>Do not send SMS updates or messages</label></div><div class=checkbox><input type=checkbox id=add_client_email_address_dnc name=add_client_email_address_dnc><label for=add_client_email_address_dnc>Do not send email updates or messages</label></div></div></div></div><div class=form-section><div><div class=field-group><div class=py-2><label>Building Number</label><input type=text></div><div class=py-2><label>Sub Building Number</label><input type=text></div><div class=py-2><label>Building Name</label><input type=text></div><div class=py-2><label>Sub Building Name</label><input type=text></div></div><div class=field-group><div class=py-2><label>Address Line 1</label><input type=text></div><div class=py-2><label>Address Line 2</label><input type=text></div><div class=py-2><label>Address Line 3</label><input type=text></div><div class=py-2><label>Locality</label><input type=text></div></div><div class=field-group><div class=py-2><label>Town / City</label><input type=text></div><div class=py-2><label>County</label><input type=text></div><div class=py-2><label>District</label><input type=text></div></div><div class=field-group><div class=py-2><label>Postcode</label><input type=text></div><div class=py-2><label>Country</label><input type=text>');function Er(){const e=W(ce),t=new xe,[l,i]=y(!1),[n,s]=y({business_name:"",first_name:"",last_name:"",phone:"",alt_phone:"",email_address:"",alt_email_address:"",phone_dnc:!1,email_address_dnc:!1}),[a,r]=y({building_number:"",sub_building_number:"",building_name:"",sub_building_name:"",address_line_1:"",address_line_2:"",address_line_3:"",locality:"",town_or_city:"",county:"",district:"",postcode:"",country:""});function d(){t.post("/clients/create",{fk_user_id:e.user().user_id,...n(),...a()}).then(f=>{f.ok?(e.showSuccessToast(f.message),e.navigator(`/clients/${f.data.client_id}`)):e.showErrorToast(f.message)})}return(()=>{var f=Tr(),c=f.firstChild,p=c.firstChild,h=p.nextSibling,g=c.nextSibling,x=g.firstChild,m=x.firstChild,$=m.firstChild,b=$.firstChild,S=b.firstChild,k=S.nextSibling,D=b.nextSibling,P=D.firstChild,T=P.nextSibling,U=D.nextSibling,L=U.firstChild,q=L.nextSibling,w=m.nextSibling,C=w.firstChild,E=C.firstChild,O=E.firstChild,ee=O.nextSibling,ae=E.nextSibling,se=ae.firstChild,F=se.nextSibling,j=ae.nextSibling,I=j.firstChild,de=I.nextSibling,Q=j.nextSibling,V=Q.firstChild,te=V.nextSibling,A=C.nextSibling,R=A.firstChild,K=R.firstChild,Y=K.firstChild,X=K.nextSibling,ue=X.firstChild,re=w.nextSibling,B=re.firstChild,z=B.firstChild,N=z.firstChild,Z=N.firstChild,G=Z.nextSibling,pe=N.nextSibling,fe=pe.firstChild,Ne=fe.nextSibling,Ke=pe.nextSibling,oe=Ke.firstChild,ge=oe.nextSibling,me=Ke.nextSibling,Ae=me.firstChild,gt=Ae.nextSibling,$t=z.nextSibling,mt=$t.firstChild,Kt=mt.firstChild,bt=Kt.nextSibling,tt=mt.nextSibling,Zt=tt.firstChild,yt=Zt.nextSibling,xt=tt.nextSibling,kt=xt.firstChild,St=kt.nextSibling,Yt=xt.nextSibling,Xt=Yt.firstChild,wt=Xt.nextSibling,Ze=$t.nextSibling,Ct=Ze.firstChild,Jt=Ct.firstChild,At=Jt.nextSibling,Tt=Ct.nextSibling,Qt=Tt.firstChild,qe=Qt.nextSibling,el=Tt.nextSibling,tl=el.firstChild,Ye=tl.nextSibling,lt=Ze.nextSibling,Et=lt.firstChild,Pe=Et.firstChild,Pt=Pe.nextSibling,ll=Et.nextSibling,Ut=ll.firstChild,it=Ut.nextSibling;return p.$$click=()=>e.navigator("/clients"),h.$$click=d,g.addEventListener("submit",J=>{J.preventDefault()}),k.$$keyup=J=>{s({...n(),first_name:J.target.value})},T.$$keyup=J=>{s({...n(),last_name:J.target.value})},q.$$keyup=J=>{s({...n(),business_name:J.target.value})},ee.$$keyup=J=>{s({...n(),phone:J.target.value})},F.$$keyup=J=>{s({...n(),email_address:J.target.value})},de.$$keyup=J=>{s({...n(),alt_phone:J.target.value})},te.$$keyup=J=>{s({...n(),alt_email_address:J.target.value})},Y.addEventListener("change",J=>s({...n(),phone_dnc:J.target.checked})),ue.addEventListener("change",J=>s({...n(),email_address_dnc:J.target.checked})),u(re,o(le,{get when(){return e.enabledServices().includes("get_address")},get children(){return[o(vi,{setAddress:r}),(()=>{var J=Ar(),Xe=J.firstChild;return Xe.firstChild,Xe.$$click=il=>{il.preventDefault(),i(!l())},u(Xe,()=>l()?"▾":"▸",null),J})()]}}),B),G.$$keyup=J=>{r({...a(),building_number:J.target.value})},Ne.$$keyup=J=>{r({...a(),sub_building_number:J.target.value})},ge.$$keyup=J=>{r({...a(),building_name:J.target.value})},gt.$$keyup=J=>{r({...a(),sub_building_name:J.target.value})},bt.$$keyup=J=>{r({...a(),address_line_1:J.target.value})},yt.$$keyup=J=>{r({...a(),address_line_2:J.target.value})},St.$$keyup=J=>{r({...a(),address_line_3:J.target.value})},wt.$$keyup=J=>{r({...a(),locality:J.target.value})},At.$$keyup=J=>{r({...a(),town_or_city:J.target.value})},qe.$$keyup=J=>{r({...a(),county:J.target.value})},Ye.$$keyup=J=>{r({...a(),district:J.target.value})},Pt.$$keyup=J=>{r({...a(),postcode:J.target.value})},it.$$keyup=J=>{r({...a(),country:J.target.value})},v(()=>B.className=e.enabledServices().includes("get_address")&&!l()?"hidden":"block"),v(()=>k.value=n().first_name),v(()=>T.value=n().last_name),v(()=>q.value=n().business_name),v(()=>ee.value=n().phone),v(()=>F.value=n().email_address),v(()=>de.value=n().alt_phone),v(()=>te.value=n().alt_email_address),v(()=>Y.checked=n().phone_dnc),v(()=>ue.checked=n().email_address_dnc),v(()=>G.value=a().building_number),v(()=>Ne.value=a().sub_building_number),v(()=>ge.value=a().building_name),v(()=>gt.value=a().sub_building_name),v(()=>bt.value=a().address_line_1),v(()=>yt.value=a().address_line_2),v(()=>St.value=a().address_line_3),v(()=>wt.value=a().locality),v(()=>At.value=a().town_or_city),v(()=>qe.value=a().county),v(()=>Ye.value=a().district),v(()=>Pt.value=a().postcode),v(()=>it.value=a().country),f})()}ne(["click","keyup"]);const _t=Se();function Pr(){const e=W(ce),t=W(Ee),l=new xe,i=Kl(),[n,s]=y(!1),[a,r]=y(!1),[d,f]=y({client_id:0,first_name:"",last_name:"",business_name:"",phone:"",email_address:"",alt_phone:"",alt_email_address:"",phone_dnc:!1,email_address_dnc:!1,__added_by:"",__created:""}),[c,p]=y([]);let h;function g(){l.get(`/workshop/get/client/${d().client_id}/tickets`).then(b=>{p(b.data)})}function x(){l.get("/clients/get/"+i.client_id).then(b=>{b.ok&&f({client_id:b.data.client_id,first_name:b.data.first_name,last_name:b.data.last_name,business_name:b.data.business_name,phone:b.data.phone,email_address:b.data.email_address,alt_phone:b.data.alt_phone,alt_email_address:b.data.alt_email_address,phone_dnc:b.data.phone_dnc,email_address_dnc:b.data.email_address_dnc,__added_by:b.data.__added_by,__created:b.data.__created}),g()})}function m(){s(!0),h&&clearTimeout(h),h=setTimeout(()=>{l.post("/clients/update/"+d().client_id,d()).then(b=>{s(!1)})},500)}function $(){l.get("/clients/delete/"+i.client_id).then(b=>{b.ok&&(t.deBounceGetPageClients(200,t.page(),t.limit(),t.clientsWhere()),e.showSuccessToast("Client Deleted"),e.navigator("/clients"))})}return be(()=>{x()}),o(_t.Provider,{value:{savingClient:n,client:d,setClient:f,showAddress:a,setShowAddress:r,workshopTickets:c,setWorkshopTickets:p,saveClient:m,deleteClient:$},get children(){return o(ke,{})}})}var Ur=_('<div class="flex flex-row flex-wrap gap-2 w-full mb-4"><div class=card-group-slim><div class=card-labelled-pill><div class=card-labelled-pill-label>Client ID</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Added By</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Created</div><div class=card-labelled-pill-text>');function Dr(){const e=W(_t);return(()=>{var t=Ur(),l=t.firstChild,i=l.firstChild,n=i.firstChild,s=n.nextSibling,a=i.nextSibling,r=a.firstChild,d=r.nextSibling,f=a.nextSibling,c=f.firstChild,p=c.nextSibling;return u(s,()=>e.client().client_id),u(d,()=>e.client().__added_by),u(p,()=>e.client().__created),t})()}var Lr=_("<div class=field-group><div class=py-2><label>Building Number</label><input type=text></div><div class=py-2><label>Sub Building Number</label><input type=text></div><div class=py-2><label>Building Name</label><input type=text></div><div class=py-2><label>Sub Building Name</label><input type=text>"),Wr=_("<div class=field-group><div class=py-2><label>Address Line 1</label><input type=text></div><div class=py-2><label>Address Line 2</label><input type=text></div><div class=py-2><label>Address Line 3</label><input type=text></div><div class=py-2><label>Locality</label><input type=text>"),Mr=_("<div class=field-group><div class=py-2><label>Town / City</label><input type=text></div><div class=py-2><label>County</label><input type=text></div><div class=py-2><label>District</label><input type=text>"),zr=_("<div class=field-group><div class=py-2><label>Postcode</label><input type=text></div><div class=py-2><label>Country</label><input type=text>"),Nr=_('<form><div class=form-section><div class=field-group><div class=py-2><label>First Name</label><input type=text></div><div class=py-2><label>Last Name</label><input type=text></div><div class=py-2><label>Business Name</label><input type=text></div></div></div><div class="form-section pb-0"><div class="field-group mb-2"><div class=py-2><label>Phone</label><input type=text></div><div class=py-2><label>Email Address</label><input type=text></div><div class=py-2><label>Alternative Phone</label><input type=text></div><div class=py-2><label>Alternative Email Address</label><input type=text></div></div><div class=form-section><div class=field-group><div class=checkbox><input type=checkbox id=add_client_phone_dnc name=add_client_phone_dnc><label for=add_client_phone_dnc>Do not send SMS updates or messages</label></div><div class=checkbox><input type=checkbox id=add_client_email_address_dnc name=add_client_email_address_dnc><label for=add_client_email_address_dnc>Do not send email updates or messages</label></div></div></div></div><div class=form-section><div class=field-group><div class="pb-4 w-full"><label>Address</label><input type=text class=w-full></div></div><div class=field-group><a class=no-underline>Show Address Fields ');function Ir(){const e=W(_t);return(()=>{var t=Nr(),l=t.firstChild,i=l.firstChild,n=i.firstChild,s=n.firstChild,a=s.nextSibling,r=n.nextSibling,d=r.firstChild,f=d.nextSibling,c=r.nextSibling,p=c.firstChild,h=p.nextSibling,g=l.nextSibling,x=g.firstChild,m=x.firstChild,$=m.firstChild,b=$.nextSibling,S=m.nextSibling,k=S.firstChild,D=k.nextSibling,P=S.nextSibling,T=P.firstChild,U=T.nextSibling,L=P.nextSibling,q=L.firstChild,w=q.nextSibling,C=x.nextSibling,E=C.firstChild,O=E.firstChild,ee=O.firstChild,ae=O.nextSibling,se=ae.firstChild,F=g.nextSibling,j=F.firstChild,I=j.firstChild,de=I.firstChild,Q=de.nextSibling,V=j.nextSibling,te=V.firstChild;return te.firstChild,t.addEventListener("submit",A=>{A.preventDefault()}),a.$$keyup=A=>{e.setClient({...e.client(),first_name:A.target.value}),e.saveClient()},f.$$keyup=A=>{e.setClient({...e.client(),last_name:A.target.value}),e.saveClient()},h.$$keyup=A=>{e.setClient({...e.client(),business_name:A.target.value}),e.saveClient()},b.$$keyup=A=>{e.setClient({...e.client(),phone:A.target.value}),e.saveClient()},D.$$keyup=A=>{e.setClient({...e.client(),email_address:A.target.value})},U.$$keyup=A=>{e.setClient({...e.client(),alt_phone:A.target.value}),e.saveClient()},w.$$keyup=A=>{e.setClient({...e.client(),alt_email_address:A.target.value}),e.saveClient()},ee.addEventListener("change",A=>{e.setClient({...e.client(),phone_dnc:A.target.checked}),e.saveClient()}),se.addEventListener("change",A=>{e.setClient({...e.client(),email_address_dnc:A.target.checked}),e.saveClient()}),Q.style.setProperty("max-width","600px"),Q.readOnly=!0,te.$$click=A=>{e.setShowAddress(!e.showAddress()),A.preventDefault()},u(te,()=>e.showAddress()?"▾":"▸",null),u(F,o(le,{get when(){return e.showAddress()},get children(){return[(()=>{var A=Lr(),R=A.firstChild,K=R.firstChild,Y=K.nextSibling,X=R.nextSibling,ue=X.firstChild,re=ue.nextSibling,B=X.nextSibling,z=B.firstChild,N=z.nextSibling,Z=B.nextSibling,G=Z.firstChild,pe=G.nextSibling;return Y.$$keyup=fe=>{e.setClient({...e.client(),building_number:fe.target.value}),e.saveClient()},re.$$keyup=fe=>{e.setClient({...e.client(),sub_building_number:fe.target.value})},N.$$keyup=fe=>{e.setClient({...e.client(),building_name:fe.target.value}),e.saveClient()},pe.$$keyup=fe=>{e.setClient({...e.client(),sub_building_name:fe.target.value}),e.saveClient()},v(()=>Y.value=e.client().building_number),v(()=>re.value=e.client().sub_building_number),v(()=>N.value=e.client().building_name),v(()=>pe.value=e.client().sub_building_name),A})(),(()=>{var A=Wr(),R=A.firstChild,K=R.firstChild,Y=K.nextSibling,X=R.nextSibling,ue=X.firstChild,re=ue.nextSibling,B=X.nextSibling,z=B.firstChild,N=z.nextSibling,Z=B.nextSibling,G=Z.firstChild,pe=G.nextSibling;return Y.$$keyup=fe=>{e.setClient({...e.client(),address_line_1:fe.target.value}),e.saveClient()},re.$$keyup=fe=>{e.setClient({...e.client(),address_line_2:fe.target.value})},N.$$keyup=fe=>{e.setClient({...e.client(),address_line_3:fe.target.value}),e.saveClient()},pe.$$keyup=fe=>{e.setClient({...e.client(),locality:fe.target.value})},v(()=>Y.value=e.client().address_line_1),v(()=>re.value=e.client().address_line_2),v(()=>N.value=e.client().address_line_3),v(()=>pe.value=e.client().locality),A})(),(()=>{var A=Mr(),R=A.firstChild,K=R.firstChild,Y=K.nextSibling,X=R.nextSibling,ue=X.firstChild,re=ue.nextSibling,B=X.nextSibling,z=B.firstChild,N=z.nextSibling;return Y.$$keyup=Z=>{e.setClient({...e.client(),town_or_city:Z.target.value}),e.saveClient()},re.$$keyup=Z=>{e.setClient({...e.client(),county:Z.target.value})},N.$$keyup=Z=>{e.setClient({...e.client(),district:Z.target.value}),e.saveClient()},v(()=>Y.value=e.client().town_or_city),v(()=>re.value=e.client().county),v(()=>N.value=e.client().district),A})(),(()=>{var A=zr(),R=A.firstChild,K=R.firstChild,Y=K.nextSibling,X=R.nextSibling,ue=X.firstChild,re=ue.nextSibling;return Y.$$keyup=B=>{e.setClient({...e.client(),postcode:B.target.value}),e.saveClient()},re.$$keyup=B=>{e.setClient({...e.client(),country:B.target.value}),e.saveClient()},v(()=>Y.value=e.client().postcode),v(()=>re.value=e.client().country),A})()]}}),null),v(()=>a.value=e.client().first_name),v(()=>f.value=e.client().last_name),v(()=>h.value=e.client().business_name),v(()=>b.value=e.client().phone),v(()=>D.value=e.client().email_address),v(()=>U.value=e.client().alt_phone),v(()=>w.value=e.client().alt_email_address),v(()=>ee.checked=e.client().phone_dnc),v(()=>se.checked=e.client().email_address_dnc),v(()=>Q.value=e.client().__address),t})()}ne(["keyup","click"]);var Or=_("<div class=card-section><small>Device(s)</small><div class=card-pill-group>"),Rr=_("<div class=card-labelled-pill-device>"),Fr=_("<div class=card-labelled-pill-text>"),Br=_("<div class=card-labelled-pill>"),jr=_('<div class="card-labelled-pill-device border-r rounded-md">');function qr(e){const t=e.devices;return(()=>{var l=Or(),i=l.firstChild,n=i.nextSibling;return u(n,o(_e,{each:t,children:(s,a)=>(()=>{var r=Br();return u(r,o(le,{get when(){return s.make!==""||s.model!==""},get fallback(){return(()=>{var d=jr();return u(d,()=>s.type),d})()},get children(){return[(()=>{var d=Rr();return u(d,()=>s.type),d})(),(()=>{var d=Fr();return u(d,o(le,{get when(){return s.make!==""},get children(){return s.make}}),null),u(d,o(le,{get when(){return s.model!==""},get children(){return[H(()=>s.make!==""?" ":""),H(()=>s.model)]}}),null),d})()]}})),r})()})),l})()}var Hr=_("<div class=card-section><small>Item(s)</small><div class=card-pill-group>"),Vr=_('<div class=card-labelled-pill><div class="card-labelled-pill-text rounded-md border-r">');function Gr(e){const t=e.items;return(()=>{var l=Hr(),i=l.firstChild,n=i.nextSibling;return u(n,o(_e,{each:t,children:(s,a)=>(()=>{var r=Vr(),d=r.firstChild;return u(d,()=>s.description),r})()})),l})()}var Kr=_("<div class=card-group>"),Zr=_('<div class=card><div class=card-start><div class=card-group-slim><div class=card-labelled-pill><div class=card-labelled-pill-label>Status</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Tag</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Category</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Assigned To</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Created</div><div class=card-labelled-pill-text></div></div></div><div class="card-group mt-2"><div class=card-section><small>Client</small><p></p></div><div class=card-section><small>Contact</small><p></p></div></div><div class="card-group mb-2"><div class=card-section><small>Request</small><p></p></div></div></div><div class=card-end><div class="flex justify-end">');function pi(e){const t=W(ce),l=e.ticket;return(()=>{var i=Zr(),n=i.firstChild,s=n.firstChild,a=s.firstChild,r=a.firstChild,d=r.nextSibling,f=a.nextSibling,c=f.firstChild,p=c.nextSibling,h=f.nextSibling,g=h.firstChild,x=g.nextSibling,m=h.nextSibling,$=m.firstChild,b=$.nextSibling,S=m.nextSibling,k=S.firstChild,D=k.nextSibling,P=s.nextSibling,T=P.firstChild,U=T.firstChild,L=U.nextSibling,q=T.nextSibling,w=q.firstChild,C=w.nextSibling,E=P.nextSibling,O=E.firstChild,ee=O.firstChild,ae=ee.nextSibling,se=n.nextSibling,F=se.firstChild;return u(d,()=>t.statusCodeLookup(l.status_code).name),u(p,()=>l.workshop_tag),u(x,()=>t.categoryCodeLookup(l.category_code)),u(b,()=>l.__assigned_to),u(D,()=>l.__created),u(L,()=>ui(l.__client.business_name,l.__client.first_name,l.__client.last_name)),u(C,()=>fi(l.__client.phone,l.__client.email_address,l.__client.alt_phone,l.__client.alt_email_address)),u(ae,()=>l.request),u(n,o(le,{get when(){return l.__devices.length>0||l.__items.length>0},get children(){var j=Kr();return u(j,(()=>{var I=H(()=>l.__devices.length>0);return()=>I()?o(qr,{get devices(){return l.__devices}}):""})(),null),u(j,(()=>{var I=H(()=>l.__items.length>0);return()=>I()?o(Gr,{get items(){return l.__items}}):""})(),null),j}}),null),u(F,o(De,{className:"btn-confirm",get href(){return"/workshop/ticket/"+l.workshop_tag},children:"Open"})),v(j=>yl(d,t.statusCodeLookup(l.status_code).style,j)),i})()}function Yr(){const e=W(_t);return o(_e,{get each(){return e.workshopTickets()},children:(t,l)=>o(pi,{ticket:t})})}var Xr=_('<div class="flex flex-row gap-2 items-center px-4"> Saving...'),Jr=_('<div class="main-content-slim gap-2"><div class="field-group items-center sticky top-0"><button class=btn>← Back</button><button class=btn-danger>Delete Client</button></div><div class="sectioned-content w-full"></div><div class="sectioned-content flex flex-col w-full gap-2"><label>Tickets</label></div><dialog class=dialog><div class="dialog-content text-center"><p>Are you sure you would like to delete this client?</p><p>Please note that this action is irreversible.</p></div><div class=dialog-footer><button class=btn>Cancel</button><button class=btn-danger>Confirm Delete');function Qr(){const e=W(ce),t=W(Ee),l=W(_t);let i;return(()=>{var n=Jr(),s=n.firstChild,a=s.firstChild,r=a.nextSibling,d=s.nextSibling,f=d.nextSibling;f.firstChild;var c=f.nextSibling,p=c.firstChild,h=p.nextSibling,g=h.firstChild,x=g.nextSibling;a.$$click=()=>{t.deBounceGetPageClients(200,t.page(),t.limit(),t.clientsWhere()),e.navigator("/clients")},r.$$click=()=>{i.showModal()},u(s,o(le,{get when(){return l.savingClient()},get children(){var $=Xr(),b=$.firstChild;return u($,o(ht,{}),b),$}}),null),u(d,o(Dr,{}),null),u(d,o(Ir,{}),null),u(f,o(Yr,{}),null);var m=i;return typeof m=="function"?Re(m,c):i=c,p.style.setProperty("height","100px"),g.$$click=()=>{i.close()},x.$$click=()=>{l.deleteClient()},n})()}ne(["click"]);var ea=_('<div class="flex flex-col pb-4 gap-1"><div><label for=username class=select-none>Admin Username:</label><input class=mb-2 id=username type=text name=admin_username></div><div><label for=password class=select-none>Admin Password:</label><div class=inline-action-right><input id=password name=admin_password><div>'),ta=_('<div class="field-group p-2"><div class="py-2 w-full"><label for=get_address_api_key class=select-none>GetAddress API Key:</label><div class=inline-action-right><input id=get_address_api_key><div>'),la=_("<div class=attention><div class=pb-2><p><strong>GetAddress:</strong> UK Postcode lookup.</p></div><div class=field-group><div class=checkbox><input type=checkbox id=get_address_service name=get_address_service><label for=get_address_service>Enable GetAddress API Service"),ia=_('<div class="flex flex-col p-2"><div class=py-2><label for=zepto_sender class=select-none>Sender:</label><input id=zepto_sender type=text></div><div class=py-2><label for=zepto_api_url class=select-none>API URL:</label><input id=zepto_api_url type=text></div><div class=py-2><label for=zepto_token class=select-none>Token:</label><div class=inline-action-right><input id=zepto_token><div>'),na=_("<div class=attention><div class=pb-2><p><strong>Zepto:</strong> Transactional email.</p></div><div class=field-group><div class=checkbox><input type=checkbox id=zepto_service name=zepto_service><label for=zepto_service>Enable Zepto Service"),sa=_('<div class="flex flex-col p-2"><div class=py-2><label for=smtp_server class=select-none>Server:</label><input id=smtp_server type=text></div><div class=py-2><label for=smtp_port class=select-none>Port:</label><input id=smtp_port type=number></div><div class=py-2><label for=smtp_username class=select-none>Username:</label><input id=smtp_username type=text></div><div class=py-2><label for=smtp_password class=select-none>Password:</label><div class=inline-action-right><input id=smtp_password><div>'),ra=_("<div class=attention><div class=pb-2><p><strong>SMTP:</strong> Send email via smtp.</p></div><div class=field-group><div class=checkbox><input type=checkbox id=smtp_service name=smtp_service><label for=smtp_service>Enable SMTP Service"),aa=_("<div class=attention-danger>"),oa=_('<div class=install-background><div class=install-outer><div class=install-inner><form class="flex flex-col gap-4"><div class=install-form-group><p class="text-2xl pb-4">🤖 Track-a-tron Installer</p><div class=pb-4><div class="flex flex-col gap-1"><p class="text-lg pb-2">Services:</p></div></div></div><div class="flex flex-col gap-1"><input type=submit class=btn-confirm value=Install></div></form></div><div class="text-sm text-center text-gray-500 p-2"><p>Track-a-tron 1000');function da(){const e=W(ce),t=new xe,[l,i]=y(""),[n,s]=y(""),[a,r]=y(""),[d,f]=y(!1),[c,p]=y({api_key:"",administration_key:""}),[h,g]=y(!1),[x,m]=y(!1),[$,b]=y({sender:"",api_url:"",token:""}),[S,k]=y(!1),[D,P]=y(!1),[T,U]=y({username:"",password:"",server:"",port:0}),[L,q]=y(!1),[w,C]=y(!1);function E(){if(n().length<1){i("Admin username is required");return}if(a().length<1){i("Admin password is required");return}if(h()&&c().api_key.length<1){i("GetAddress API Key is required");return}if(S()){if($().sender.length<1){i("Zepto sender is required");return}if($().api_url.length<1){i("Zepto API URL is required");return}if($().token.length<1){i("Zepto token is required");return}}if(L()){if(T().username.length<1){i("SMTP username is required");return}if(T().password.length<1){i("SMTP password is required");return}if(T().server.length<1){i("SMTP server is required");return}if(T().port<1){i("SMTP port is required");return}}t.post("/system/install",{admin_username:n(),admin_password:a(),services:{get_address:{enabled:h(),name:"get_address",category:"Postcode Lookup",data:c()},zepto:{enabled:S(),name:"zepto",category:"Transactional Email",data:$()},smtp:{enabled:L(),name:"smtp",category:"SMTP Email",data:T()}}}).then(F=>{F.ok?e.navigator("/login"):i(F.message)})}be(()=>{t.get("/system/checks").then(F=>{F.ok&&(F.data.system_setup?e.navigator("/login"):e.logout())})});function O(){return(()=>{var F=ea(),j=F.firstChild,I=j.firstChild,de=I.nextSibling,Q=j.nextSibling,V=Q.firstChild,te=V.nextSibling,A=te.firstChild,R=A.nextSibling;return de.addEventListener("change",K=>s(K.target.value)),A.addEventListener("change",K=>r(K.target.value)),R.$$mouseup=()=>f(!1),R.$$mousedown=()=>f(!0),u(R,(()=>{var K=H(()=>!!d());return()=>K()?o(Le,{size:14}):o(We,{size:14})})()),v(()=>M(A,"type",d()?"text":"password")),v(()=>A.value=a()),F})()}function ee(){return(()=>{var F=la(),j=F.firstChild,I=j.nextSibling,de=I.firstChild,Q=de.firstChild;return Q.addEventListener("change",V=>g(V.target.checked)),u(F,o(le,{get when(){return h()},get children(){var V=ta(),te=V.firstChild,A=te.firstChild,R=A.nextSibling,K=R.firstChild,Y=K.nextSibling;return K.addEventListener("change",X=>p({...c(),api_key:X.target.value})),Y.$$mouseup=()=>m(!1),Y.$$mousedown=()=>m(!0),u(Y,(()=>{var X=H(()=>!!x());return()=>X()?o(Le,{size:14}):o(We,{size:14})})()),v(()=>M(K,"type",x()?"text":"password")),v(()=>K.value=c().api_key),V}}),null),v(()=>Q.checked=h()),F})()}function ae(){return(()=>{var F=na(),j=F.firstChild,I=j.nextSibling,de=I.firstChild,Q=de.firstChild;return Q.addEventListener("change",V=>k(V.target.checked)),u(F,o(le,{get when(){return S()},get children(){var V=ia(),te=V.firstChild,A=te.firstChild,R=A.nextSibling,K=te.nextSibling,Y=K.firstChild,X=Y.nextSibling,ue=K.nextSibling,re=ue.firstChild,B=re.nextSibling,z=B.firstChild,N=z.nextSibling;return R.addEventListener("change",Z=>b({...$(),sender:Z.target.value})),X.addEventListener("change",Z=>b({...$(),api_url:Z.target.value})),z.addEventListener("change",Z=>b({...$(),token:Z.target.value})),N.$$mouseup=()=>P(!1),N.$$mousedown=()=>P(!0),u(N,(()=>{var Z=H(()=>!!D());return()=>Z()?o(Le,{size:14}):o(We,{size:14})})()),v(()=>M(z,"type",D()?"text":"password")),v(()=>R.value=$().sender),v(()=>X.value=$().api_url),v(()=>z.value=$().token),V}}),null),v(()=>Q.checked=S()),F})()}function se(){return(()=>{var F=ra(),j=F.firstChild,I=j.nextSibling,de=I.firstChild,Q=de.firstChild;return Q.addEventListener("change",V=>q(V.target.checked)),u(F,o(le,{get when(){return L()},get children(){var V=sa(),te=V.firstChild,A=te.firstChild,R=A.nextSibling,K=te.nextSibling,Y=K.firstChild,X=Y.nextSibling,ue=K.nextSibling,re=ue.firstChild,B=re.nextSibling,z=ue.nextSibling,N=z.firstChild,Z=N.nextSibling,G=Z.firstChild,pe=G.nextSibling;return R.addEventListener("change",fe=>U({...T(),server:fe.target.value})),X.addEventListener("change",fe=>U({...T(),port:fe.target.value})),B.addEventListener("change",fe=>U({...T(),username:fe.target.value})),G.addEventListener("change",fe=>U({...T(),password:fe.target.value})),pe.$$mouseup=()=>C(!1),pe.$$mousedown=()=>C(!0),u(pe,(()=>{var fe=H(()=>!!w());return()=>fe()?o(Le,{size:14}):o(We,{size:14})})()),v(()=>M(G,"type",w()?"text":"password")),v(()=>R.value=T().server),v(()=>X.value=T().port),v(()=>B.value=T().username),v(()=>G.value=T().password),V}}),null),v(()=>Q.checked=L()),F})()}return(()=>{var F=oa(),j=F.firstChild,I=j.firstChild,de=I.firstChild,Q=de.firstChild,V=Q.firstChild,te=V.nextSibling,A=te.firstChild;A.firstChild;var R=Q.nextSibling,K=R.firstChild;return de.addEventListener("submit",Y=>{Y.preventDefault()}),u(Q,o(le,{get when(){return l().length>0},get children(){var Y=aa();return u(Y,l),Y}}),te),u(te,o(O,{}),A),u(A,o(ee,{}),null),u(A,o(ae,{}),null),u(A,o(se,{}),null),K.$$click=()=>E(),F})()}ne(["mousedown","mouseup","click"]);var ca=_('<div><h1 class="m-0 pb-2">🤖 Track-a-tron</h1><p class=font-bold>Track-a-tron is a simple system for tracking things.</p><p class=pt-2>View the project on <a target=_blank href=https://github.com/CheeseCake87/track-a-tron>GitHub</a></p><p class=pt-2><small>Version: </small></p><p><small>© 2024 David Carmichael, licensed under GNU AFFERO GENERAL PUBLIC LICENSE Version 3 (19 November 2007)</small></p><p><small>A copy of this license can be <a target=_blank href=https://github.com/CheeseCake87/track-a-tron/blob/main/LICENSE>found here');function ua(){const e=W(ce),t=W(ze);return be(()=>{e.setMainMenuLocation("system"),t.setSystemSection("information")}),(()=>{var l=ca(),i=l.firstChild,n=i.nextSibling,s=n.nextSibling,a=s.nextSibling,r=a.firstChild;return r.firstChild,u(r,()=>e.systemVersion(),null),l})()}var fa=_('<div class="attention-danger -clickable"><p></p><p class=text-xs>Click to close'),va=_('<dialog><div class=py-2><label>User Type</label><select class=w-full></select></div><div class=py-2><label>Username</label><input type=text class=w-full></div><div class=py-2><label>Password</label><input type=password class=w-full></div><div class=py-2><label>Display Name</label><input type=text class=w-full></div><div class=pt-2><strong>Notifications</strong></div><div class=py-2><label>Email Address</label><input type=email class=w-full></div><div class=py-2><label>SMS</label><input type=text class=w-full></div><div class="flex flex-col gap-2 sticky bottom-0 mt-4"><div class="flex flex-row justify-between gap-2"><button class=btn>𝗑 Cancel</button><button class=btn-good>Create User'),pa=_("<option>");function ha(){const e=W(ce),t=W(ze),l=new xe;function i(){l.post("/system/search/user",{where:{username:t.tempAddSystemUser().username}}).then(n=>{if(n.ok){t.setSystemUsersDialogError("Username already exists, please choose another");return}if(t.tempAddSystemUser().username===""){t.setSystemUsersDialogError("Username cannot be blank");return}if(t.tempAddSystemUser().password===""){t.setSystemUsersDialogError("Password cannot be blank");return}if(t.tempAddSystemUser().password.length<8){t.setSystemUsersDialogError("Password must be at least 8 characters");return}if(t.tempAddSystemUser().display_name===""){t.setSystemUsersDialogError("Display name cannot be blank");return}l.post("/system/create/user",t.tempAddSystemUser()).then(s=>{s.ok?(t.setSystemUsersDialogError(""),t.setTempAddSystemUser(t.blankSystemUser),t.refSystemUserAddDialog.close(),t.getAllSystemUsers(),e.showSuccessToast("User created")):(t.setSystemUsersDialogError(""),t.setTempAddSystemUser(t.blankSystemUser),t.refSystemUserAddDialog.close(),t.setSystemUsersDialogError(`Error creating user ${s.message}`))})})}return(()=>{var n=va(),s=n.firstChild,a=s.firstChild,r=a.nextSibling,d=s.nextSibling,f=d.firstChild,c=f.nextSibling,p=d.nextSibling,h=p.firstChild,g=h.nextSibling,x=p.nextSibling,m=x.firstChild,$=m.nextSibling,b=x.nextSibling,S=b.nextSibling,k=S.firstChild,D=k.nextSibling,P=S.nextSibling,T=P.firstChild,U=T.nextSibling,L=P.nextSibling,q=L.firstChild,w=q.firstChild,C=w.nextSibling,E=t.refSystemUserAddDialog;return typeof E=="function"?Re(E,n):t.refSystemUserAddDialog=n,r.addEventListener("change",O=>{t.setTempAddSystemUser({...t.tempAddSystemUser(),user_type:O.target.value})}),u(r,o(_e,{get each(){return t.systemUserTypes},children:O=>(()=>{var ee=pa();return ee.value=O,u(ee,O),ee})()})),c.$$keyup=O=>{t.setTempAddSystemUser({...t.tempAddSystemUser(),username:O.target.value})},g.$$keyup=O=>{t.setTempAddSystemUser({...t.tempAddSystemUser(),password:O.target.value})},$.$$keyup=O=>{t.setTempAddSystemUser({...t.tempAddSystemUser(),display_name:O.target.value})},D.$$keyup=O=>{t.setTempAddSystemUser({...t.tempAddSystemUser(),email:O.target.value})},U.$$keyup=O=>{t.setTempAddSystemUser({...t.tempAddSystemUser(),sms:O.target.value})},u(L,o(le,{get when(){return t.systemUsersDialogError()!==""},get children(){var O=fa(),ee=O.firstChild;return O.$$click=()=>{t.setSystemUsersDialogError("")},u(ee,()=>t.systemUsersDialogError()),O}}),q),w.$$click=()=>{t.setSystemUsersDialogError(""),t.setTempAddSystemUser(t.blankSystemUser),t.refSystemUserAddDialog.close()},C.$$click=()=>{i()},v(()=>c.value=t.tempAddSystemUser().username),v(()=>g.value=t.tempAddSystemUser().password),v(()=>$.value=t.tempAddSystemUser().display_name),v(()=>D.value=t.tempAddSystemUser().email),v(()=>U.value=t.tempAddSystemUser().sms),n})()}ne(["keyup","click"]);var _a=_('<div class="attention-danger -clickable"><p></p><p class=text-xs>Click to close'),ga=_('<dialog><div class=py-2><label>User Type</label><select class=w-full></select></div><div class=py-2><label>Username</label><input type=text class=w-full></div><div class=py-2><label>Display Name</label><input type=text class=w-full></div><div class=pt-2><strong>Notifications</strong></div><div class=py-2><label>Email Address</label><input type=email class=w-full></div><div class=py-2><label>SMS</label><input type=text class=w-full></div><div class="flex flex-col gap-2 sticky bottom-0 mt-4"><div class="flex flex-row justify-between gap-2"><button class=btn>𝗑 Cancel</button><button class=btn-good>Update User'),$a=_("<option>");function ma(){const e=W(ce),t=W(ze),l=new xe;function i(){if(t.tempEditSystemUser().username===""){t.setSystemUsersDialogError("Username cannot be blank");return}if(t.tempEditSystemUser().display_name===""){t.setSystemUsersDialogError("Display name cannot be blank");return}l.post("/system/search/user",{where:{username:t.tempEditSystemUser().username}}).then(n=>{if(n.ok){if(n.data.user_id!==t.tempEditSystemUser().user_id){t.setSystemUsersDialogError("Username already exists, please choose another");return}l.post(`/system/update/user/${t.tempEditSystemUser().user_id}`,{username:t.tempEditSystemUser().username,display_name:t.tempEditSystemUser().display_name,email:t.tempEditSystemUser().email,sms:t.tempEditSystemUser().sms,user_type:t.tempEditSystemUser().user_type}).then(s=>{s.ok?(t.setSystemUsersDialogError(""),t.setTempEditSystemUser(t.blankSystemUser),t.refSystemUserEditDialog.close(),t.getAllSystemUsers(),e.showSuccessToast("User updated")):t.setSystemUsersDialogError(`Error updating user ${s.message}`)})}})}return(()=>{var n=ga(),s=n.firstChild,a=s.firstChild,r=a.nextSibling,d=s.nextSibling,f=d.firstChild,c=f.nextSibling,p=d.nextSibling,h=p.firstChild,g=h.nextSibling,x=p.nextSibling,m=x.nextSibling,$=m.firstChild,b=$.nextSibling,S=m.nextSibling,k=S.firstChild,D=k.nextSibling,P=S.nextSibling,T=P.firstChild,U=T.firstChild,L=U.nextSibling,q=t.refSystemUserEditDialog;return typeof q=="function"?Re(q,n):t.refSystemUserEditDialog=n,r.addEventListener("change",w=>{t.setTempEditSystemUser({...t.tempEditSystemUser(),user_type:w.target.value})}),u(r,o(_e,{get each(){return t.systemUserTypes},children:w=>(()=>{var C=$a();return C.value=w,u(C,w),v(()=>C.selected=t.tempEditSystemUser().user_type===w),C})()})),c.$$keyup=w=>{t.setTempEditSystemUser({...t.tempEditSystemUser(),username:w.target.value})},g.$$keyup=w=>{t.setTempEditSystemUser({...t.tempEditSystemUser(),display_name:w.target.value})},b.$$keyup=w=>{t.setTempEditSystemUser({...t.tempEditSystemUser(),email:w.target.value})},D.$$keyup=w=>{t.setTempEditSystemUser({...t.tempEditSystemUser(),sms:w.target.value})},u(P,o(le,{get when(){return t.systemUsersDialogError()!==""},get children(){var w=_a(),C=w.firstChild;return w.$$click=()=>{t.setSystemUsersDialogError("")},u(C,()=>t.systemUsersDialogError()),w}}),T),U.$$click=()=>{t.setSystemUsersDialogError(""),t.setTempEditSystemUser(t.blankSystemUser),t.refSystemUserEditDialog.close()},L.$$click=()=>{i()},v(()=>r.disabled=t.tempEditSystemUser().user_id===1),v(()=>c.value=t.tempEditSystemUser().username),v(()=>g.value=t.tempEditSystemUser().display_name),v(()=>b.value=t.tempEditSystemUser().email),v(()=>D.value=t.tempEditSystemUser().sms),n})()}ne(["keyup","click"]);var ba=_('<div class="attention-danger -clickable">'),ya=_('<dialog><div class=py-2><label>New Password</label><input type=password class=w-full></div><div class="flex flex-col gap-2 sticky bottom-0 pb-2"><div class="flex flex-row justify-between mt-4"><button class=btn>𝗑 Cancel</button><button class=btn-good>Set Password');function xa(){const e=W(ce),t=W(ze),l=new xe;function i(){l.post(`/system/update/user/${t.systemUserSelected()}/password`,{new_password:t.resetSystemUserPassword(),forced:!0}).then(n=>{n.ok?(t.refSystemUserResetPasswordDialog.close(),t.setSystemUsersDialogError(""),t.setResetSystemUserPassword("")):t.setSystemUsersDialogError(`Error updating password (${rpc.message})`)})}return(()=>{var n=ya(),s=n.firstChild,a=s.firstChild,r=a.nextSibling,d=s.nextSibling,f=d.firstChild,c=f.firstChild,p=c.nextSibling,h=t.refSystemUserResetPasswordDialog;return typeof h=="function"?Re(h,n):t.refSystemUserResetPasswordDialog=n,r.$$keyup=g=>{t.setResetSystemUserPassword(g.target.value)},u(d,o(le,{get when(){return t.systemUsersDialogError()!==""},get children(){var g=ba();return g.$$click=()=>{t.setSystemUsersDialogError("")},u(g,()=>t.systemUsersDialogError()),g}}),f),c.$$click=()=>{t.setSystemUsersDialogError(""),t.setResetSystemUserPassword(""),t.refSystemUserResetPasswordDialog.close()},p.$$click=()=>{i(),e.showSuccessToast("User's password set")},v(()=>r.value=t.resetSystemUserPassword()),n})()}ne(["keyup","click"]);var ka=_('<div class="attention-danger -clickable"><p></p><p class=text-xs>Click to close'),Sa=_('<dialog><div class="flex flex-col gap-2 sticky top-0 pb-2"><div><p>Are you sure you want to delete the following account?</p><p class="p-4 font-bold text-lg"> (<!>)</p></div><div class="flex flex-row justify-between gap-2"><button class="btn-danger w-full">YES, DELETE</button><button class="btn w-full">NO');function wa(){const e=W(ce),t=W(ze),l=new xe;function i(){l.get(`/system/delete/user
            /${t.tempDeleteSystemUser().username}
            /${t.tempDeleteSystemUser().user_id}`).then(n=>{n.ok?(t.setSystemUsersDialogError(""),t.setTempDeleteSystemUser(t.blankSystemUser),t.refSystemUserDeleteDialog.close(),t.getAllSystemUsers(),e.showSuccessToast("User deleted")):t.setSystemUsersDialogError(`Error deleting user (${rpc.message})`)})}return(()=>{var n=Sa(),s=n.firstChild,a=s.firstChild,r=a.firstChild,d=r.nextSibling,f=d.firstChild,c=f.nextSibling;c.nextSibling;var p=a.nextSibling,h=p.firstChild,g=h.nextSibling,x=t.refSystemUserDeleteDialog;return typeof x=="function"?Re(x,n):t.refSystemUserDeleteDialog=n,u(d,()=>t.tempDeleteSystemUser().display_name,f),u(d,()=>t.tempDeleteSystemUser().username,c),u(s,o(le,{get when(){return t.systemUsersDialogError()!==""},get children(){var m=ka(),$=m.firstChild;return m.$$click=()=>{t.setSystemUsersDialogError("")},u($,()=>t.systemUsersDialogError()),m}}),p),h.$$click=()=>{i()},g.$$click=()=>{t.setSystemUsersDialogError(""),t.setTempEditSystemUser(t.blankSystemUser),t.refSystemUserDeleteDialog.close()},n})()}ne(["click"]);var Ca=_("<div class=system-users-header><button class=btn-good>+ Add User"),Aa=_("<div class=system-users>"),Ta=_("<div class=system-user><div class=system-user-info><div class=system-user-info-group><div><small>ID</small><p class=text-lg></p></div><div><small>User Type</small><p class=text-lg></p></div><div><small>Username</small><p class=text-lg></p></div><div><small>Display Name</small><p class=text-lg></p></div></div><div class=system-user-info-group><div><small>Email Address</small><p class=text-lg></p></div><div><small>SMS</small><p class=text-lg></p></div></div></div><div class=system-user-buttons><button class=btn>Edit</button><button class=btn>Reset Password</button><button class=btn-danger>Delete");function Ea(){const e=W(ce),t=W(ze);return be(()=>{e.setMainMenuLocation("system"),t.setSystemSection("users"),t.getAllSystemUsers()}),[(()=>{var l=Ca(),i=l.firstChild;return i.$$click=()=>{t.setSystemUsersDialogError(""),t.setTempAddSystemUser(t.blankSystemUser),t.refSystemUserAddDialog.showModal()},l})(),(()=>{var l=Aa();return u(l,o(_e,{get each(){return t.systemUsers()},children:i=>(()=>{var n=Ta(),s=n.firstChild,a=s.firstChild,r=a.firstChild,d=r.firstChild,f=d.nextSibling,c=r.nextSibling,p=c.firstChild,h=p.nextSibling,g=c.nextSibling,x=g.firstChild,m=x.nextSibling,$=g.nextSibling,b=$.firstChild,S=b.nextSibling,k=a.nextSibling,D=k.firstChild,P=D.firstChild,T=P.nextSibling,U=D.nextSibling,L=U.firstChild,q=L.nextSibling,w=s.nextSibling,C=w.firstChild,E=C.nextSibling,O=E.nextSibling;return u(f,()=>i.user_id),u(h,()=>i.user_type),u(m,()=>i.username),u(S,()=>i.display_name),u(T,()=>i.email?i.email:"-"),u(q,()=>i.sms?i.sms:"-"),C.$$click=()=>{t.setSystemUserSelected(i.user_id),t.setTempEditSystemUser({...i}),t.refSystemUserEditDialog.showModal()},E.$$click=()=>{t.setSystemUserSelected(i.user_id),t.setResetSystemUserPassword(""),t.refSystemUserResetPasswordDialog.showModal()},O.$$click=()=>{t.setSystemUserSelected(i.user_id),t.setTempDeleteSystemUser({...i}),t.refSystemUserDeleteDialog.showModal()},v(()=>O.disabled=i.user_id===1),n})()})),l})(),o(ha,{}),o(ma,{}),o(xa,{}),o(wa,{})]}ne(["click"]);var Pa=_('<div class="field-group p-2"><div class="py-2 w-full"><label for=get_address_api_key class=select-none>GetAddress API Key:</label><div class=inline-action-right><input id=get_address_api_key><div>'),Ua=_('<div class=system-service><div class=pb-2><p><strong>GetAddress:</strong> UK Postcode lookup.</p></div><div class=field-group><div class=checkbox><input type=checkbox id=get_address_service name=get_address_service><label for=get_address_service>Enable GetAddress API Service</label></div></div><button class="btn-confirm mt-2">Update'),Da=_('<div class="flex flex-col p-2"><div class=py-2><label for=zepto_sender class=select-none>Sender:</label><input id=zepto_sender type=text class=w-full></div><div class=py-2><label for=zepto_api_url class=select-none>API URL:</label><input id=zepto_api_url type=text class=w-full></div><div class=py-2><label for=zepto_token class=select-none>Token:</label><div class=inline-action-right><input id=zepto_token><div>'),La=_('<div class=system-service><div class=pb-2><p><strong>Zepto:</strong> Transactional email.</p></div><div class=field-group><div class=checkbox><input type=checkbox id=zepto_service name=zepto_service><label for=zepto_service>Enable Zepto Service</label></div></div><button class="btn-confirm mt-2">Update'),Wa=_('<div class="flex flex-col p-2"><div class=py-2><label for=smtp_server class=select-none>Server:</label><input id=smtp_server type=text class=w-full></div><div class=py-2><label for=smtp_port class=select-none>Port:</label><input id=smtp_port type=number class=w-full></div><div class=py-2><label for=smtp_username class=select-none>Username:</label><input id=smtp_username type=text class=w-full></div><div class=py-2><label for=smtp_password class=select-none>Password:</label><div class=inline-action-right><input id=smtp_password><div>'),Ma=_('<div class=system-service><div class=pb-2><p><strong>SMTP:</strong> Send email via smtp.</p></div><div class=field-group><div class=checkbox><input type=checkbox id=smtp_service name=smtp_service><label for=smtp_service>Enable SMTP Service</label></div></div><button class="btn-confirm mt-2">Update'),za=_('<div class="flex flex-col gap-2 w-100">');function Na(){const e=W(ce),t=W(ze),l=new xe,[i,n]=y({api_key:"",administration_key:""}),[s,a]=y(!1),[r,d]=y(!1),[f,c]=y({sender:"",api_url:"",token:""}),[p,h]=y(!1),[g,x]=y(!1),[m,$]=y({username:"",password:"",server:"",port:0}),[b,S]=y(!1),[k,D]=y(!1);function P(){l.get("/system/get/enabled/services").then(E=>{E.ok?e.setEnabledServices(E.data):e.showErrorToast(E.message)})}function T(){if(s()&&i().api_key===""){e.showErrorToast("GetAddress API Key is required.");return}l.post("/system/update/service",{name:"get_address",data:i(),enabled:s()}).then(E=>{E.ok?(e.showSuccessToast("GetAddress service updated."),P()):e.showErrorToast("There was an error updating the GetAddress service.")})}function U(){if(p()){if(f().api_url===""){e.showErrorToast("Zepto API URL is required.");return}if(f().sender===""){e.showErrorToast("Zepto Sender is required.");return}if(f().token===""){e.showErrorToast("Zepto Token is required.");return}}l.post("/system/update/service",{name:"zepto",data:f(),enabled:p()}).then(E=>{E.ok?(e.showSuccessToast("Zepto service updated."),P()):e.showErrorToast("There was an error updating the Zepto service.")})}function L(){if(b()){if(m().server===""){e.showErrorToast("SMTP Server is required.");return}if(m().port===0){e.showErrorToast("SMTP Port is required.");return}if(m().username===""){e.showErrorToast("SMTP Username is required.");return}if(m().password===""){e.showErrorToast("SMTP Password is required.");return}}l.post("/system/update/service",{name:"smtp",data:m(),enabled:b()}).then(E=>{E.ok?(e.showSuccessToast("SMTP service updated."),P()):e.showErrorToast("There was an error updating the SMTP service.")})}function q(){return(()=>{var E=Ua(),O=E.firstChild,ee=O.nextSibling,ae=ee.firstChild,se=ae.firstChild,F=ee.nextSibling;return se.addEventListener("change",j=>a(j.target.checked)),u(E,o(le,{get when(){return s()},get children(){var j=Pa(),I=j.firstChild,de=I.firstChild,Q=de.nextSibling,V=Q.firstChild,te=V.nextSibling;return V.addEventListener("change",A=>n({...i(),api_key:A.target.value})),te.$$mouseup=()=>d(!1),te.$$mousedown=()=>d(!0),u(te,(()=>{var A=H(()=>!!r());return()=>A()?o(Le,{size:14}):o(We,{size:14})})()),v(()=>M(V,"type",r()?"text":"password")),v(()=>V.value=i().api_key),j}}),F),F.$$click=()=>T(),v(()=>se.checked=s()),E})()}function w(){return(()=>{var E=La(),O=E.firstChild,ee=O.nextSibling,ae=ee.firstChild,se=ae.firstChild,F=ee.nextSibling;return se.addEventListener("change",j=>h(j.target.checked)),u(E,o(le,{get when(){return p()},get children(){var j=Da(),I=j.firstChild,de=I.firstChild,Q=de.nextSibling,V=I.nextSibling,te=V.firstChild,A=te.nextSibling,R=V.nextSibling,K=R.firstChild,Y=K.nextSibling,X=Y.firstChild,ue=X.nextSibling;return Q.addEventListener("change",re=>c({...f(),sender:re.target.value})),A.addEventListener("change",re=>c({...f(),api_url:re.target.value})),X.addEventListener("change",re=>c({...f(),token:re.target.value})),ue.$$mouseup=()=>x(!1),ue.$$mousedown=()=>x(!0),u(ue,(()=>{var re=H(()=>!!g());return()=>re()?o(Le,{size:14}):o(We,{size:14})})()),v(()=>M(X,"type",g()?"text":"password")),v(()=>Q.value=f().sender),v(()=>A.value=f().api_url),v(()=>X.value=f().token),j}}),F),F.$$click=()=>U(),v(()=>se.checked=p()),E})()}function C(){return(()=>{var E=Ma(),O=E.firstChild,ee=O.nextSibling,ae=ee.firstChild,se=ae.firstChild,F=ee.nextSibling;return se.addEventListener("change",j=>S(j.target.checked)),u(E,o(le,{get when(){return b()},get children(){var j=Wa(),I=j.firstChild,de=I.firstChild,Q=de.nextSibling,V=I.nextSibling,te=V.firstChild,A=te.nextSibling,R=V.nextSibling,K=R.firstChild,Y=K.nextSibling,X=R.nextSibling,ue=X.firstChild,re=ue.nextSibling,B=re.firstChild,z=B.nextSibling;return Q.addEventListener("change",N=>$({...m(),server:N.target.value})),A.addEventListener("change",N=>$({...m(),port:N.target.value})),Y.addEventListener("change",N=>$({...m(),username:N.target.value})),B.addEventListener("change",N=>$({...m(),password:N.target.value})),z.$$mouseup=()=>D(!1),z.$$mousedown=()=>D(!0),u(z,(()=>{var N=H(()=>!!k());return()=>N()?o(Le,{size:14}):o(We,{size:14})})()),v(()=>M(B,"type",k()?"text":"password")),v(()=>Q.value=m().server),v(()=>A.value=m().port),v(()=>Y.value=m().username),v(()=>B.value=m().password),j}}),F),F.$$click=()=>L(),v(()=>se.checked=b()),E})()}return Me(()=>{t.systemSection()==="services"&&l.get("/system/services").then(E=>{if(E.ok)for(let O of E.data)O.name==="get_address"&&(n(O.data),a(O.enabled)),O.name==="zepto"&&(c(O.data),h(O.enabled)),O.name==="smtp"&&($(O.data),S(O.enabled))})}),be(()=>{e.setMainMenuLocation("system"),t.setSystemSection("services")}),(()=>{var E=za();return u(E,o(q,{}),null),u(E,o(w,{}),null),u(E,o(C,{}),null),E})()}ne(["mousedown","mouseup","click"]);const Ia=Se();function Oa(){const e=W(ce);return be(()=>{e.loggedIn()&&e.navigator("/")}),o(Ia.Provider,{value:{},get children(){return o(ke,{})}})}const Ra=Se();function rt(){const e=W(ce);return be(()=>{e.loggedIn()||(e.userId()&&e.setUserId(null),e.userType()&&e.setUserType(null),e.navigator("/login"))}),o(Ra.Provider,{value:{},get children(){return o(ke,{})}})}const Fa=Se();function Ba(){const e=W(ce);return be(()=>{e.userType()!=="admin"&&(e.navigator("/"),e.showErrorToast("You must be an admin to access this page"))}),o(Fa.Provider,{value:{},get children(){return o(ke,{})}})}var ja=_("<div class=system-users>"),qa=_("<div class=system-user>No logs found"),Ha=_("<div class=system-user>");function Va(){const e=W(ce),t=W(ze);return be(()=>{e.setMainMenuLocation("system"),t.setSystemSection("logs"),t.getAllSystemLogs()}),(()=>{var l=ja();return u(l,o(le,{get when(){return t.systemLogs()},get fallback(){return qa()},get children(){return o(_e,{get each(){return t.systemLogs()},children:i=>(()=>{var n=Ha();return u(n,i),n})()})}})),l})()}const we=Se();function Ga(){const e=W(ce),t=new xe,[l,i]=y("cards"),[n,s]=y(!0),[a,r]=y(!1),[d,f]=Sl([]),[c,p]=y(0),[h,g]=y(0),[x,m]=y(1),[$,b]=y(25),[S,k]=y(),[D,P]=y(200),[T,U]=y({}),[L,q]=y({}),[w,C]=y({}),[E,O]=y({}),[ee,ae]=y([]),se=z=>{k(window.innerHeight)};let F,j;function I(z,N,Z){let G="";return N&&(G=N),Z&&(N?G+=" "+Z:G=Z),z?G!==""?G+" ("+z+")":z:G}function de(z,N,Z,G){let pe=[];return z&&pe.push(z),N&&pe.push(N),Z&&pe.push(Z),G&&pe.push(G),pe.join(", ")}function Q(z,N){let Z="";return z&&(Z=z),N&&(z?Z+=" "+N:Z=N),Z}function V(z,N){N===""||N===0||N==="0"?w().hasOwnProperty(z)&&(delete w()[z],C({...w()})):C({...w(),[z]:N})}function te(z,N){if(w().hasOwnProperty("_in")&&w()._in.hasOwnProperty(z)&&w()._in[z].includes(N))return!0}function A(z,N){w().hasOwnProperty("_in")?w()._in.hasOwnProperty(z)?w()._in[z].includes(N)||C({...w(),_in:{...w()._in,[z]:[...w()._in[z],N]}}):C({...w(),_in:{...w()._in,[z]:[N]}}):C({...w(),_in:{[z]:[N]}})}function R(z,N){if(w().hasOwnProperty("_in")&&w()._in.hasOwnProperty(z)&&w()._in[z].includes(N)){const Z=w()._in[z].filter(G=>G!==N);C({...w(),_in:{...w()._in,[z]:Z}})}}function K(){t.get("/system/get/active/users").then(z=>{z.ok?ae(z.data):e.showErrorToast("Error fetching users. "+z.message)})}function Y(z){m(1),b(z)}function X(z){return{workshop_tag:"Tag",status_code:"Status",category_code:"Category",fk_assigned_user_id:"Assigned To",date_from:"Date From",date_to:"Date To",date_on:"Date On"}[z]}function ue(){const z=document.getElementById("ticketsTableOverflow");z&&(z.scrollTop=0)}function re(z,N,Z,G){r(!0),clearTimeout(j),j=setTimeout(()=>{t.post("/workshop/paged",{page:N,limit:Z,where:G}).then(pe=>{pe.ok?(p(pe.data.total_tickets),g(pe.data.total_pages),f(pe.data.tickets),r(!1),ue(),n()&&s(!1)):(p(0),g(0),f([]),r(!1),n()&&s(!1))}),q(G)},z)}function B(z){const N={};for(let[Z,G]of Object.entries(z))switch(Z){case"status_code":It.hasOwnProperty(G)?N[X(Z)]=It[G].name:N[X(Z)]="Error";break;case"category_code":Ot.hasOwnProperty(G)?N[X(Z)]=Ot[G]:N[X(Z)]="Error";break;case"fk_assigned_user_id":const pe=ee().find(fe=>fe.user_id===parseInt(G));N[X(Z)]=pe?pe.display_name:"Error";break;default:N[X(Z)]=G}return{...N}}return Me(()=>{P(S()-150-(Object.keys(E()).length>0?45:0))}),Me(()=>{re(200,x(),$(),T())}),Me(()=>{O(B(L()?L():{}))}),be(()=>{e.loggedIn()?(window.addEventListener("resize",se),k(window.innerHeight),P(S()-150),re(200,x(),$(),T()),K()):e.navigator("/login")}),Ve(()=>{window.removeEventListener("resize",se)}),o(we.Provider,{value:{workshopLayout:l,setWorkshopLayout:i,users:ee,setUsers:ae,loadingTickets:n,setLoadingTickets:s,smallLoadingTickets:a,setSmallLoadingTickets:r,tickets:d,setTickets:f,totalTickets:c,setTotalTickets:p,totalPages:h,setTotalPages:g,page:x,setPage:m,limit:$,setLimit:b,ticketsWhere:T,setTicketsWhere:U,ticketsWhereAnnex:L,setTicketsWhereAnnex:q,ticketsTempWhere:w,setTicketsTempWhere:C,ticketsWherePills:E,setTicketsWherePills:O,ticketsTempWhereValue:V,windowHeight:S,setWindowHeight:k,ticketsInnerTableHeight:D,setTicketsInnerTableHeight:P,deBounceGetPageTickets:re,checkTempWhereIn:te,setTempWhereIn:A,unsetTempWhereIn:R,changeLimit:Y,displayName:I,displayContact:de,displayDevice:Q,getAllActiveUsers:K,dialogFilterTicketsRef:F},get children(){return o(ke,{})}})}const Fe=Se();function Ka(){const e=W(ce),t=W(we),l=new xe,i={business_name:"",first_name:"",last_name:"",phone:"",alt_phone:"",email_address:"",alt_email_address:"",phone_dnc:!1,email_address_dnc:!1},n={building_number:"",sub_building_number:"",building_name:"",sub_building_name:"",address_line_1:"",address_line_2:"",address_line_3:"",locality:"",town_or_city:"",county:"",district:"",postcode:"",country:""},s={type:"Select...",make:"",model:"",password:""},a={description:""},r={any_name:"",any_phone:"",any_email:"",postcode:""},[d,f]=y({}),[c,p]=y(r),[h,g]=y(0),[x,m]=y(""),[$,b]=y(!1),[S,k]=y([]),[D,P]=y(!1),[T,U]=y(!1),[L,q]=y(i),[w,C]=y(n),[E,O]=y(s),[ee,ae]=y(a),[se,F]=y(""),[j,I]=y(1),[de,Q]=y(1),[V,te]=y([]),[A,R]=y([]);function K(){g(0),m(""),P(!0),b(!1),k([]),p(r)}function Y(oe){const ge=t.displayName(oe.business_name,oe.first_name,oe.last_name),me=t.displayContact(oe.phone,oe.email_address,oe.alt_phone,oe.alt_email_address),Ae=oe.__address;return`${ge||"-"} | ${me||"-"} | ${Ae}`}function X(oe){g(oe.client_id),m(Y(oe))}function ue(){const oe={__limit__:10};c().any_name!==""&&(oe.any_name=c().any_name),c().any_phone!==""&&(oe.any_phone=c().any_phone),c().any_email!==""&&(oe.any_email=c().any_email),c().postcode!==""&&(oe.postcode=c().postcode),l.post("/clients/search",{where:oe}).then(ge=>{ge.ok?(k(ge.data),b(!0)):(b(!0),k([]))})}function re(){V().length===0?te([{...s}]):te([...V(),{...s}])}function B(oe,ge,me){const Ae=[...V()];Ae[oe][ge]=me,te(Ae)}function z(oe){const ge=[...V()];ge.splice(oe,1),te(ge)}function N(){A().length===0?R([{...a}]):R([...A(),{...a}])}function Z(oe,ge,me){const Ae=[...A()];Ae[oe][ge]=me,R(Ae)}function G(oe){const ge=[...A()];ge.splice(oe,1),R(ge)}function pe(oe,ge){p({...c(),[oe]:ge})}function fe(){l.post("/clients/create",{fk_user_id:e.userId(),...L(),...w()}).then(oe=>{oe.ok?(e.showSuccessToast(oe.message),X(oe.data)):e.showErrorToast(oe.message)})}function Ne(){const oe=t.displayName(L().business_name,L().first_name,L().last_name);if(D()){if(oe==="")return[!1,"Client name or business name is required"];if(L().phone===""&&L().email_address==="")return[!1,"Client phone or email is required"]}else{if(!$())return[!1,"You must search for a client"];if(h()===0)return[!1,"You must select a client from the client search results"]}return se()===""?[!1,"You must enter a request"]:[!0,""]}function Ke(){const[oe,ge]=Ne();if(!oe){e.showErrorToast(ge);return}l.post("/workshop/create/ticket",{ticket:{user_id:e.userId(),assigned_user_id:e.userId(),client_id:h(),category_code:de(),status_code:j(),request:se(),no_due_datetime:!0},devices:V(),items:A()}).then(me=>{me.ok?(e.showSuccessToast(me.message),e.navigator("/workshop/ticket/"+me.data.workshop_tag)):e.showErrorToast(me.message)})}return o(Fe.Provider,{value:{addAddressManually:T,setAddAddressManually:U,clientAdd:L,setClientAdd:q,clientAddAddress:w,setClientAddAddress:C,findClientWhere:d,addNewClient:D,setAddNewClient:P,deviceFields:E,setDeviceFields:O,itemFields:ee,setItemFields:ae,findClientFields:c,setFindClientFields:p,devices:V,setDevices:te,items:A,setItems:R,foundClients:S,setFoundClients:k,clientSearchDone:$,setClientSearchDone:b,clientIDSelected:h,setClientIDSelected:g,clientSelected:x,setClientSelected:m,request:se,setRequest:F,statusCode:j,setStatusCode:I,categoryCode:de,setCategoryCode:Q,createClient:fe,findClient:ue,createWorkshopTicket:Ke,addDevice:re,updateDeviceArray:B,removeDeviceArray:z,addItem:N,updateItemArray:Z,removeItemArray:G,updateFindClient:pe,clearClientSearch:K,setSelectedClient:X,buildSelectedClient:Y},get children(){return o(ke,{})}})}var Za=_("<div class=form-section><label>Search</label><div class=field-group><div class=inline-label><label>Name</label><input type=text class=w-36></div><div class=inline-label><label>Phone</label><input type=text class=w-36></div><div class=inline-label><label>Email Address</label><input type=text></div><div class=inline-label><label>Postcode</label><input type=text class=w-28></div><button class=btn-confirm tabindex=8>Search Client"),Ya=_('<div class="form-section pt-2"><label>Clients Found</label><div class=card-pill-group>'),Xa=_("<div class=flex><div class=card-pill>"),Ja=_('<div class=card-pill><button class="btn-good btn-pill"role=button>Select');function Qa(){W(ce);const e=W(Fe);return[(()=>{var t=Za(),l=t.firstChild,i=l.nextSibling,n=i.firstChild,s=n.firstChild,a=s.nextSibling,r=n.nextSibling,d=r.firstChild,f=d.nextSibling,c=r.nextSibling,p=c.firstChild,h=p.nextSibling,g=c.nextSibling,x=g.firstChild,m=x.nextSibling,$=g.nextSibling;return a.$$keyup=b=>{b.key==="Enter"&&e.findClient(),e.updateFindClient("any_name",b.target.value)},f.$$keyup=b=>{b.key==="Enter"&&e.findClient(),e.updateFindClient("any_phone",b.target.value)},h.$$keyup=b=>{b.key==="Enter"&&e.findClient(),e.updateFindClient("any_email",b.target.value)},m.$$keyup=b=>{b.key==="Enter"&&e.findClient(),e.updateFindClient("postcode",b.target.value)},$.$$click=()=>{e.findClient()},v(()=>$.disabled=e.findClientFields().any_name===""&&e.findClientFields().any_phone===""&&e.findClientFields().any_email===""&&e.findClientFields().postcode===""),v(()=>a.value=e.findClientFields().any_name),v(()=>f.value=e.findClientFields().any_phone),v(()=>h.value=e.findClientFields().any_email),v(()=>m.value=e.findClientFields().postcode),t})(),(()=>{var t=Ya(),l=t.firstChild,i=l.nextSibling;return u(i,o(_e,{get each(){return e.foundClients()},get fallback(){return(()=>{var n=Xa(),s=n.firstChild;return u(s,o(le,{get when(){return e.clientSearchDone()},children:"No clients found",fallback:"Search for a client"})),n})()},children:(n,s)=>(()=>{var a=Ja(),r=a.firstChild;return u(a,()=>e.buildSelectedClient(n),r),u(a,o(De,{get href(){return`/clients/${n.client_id}`},target:"_blank",className:"btn-confirm btn-pill",get children(){return["Open ",o(ni,{size:14})]}}),r),r.$$click=()=>{e.setSelectedClient(n)},a})()})),t})()]}ne(["keyup","click"]);var eo=_("<div class=form-section><div class=field-group><div class=py-2><label>First Name</label><input type=text></div><div class=py-2><label>Last Name</label><input type=text></div><div class=py-2><label>Business Name</label><input type=text>"),to=_("<div class=form-section><div class=field-group><div class=py-2><label>Phone</label><input type=text></div><div class=py-2><label>Email Address</label><input type=text></div><div class=py-2><label>Alternative Phone</label><input type=text></div><div class=py-2><label>Alternative Email Address</label><input type=text></div></div><div class=form-section><div class=field-group><div class=checkbox><input type=checkbox id=add_client_phone_dnc name=add_client_phone_dnc><label for=add_client_phone_dnc>Do not send SMS updates or messages</label></div><div class=checkbox><input type=checkbox id=add_client_email_address_dnc name=add_client_email_address_dnc><label for=add_client_email_address_dnc>Do not send email updates or messages"),lo=_("<div class=field-group><a class=no-underline>Add Address Manually "),io=_("<div class=form-section><div><div class=field-group><div class=py-2><label>Building Number</label><input type=text></div><div class=py-2><label>Sub Building Number</label><input type=text></div><div class=py-2><label>Building Name</label><input type=text></div><div class=py-2><label>Sub Building Name</label><input type=text></div></div><div class=field-group><div class=py-2><label>Address Line 1</label><input type=text></div><div class=py-2><label>Address Line 2</label><input type=text></div><div class=py-2><label>Address Line 3</label><input type=text></div><div class=py-2><label>Locality</label><input type=text></div></div><div class=field-group><div class=py-2><label>Town / City</label><input type=text></div><div class=py-2><label>County</label><input type=text></div><div class=py-2><label>District</label><input type=text></div></div><div class=field-group><div class=py-2><label>Postcode</label><input type=text></div><div class=py-2><label>Country</label><input type=text>"),no=_("<div class=form-section><div><button class=btn-good>Create &amp; Select Client");function so(){const e=W(ce),t=W(Fe);return[(()=>{var l=eo(),i=l.firstChild,n=i.firstChild,s=n.firstChild,a=s.nextSibling,r=n.nextSibling,d=r.firstChild,f=d.nextSibling,c=r.nextSibling,p=c.firstChild,h=p.nextSibling;return a.$$keyup=g=>{t.setClientAdd({...t.clientAdd(),first_name:g.target.value})},f.$$keyup=g=>{t.setClientAdd({...t.clientAdd(),last_name:g.target.value})},h.$$keyup=g=>{t.setClientAdd({...t.clientAdd(),business_name:g.target.value})},v(()=>a.value=t.clientAdd().first_name),v(()=>f.value=t.clientAdd().last_name),v(()=>h.value=t.clientAdd().business_name),l})(),(()=>{var l=to(),i=l.firstChild,n=i.firstChild,s=n.firstChild,a=s.nextSibling,r=n.nextSibling,d=r.firstChild,f=d.nextSibling,c=r.nextSibling,p=c.firstChild,h=p.nextSibling,g=c.nextSibling,x=g.firstChild,m=x.nextSibling,$=i.nextSibling,b=$.firstChild,S=b.firstChild,k=S.firstChild,D=S.nextSibling,P=D.firstChild;return a.$$keyup=T=>{t.setClientAdd({...t.clientAdd(),phone:T.target.value})},f.$$keyup=T=>{t.setClientAdd({...t.clientAdd(),email_address:T.target.value})},h.$$keyup=T=>{t.setClientAdd({...t.clientAdd(),alt_phone:T.target.value})},m.$$keyup=T=>{t.setClientAdd({...t.clientAdd(),alt_email_address:T.target.value})},k.addEventListener("change",T=>t.setClientAdd({...t.clientAdd(),phone_dnc:T.target.checked})),P.addEventListener("change",T=>t.setClientAdd({...t.clientAdd(),email_address_dnc:T.target.checked})),v(()=>a.value=t.clientAdd().phone),v(()=>f.value=t.clientAdd().email_address),v(()=>h.value=t.clientAdd().alt_phone),v(()=>m.value=t.clientAdd().alt_email_address),v(()=>k.checked=t.clientAdd().phone_dnc),v(()=>P.checked=t.clientAdd().email_address_dnc),l})(),(()=>{var l=io(),i=l.firstChild,n=i.firstChild,s=n.firstChild,a=s.firstChild,r=a.nextSibling,d=s.nextSibling,f=d.firstChild,c=f.nextSibling,p=d.nextSibling,h=p.firstChild,g=h.nextSibling,x=p.nextSibling,m=x.firstChild,$=m.nextSibling,b=n.nextSibling,S=b.firstChild,k=S.firstChild,D=k.nextSibling,P=S.nextSibling,T=P.firstChild,U=T.nextSibling,L=P.nextSibling,q=L.firstChild,w=q.nextSibling,C=L.nextSibling,E=C.firstChild,O=E.nextSibling,ee=b.nextSibling,ae=ee.firstChild,se=ae.firstChild,F=se.nextSibling,j=ae.nextSibling,I=j.firstChild,de=I.nextSibling,Q=j.nextSibling,V=Q.firstChild,te=V.nextSibling,A=ee.nextSibling,R=A.firstChild,K=R.firstChild,Y=K.nextSibling,X=R.nextSibling,ue=X.firstChild,re=ue.nextSibling;return u(l,o(le,{get when(){return e.enabledServices().includes("get_address")},get children(){return[o(vi,{cachePostcode:!0,get setAddress(){return t.setClientAddAddress}}),(()=>{var B=lo(),z=B.firstChild;return z.firstChild,z.$$click=N=>{N.preventDefault(),t.setAddAddressManually(!t.addAddressManually())},u(z,()=>t.addAddressManually()?"▾":"▸",null),B})()]}}),i),r.$$keyup=B=>{t.setClientAddAddress({...t.clientAddAddress(),building_number:B.target.value})},c.$$keyup=B=>{t.setClientAddAddress({...t.clientAddAddress(),sub_building_number:B.target.value})},g.$$keyup=B=>{t.setClientAddAddress({...t.clientAddAddress(),building_name:B.target.value})},$.$$keyup=B=>{t.setClientAddAddress({...t.clientAddAddress(),sub_building_name:B.target.value})},D.$$keyup=B=>{t.setClientAddAddress({...t.clientAddAddress(),address_line_1:B.target.value})},U.$$keyup=B=>{t.setClientAddAddress({...t.clientAddAddress(),address_line_2:B.target.value})},w.$$keyup=B=>{t.setClientAddAddress({...t.clientAddAddress(),address_line_3:B.target.value})},O.$$keyup=B=>{t.setClientAddAddress({...t.clientAddAddress(),locality:B.target.value})},F.$$keyup=B=>{t.setClientAddAddress({...t.clientAddAddress(),town_or_city:B.target.value})},de.$$keyup=B=>{t.setClientAddAddress({...t.clientAddAddress(),county:B.target.value})},te.$$keyup=B=>{t.setClientAddAddress({...t.clientAddAddress(),district:B.target.value})},Y.$$keyup=B=>{t.setClientAddAddress({...t.clientAddAddress(),postcode:B.target.value})},re.$$keyup=B=>{t.setClientAddAddress({...t.clientAddAddress(),country:B.target.value})},v(()=>i.className=e.enabledServices().includes("get_address")&&!t.addAddressManually()?"hidden":"block"),v(()=>r.value=t.clientAddAddress().building_number),v(()=>c.value=t.clientAddAddress().sub_building_number),v(()=>g.value=t.clientAddAddress().building_name),v(()=>$.value=t.clientAddAddress().sub_building_name),v(()=>D.value=t.clientAddAddress().address_line_1),v(()=>U.value=t.clientAddAddress().address_line_2),v(()=>w.value=t.clientAddAddress().address_line_3),v(()=>O.value=t.clientAddAddress().locality),v(()=>F.value=t.clientAddAddress().town_or_city),v(()=>de.value=t.clientAddAddress().county),v(()=>te.value=t.clientAddAddress().district),v(()=>Y.value=t.clientAddAddress().postcode),v(()=>re.value=t.clientAddAddress().country),l})(),(()=>{var l=no(),i=l.firstChild,n=i.firstChild;return n.$$click=()=>{t.createClient()},l})()]}ne(["keyup","click"]);var ro=_('<div class="form-section pt-2"><label>Client Selected</label><div class=card-pill-group><div class=card-pill><button class="btn-danger btn-pill">'),ao=_('<div class="sectioned-content w-full"><div class="flex flex-row gap-2 mb-4"><div class=btn-box-group-row><button>Search For Client</button><button>Add New Client</button><div>Client Selected');function oo(){const e=W(Fe);return(()=>{var t=ao(),l=t.firstChild,i=l.firstChild,n=i.firstChild,s=n.nextSibling,a=s.nextSibling;return n.$$click=()=>{e.setAddNewClient(!1)},s.$$click=()=>{e.clearClientSearch()},u(i,o(kl,{}),a),u(t,o(le,{get when(){return H(()=>!e.addNewClient())()&&e.clientSelected()===""},get children(){return o(Qa,{})}}),null),u(t,o(le,{get when(){return H(()=>!!e.addNewClient())()&&e.clientSelected()===""},get children(){return o(so,{})}}),null),u(t,o(le,{get when(){return e.clientSelected()!==""},get children(){var r=ro(),d=r.firstChild,f=d.nextSibling,c=f.firstChild,p=c.firstChild;return u(c,()=>e.clientSelected(),p),p.$$click=()=>{e.setClientIDSelected(0),e.setClientSelected("")},u(p,o(vs,{size:18,strokeWidth:2})),r}}),null),v(r=>{var d=e.clientSelected()!=="",f=!e.addNewClient()&&e.clientSelected()===""?"btn-confirm":"btn",c=e.clientSelected()!=="",p=e.addNewClient()&&e.clientSelected()===""?"btn-confirm":"btn",h=e.clientSelected()===""?"btn-box-good-disabled":"btn-box-good";return d!==r.e&&(n.disabled=r.e=d),f!==r.t&&(n.className=r.t=f),c!==r.a&&(s.disabled=r.a=c),p!==r.o&&(s.className=r.o=p),h!==r.i&&(a.className=r.i=h),r},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),t})()}ne(["click"]);var co=_("<div class=field-group><div class=inline-label><label>Type</label><select><option value=Select...>Select...</option></select></div><div class=inline-label><label>Make</label><input type=text class=w-36></div><div class=inline-label><label>Model</label><input type=text class=w-38></div><div class=inline-label><label>Password</label><input type=text></div><button class=btn-danger>Remove"),uo=_("<option>");function fo(e){const t=W(Fe),l=e.index,i=e.device;return(()=>{var n=co(),s=n.firstChild,a=s.firstChild,r=a.nextSibling,d=r.firstChild,f=s.nextSibling,c=f.firstChild,p=c.nextSibling,h=f.nextSibling,g=h.firstChild,x=g.nextSibling,m=h.nextSibling,$=m.firstChild,b=$.nextSibling,S=m.nextSibling;return r.addEventListener("change",k=>{const D=document.getElementById(`device-type-${l()}`);t.updateDeviceArray(l(),"type",D.options[k.target.selectedIndex].text)}),u(r,o(_e,{each:As,children:(k,D)=>(()=>{var P=uo();return P.value=k,u(P,k),v(()=>P.selected=k===i.type),P})()}),null),p.$$keyup=k=>{t.updateDeviceArray(l(),"make",k.target.value)},x.$$keyup=k=>{t.updateDeviceArray(l(),"model",k.target.value)},b.$$keyup=k=>{t.updateDeviceArray(l(),"password",k.target.value)},S.$$click=()=>{t.removeDeviceArray(l())},v(k=>{var D=`device-type-${l()}`,P=i.type==="Select...",T=`device-make-${l()}`,U=`device-model-${l()}`,L=`device-password-${l()}`,q=`remove-device-${l()}`;return D!==k.e&&M(r,"id",k.e=D),P!==k.t&&(d.selected=k.t=P),T!==k.a&&M(p,"id",k.a=T),U!==k.o&&M(x,"id",k.o=U),L!==k.i&&M(b,"id",k.i=L),q!==k.n&&M(S,"id",k.n=q),k},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),v(()=>p.value=i.make),v(()=>x.value=i.model),v(()=>b.value=i.password),n})()}ne(["keyup","click"]);var vo=_('<form><div class="sectioned-content w-full"><div class="form-section pt-2"><div class=form-section></div><div class=form-section><div class=field-group><button class=btn-confirm tabindex=6>Add Device'),po=_("<div class=card-pill>No devices added");function ho(){const e=W(Fe);return(()=>{var t=vo(),l=t.firstChild,i=l.firstChild,n=i.firstChild,s=n.nextSibling,a=s.firstChild,r=a.firstChild;return t.$$keydown=d=>{d.key==="Enter"&&d.preventDefault()},t.addEventListener("submit",d=>{d.preventDefault()}),u(n,o(_e,{get each(){return e.devices()},get fallback(){return po()},children:(d,f)=>o(fo,{index:f,device:d})})),s.style.setProperty("padding-bottom","0"),r.$$click=()=>{e.addDevice()},t})()}ne(["keydown","click"]);var _o=_("<div class=field-group><div class=inline-label><label>Description</label><input type=text class=w-52></div><button class=btn-danger>Remove");function go(e){const t=W(Fe),l=e.index,i=e.item;return(()=>{var n=_o(),s=n.firstChild,a=s.firstChild,r=a.nextSibling,d=s.nextSibling;return r.$$keyup=f=>{t.updateItemArray(l(),"description",f.target.value)},d.$$click=()=>{t.removeItemArray(l())},v(f=>{var c=`item-description-${l()}`,p=`remove-device-${l()}`;return c!==f.e&&M(r,"id",f.e=c),p!==f.t&&M(d,"id",f.t=p),f},{e:void 0,t:void 0}),v(()=>r.value=i.description),n})()}ne(["keyup","click"]);var $o=_('<form><div class="sectioned-content w-full"><div class="form-section pt-2"><div class=form-section></div><div class=form-section><div class=field-group><button class=btn-confirm>Add Item'),mo=_("<div class=card-pill>No items added");function bo(){const e=W(Fe);return(()=>{var t=$o(),l=t.firstChild,i=l.firstChild,n=i.firstChild,s=n.nextSibling,a=s.firstChild,r=a.firstChild;return t.$$keydown=d=>{d.key==="Enter"&&d.preventDefault()},t.addEventListener("submit",d=>{d.preventDefault()}),u(n,o(_e,{get each(){return e.items()},get fallback(){return mo()},children:(d,f)=>o(go,{index:f,item:d})})),s.style.setProperty("padding-bottom","0"),r.$$click=()=>{e.addItem()},t})()}ne(["keydown","click"]);var yo=_('<div class="main-content-stretch gap-2"><div class=sticky-top-buttons><button class=btn>← Cancel</button><button class=btn-good>Create Ticket</button></div><form><div class="sectioned-content w-full"><div class=form-section><label>Category</label><div class="flex flex-row gap-2"></div></div><div class="form-section pt-2"><label>Request</label><textarea rows=3 tabindex=1>'),xo=_("<button>");function ko(){const e=W(ce),t=W(Fe);return(()=>{var l=yo(),i=l.firstChild,n=i.firstChild,s=n.nextSibling,a=i.nextSibling,r=a.firstChild,d=r.firstChild,f=d.firstChild,c=f.nextSibling,p=d.nextSibling,h=p.firstChild,g=h.nextSibling;return n.$$click=()=>e.navigator("/workshop"),Bl(s,"click",t.createWorkshopTicket,!0),u(l,o(oo,{}),a),a.addEventListener("submit",x=>{x.preventDefault()}),u(c,o(_e,{each:ri,children:(x,m)=>(()=>{var $=xo();return $.$$click=()=>t.setCategoryCode(x.code),u($,()=>x.label),v(()=>$.className=t.categoryCode()===x.code?"btn-confirm":"btn"),$})()})),g.$$keyup=x=>{t.setRequest(x.target.value)},u(l,o(ho,{}),null),u(l,o(bo,{}),null),v(()=>g.value=t.request()),l})()}ne(["click","keyup"]);const Ge=Se();function So(){const e=W(ce),t=W(we),l=new xe,i=Kl(),[n,s]=y(!1),[a,r]=y({}),[d,f]=y({}),[c,p]=y([]),[h,g]=y([]),[x,m]=y({}),[$,b]=y([]),[S,k]=y("");let D;function P(C){s(!0),D&&clearTimeout(D),D=setTimeout(()=>{l.post("/workshop/update/ticket"+a().workshop_ticket_id,C).then(E=>{E.ok?(s(!1),r({workshop_ticket_id:E.data.workshop_ticket_id,status_code:E.data.status_code,workshop_tag:E.data.workshop_tag,category_code:E.data.category_code,request:E.data.request,__assigned_to:E.data.__assigned_to,__assigned_to_id:E.data.__assigned_to_id,__created:E.data.__created})):e.showErrorToast("Error updating ticket. "+E.message)})},500)}function T(){l.get("/workshop/ticket/tag/"+i.workshop_tag).then(C=>{C.ok?(r({workshop_ticket_id:C.data.workshop_ticket_id,status_code:C.data.status_code,workshop_tag:C.data.workshop_tag,category_code:C.data.category_code,request:C.data.request,__assigned_to:C.data.__assigned_to,__assigned_to_id:C.data.__assigned_to_id,__created:C.data.__created}),f({...C.data.__client}),p([...C.data.__devices]),g([...C.data.__items]),b([...C.data.__notes])):(e.showErrorToast("Ticket not found."),e.navigate("/workshop"))})}function U(){l.get("/workshop/ticket/delete/"+a().workshop_ticket_id).then(C=>{C.ok?(t.deBounceGetPageTickets(200,t.page(),t.limit(),t.ticketsWhere()),e.showSuccessToast("Ticket deleted."),e.navigate("/workshop")):e.showErrorToast("Error deleting ticket. "+C.message)})}function L(){l.get(`/workshop/get/ticket/${a().workshop_ticket_id}/notes/`).then(C=>{C.ok?b([...C.data]):e.showErrorToast("Error fetching notes. "+C.message)})}function q(){const C=document.getElementById("workshop-ticket-note");S().length>0?l.post(`/workshop/ticket/${a().workshop_ticket_id}/add/note`,{user_id:e.userId(),note:S()}).then(E=>{E.ok?(C.value="",C.focus(),L()):e.showErrorToast("Error adding note. "+E.message)}):e.showErrorToast("Note cannot be empty.")}function w(C){l.get(`/ticket/delete/note/${C}`).then(E=>{E.ok?b([...$().filter(O=>O.workshop_ticket_note_id!==C)]):e.showErrorToast("Error deleting note. "+E.message)})}return be(()=>{T()}),o(Ge.Provider,{value:{savingWorkshopTicket:n,setSavingWorkshopTicket:s,workshopTicket:a,setWorkshopTicket:r,status:x,setStatus:m,client:d,setClient:f,devices:c,setDevices:p,items:h,setItems:g,notes:$,setNotes:b,note:S,setNote:k,updateWorkshopTicket:P,addWorkshopTicketNote:q,deleteWorkshopTicketNote:w,deleteWorkshopTicket:U},get children(){return o(ke,{})}})}var wo=_("<div class=py-3><div class=card-group>"),Co=_("<div class=card-section><small>Device(s)</small><div class=card-pill-group>"),Ao=_("<div class=card-labelled-pill-device>"),To=_("<div class=card-labelled-pill-text>"),Eo=_("<div class=card-labelled-pill>"),Po=_('<div class="card-labelled-pill-device border-r rounded-md">'),Uo=_("<div class=card-section><small>Item(s)</small><div class=card-pill-group>"),Do=_('<div class=card-labelled-pill><div class="card-labelled-pill-text rounded-md border-r">');function Lo(){const e=W(Ge);return o(le,{get when(){return e.devices().length>0||e.items().length>0},get children(){var t=wo(),l=t.firstChild;return u(l,(()=>{var i=H(()=>e.devices().length>0);return()=>i()?o(Wo,{get devices(){return e.devices()}}):""})(),null),u(l,(()=>{var i=H(()=>e.items().length>0);return()=>i()?o(Mo,{get items(){return e.items()}}):""})(),null),t}})}function Wo(e){const t=e.devices;return(()=>{var l=Co(),i=l.firstChild,n=i.nextSibling;return u(n,o(_e,{each:t,children:(s,a)=>(()=>{var r=Eo();return u(r,o(le,{get when(){return s.make!==""||s.model!==""},get fallback(){return(()=>{var d=Po();return u(d,()=>s.type),d})()},get children(){return[(()=>{var d=Ao();return u(d,()=>s.type),d})(),(()=>{var d=To();return u(d,o(le,{get when(){return s.make!==""},get children(){return s.make}}),null),u(d,o(le,{get when(){return s.model!==""},get children(){return[H(()=>s.make!==""?" ":""),H(()=>s.model)]}}),null),u(d,o(le,{get when(){return s.password!==""&&s.password},get children(){return" (Password: "+s.password+")"}}),null),d})()]}})),r})()})),l})()}function Mo(e){const t=e.items;return(()=>{var l=Uo(),i=l.firstChild,n=i.nextSibling;return u(n,o(_e,{each:t,children:(s,a)=>(()=>{var r=Do(),d=r.firstChild;return u(d,()=>s.description),r})()})),l})()}var zo=_('<div class="flex flex-col gap-6 w-full py-4"><div class=card-group><div class=card-section><small>Client</small><p></p></div><div class=card-section><small>Contact</small><p></p></div><div class=card-section><small>Address</small><p></p></div></div><div class=card-group><div class=card-section><small>Request');function No(){const e=W(we),t=W(Ge);return(()=>{var l=zo(),i=l.firstChild,n=i.firstChild,s=n.firstChild,a=s.nextSibling,r=n.nextSibling,d=r.firstChild,f=d.nextSibling,c=r.nextSibling,p=c.firstChild,h=p.nextSibling,g=i.nextSibling,x=g.firstChild;return x.firstChild,u(a,(()=>{var m=H(()=>!!t.client());return()=>m()?e.displayName(t.client().business_name,t.client().first_name,t.client().last_name):""})()),u(f,(()=>{var m=H(()=>!!t.client());return()=>m()?e.displayContact(t.client().phone,t.client().email_address,t.client().alt_phone,t.client().alt_email_address):""})()),u(h,(()=>{var m=H(()=>!!t.client());return()=>m()?t.client().__address:""})()),u(x,()=>t.workshopTicket().request,null),l})()}var Io=_('<div class="flex flex-row flex-wrap gap-2 w-full mb-4"><div class=card-group-slim><div class=card-labelled-pill><div class=card-labelled-pill-label>Status</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Tag</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Category</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Assigned To</div><div class=card-labelled-pill-text></div></div><div class=card-labelled-pill><div class=card-labelled-pill-label>Created</div><div class=card-labelled-pill-text>');function Oo(e){const t=W(ce),l=W(Ge);return(()=>{var i=Io(),n=i.firstChild,s=n.firstChild,a=s.firstChild,r=a.nextSibling,d=s.nextSibling,f=d.firstChild,c=f.nextSibling,p=d.nextSibling,h=p.firstChild,g=h.nextSibling,x=p.nextSibling,m=x.firstChild,$=m.nextSibling,b=x.nextSibling,S=b.firstChild,k=S.nextSibling;return u(r,()=>e.status.name),u(c,()=>l.workshopTicket().workshop_tag),u(g,()=>t.categoryCodeLookup(l.workshopTicket().category_code)),u($,()=>l.workshopTicket().__assigned_to),u(k,()=>l.workshopTicket().__created),v(D=>yl(r,e.status.style,D)),i})()}var Ro=_('<div class=py-3><label>Update Ticket</label><div class="form-section-row flex-wrap"><div class=field-group><div class="py-2 w-full"><div class=inline-label><label>Status:</label><select></select></div></div></div><div class=field-group><div class="py-2 w-full"><div class=inline-label><label>Assigned To:</label><select></select></div></div></div><div class=field-group><div class="py-2 w-full"><button class="btn btn-confirm">Update'),Ll=_("<option>");function Fo(e){const t=W(ce),l=W(we),i=W(Ge),[n,s]=y(i.status().status_code),[a,r]=y(i.workshopTicket().__assigned_to_id);return(()=>{var d=Ro(),f=d.firstChild,c=f.nextSibling,p=c.firstChild,h=p.firstChild,g=h.firstChild,x=g.firstChild,m=x.nextSibling,$=p.nextSibling,b=$.firstChild,S=b.firstChild,k=S.firstChild,D=k.nextSibling,P=$.nextSibling,T=P.firstChild,U=T.firstChild;return c.style.setProperty("padding-bottom","0"),m.addEventListener("change",L=>{s(L.target.value)}),u(m,o(_e,{each:si,children:(L,q)=>(()=>{var w=Ll();return u(w,()=>L.label),v(()=>w.selected=L.code===i.workshopTicket().status_code),v(()=>w.value=L.code),w})()})),D.addEventListener("change",L=>{r(L.target.value)}),u(D,o(_e,{get each(){return l.users()},children:(L,q)=>(()=>{var w=Ll();return u(w,()=>L.display_name),v(()=>w.selected=L.user_id===i.workshopTicket().__assigned_to_id),v(()=>w.value=L.user_id),w})()})),U.$$click=()=>{if(n()===0){t.showErrorToast("Please select a status.");return}if(a()===0){t.showErrorToast("Please select a user.");return}i.updateWorkshopTicket({status_code:n(),fk_user_id:a()})},d})()}ne(["click"]);var Bo=_("<label>Notes"),jo=_("<div class=workshop-ticket-notes-bg-wrapper><div class=workshop-ticket-notes>"),qo=_('<div class="form-section pt-2"><textarea rows=3 tabindex=4 id=workshop-ticket-note>'),Ho=_("<div class=form-section><button class=btn-confirm tabindex=5>Add Note"),Vo=_("<div class=workshop-ticket-note>No Notes"),Go=_("<div class=workshop-ticket-note><div class=workshop-ticket-note-stats> @ <!> - <a class=text-red-400>Delete");function Ko(e){const t=W(Ge);return[Bo(),(()=>{var l=jo(),i=l.firstChild;return u(i,o(_e,{get each(){return t.notes()},get fallback(){return Vo()},children:n=>(()=>{var s=Go(),a=s.firstChild,r=a.firstChild,d=r.nextSibling,f=d.nextSibling,c=f.nextSibling;return u(s,()=>n.text_note,a),u(a,()=>n.__added_by,r),u(a,()=>n.__created,d),c.$$click=()=>{t.deleteWorkshopTicketNote(n.workshop_ticket_note_id)},s})()})),l})(),(()=>{var l=qo(),i=l.firstChild;return i.$$keyup=n=>{t.setNote(n.target.value)},l})(),(()=>{var l=Ho(),i=l.firstChild;return i.$$click=()=>{t.addWorkshopTicketNote()},l})()]}ne(["keyup","click"]);var Zo=_('<div class="flex flex-row gap-2 items-center px-4"> Saving...'),Yo=_('<div class="main-content-slim gap-2"><div class="field-group items-center sticky top-0"><button class=btn>← Back</button><button class=btn-danger>Delete Ticket</button></div><div class=sectioned-content></div><dialog class=dialog><div class="dialog-content text-center"><p>Are you sure you would like to delete this ticket?</p><p>Please note that this action is irreversible.</p></div><div class=dialog-footer><button class=btn>Cancel</button><button class=btn-danger>Confirm Delete');function Xo(){const e=W(ce),t=W(we),l=W(Ge),[i,n]=y({Name:"",Style:{}});let s;return Me(()=>{l.workshopTicket().status_code&&n(e.statusCodeLookup(l.workshopTicket().status_code))}),(()=>{var a=Yo(),r=a.firstChild,d=r.firstChild,f=d.nextSibling,c=r.nextSibling,p=c.nextSibling,h=p.firstChild,g=h.nextSibling,x=g.firstChild,m=x.nextSibling;d.$$click=()=>{t.deBounceGetPageTickets(200,t.page(),t.limit(),t.ticketsWhere()),e.navigator("/workshop")},u(r,o(De,{className:"btn-confirm btn-a btn-slim",target:"_blank",get href(){return"/clients/"+l.client().client_id},get children(){return["Open Client ",o(ni,{size:16})]}}),f),f.$$click=()=>{t.deBounceGetPageTickets(200,t.page(),t.limit(),t.ticketsWhere()),e.navigator("/workshop")},u(r,o(le,{get when(){return l.savingWorkshopTicket()},get children(){var b=Zo(),S=b.firstChild;return u(b,o(ht,{}),S),b}}),null),u(c,o(Oo,{get status(){return i()}}),null),u(c,o(No,{}),null),u(c,o(Lo,{}),null),u(c,o(Fo,{}),null),u(c,o(Ko,{}),null);var $=s;return typeof $=="function"?Re($,p):s=p,h.style.setProperty("height","100px"),x.$$click=()=>{s.close()},m.$$click=()=>{l.deleteWorkshopTicket()},a})()}ne(["click"]);var at=_("<button class=btn-confirm>"),Wl=_("<div class=input-like>"),Jo=_("<select><option value=25>25 pp</option><option value=50>50 pp</option><option value=100>100 pp");function Qo(){const e=W(we);return[(()=>{var t=at();return t.$$click=()=>{e.page()>1&&e.setPage(1)},u(t,o(Xl,{size:16})),v(()=>t.disabled=e.page()===1),t})(),(()=>{var t=at();return t.$$click=()=>{e.page()>1&&e.setPage(e.page()-1)},u(t,o(Ql,{size:16})),v(()=>t.disabled=e.page()===1),t})(),(()=>{var t=Wl();return t.$$click=()=>{},u(t,(()=>{var l=H(()=>!!e.loadingTickets());return()=>l()?"-":`Total: ${e.totalTickets()}`})()),t})(),(()=>{var t=Wl();return t.$$click=()=>{},u(t,(()=>{var l=H(()=>!!e.loadingTickets());return()=>l()?"-":`${e.page()} / ${e.totalPages()}`})()),t})(),(()=>{var t=Jo(),l=t.firstChild,i=l.nextSibling,n=i.nextSibling;return t.addEventListener("change",s=>e.changeLimit(parseInt(s.target.options[s.target.selectedIndex].value))),v(s=>{var a=e.limit()===25,r=e.limit()===50,d=e.limit()===100;return a!==s.e&&(l.selected=s.e=a),r!==s.t&&(i.selected=s.t=r),d!==s.a&&(n.selected=s.a=d),s},{e:void 0,t:void 0,a:void 0}),t})(),(()=>{var t=at();return t.$$click=()=>{e.page()<e.totalPages()&&e.setPage(e.page()+1)},u(t,o(kl,{size:16})),v(()=>t.disabled=e.page()===e.totalPages()),t})(),(()=>{var t=at();return t.$$click=()=>{e.page()<e.totalPages()&&e.setPage(e.totalPages())},u(t,o(Jl,{size:16})),v(()=>t.disabled=e.page()===e.totalPages()),t})(),(()=>{var t=at();return t.$$click=()=>{e.dialogFilterTicketsRef.showModal()},u(t,o(ei,{size:16})),t})()]}ne(["click"]);var ed=_('<div class=dialog-content-group><div class=section-filter-group><div class="inline-label flex-1"><label>Workshop Tag</label><input type=text></div><div class="inline-label flex-1"><label>Status&nbsp;</label><select class=w-full><option value=0>All</option></select></div><div class="inline-label flex-1"><label>Category</label><select class=w-full><option value=0>All</option></select></div><div class="inline-label flex-1"><label>Assigned&nbsp;To:</label><select class=w-full><option value=0>All'),cl=_("<option>");function td(e){const t=W(we);return(()=>{var l=ed(),i=l.firstChild,n=i.firstChild,s=n.firstChild,a=s.nextSibling,r=n.nextSibling,d=r.firstChild;d.firstChild;var f=d.nextSibling;f.firstChild;var c=r.nextSibling,p=c.firstChild,h=p.nextSibling;h.firstChild;var g=c.nextSibling,x=g.firstChild,m=x.nextSibling;return m.firstChild,a.$$keyup=$=>{e.keyDownHandler($)||t.ticketsTempWhereValue("workshop_tag",$.target.value)},u(d,()=>t.ticketsTempWhere().status_code,null),f.addEventListener("change",$=>{t.ticketsTempWhereValue("status_code",$.target.options[$.target.selectedIndex].value)}),u(f,o(_e,{each:si,children:($,b)=>(()=>{var S=cl();return u(S,()=>$.label),v(()=>S.selected=parseInt(t.ticketsTempWhere().status_code)===$.code),v(()=>S.value=$.code),S})()}),null),h.addEventListener("change",$=>{t.ticketsTempWhereValue("category_code",$.target.options[$.target.selectedIndex].value)}),u(h,o(_e,{each:ri,children:($,b)=>(()=>{var S=cl();return u(S,()=>$.label),v(()=>S.selected=parseInt(t.ticketsTempWhere().category_code)===$.code),v(()=>S.value=$.code),S})()}),null),m.addEventListener("change",$=>{t.ticketsTempWhereValue("fk_assigned_user_id",$.target.options[$.target.selectedIndex].value)}),u(m,o(_e,{get each(){return t.users()},children:($,b)=>(()=>{var S=cl();return u(S,()=>$.display_name),v(()=>S.selected=parseInt(t.ticketsTempWhere().fk_assigned_user_id)===$.user_id),v(()=>S.value=$.user_id),S})()}),null),v(()=>a.value=t.ticketsTempWhere().hasOwnProperty("workshop_tag")?t.ticketsTempWhere().workshop_tag:""),l})()}ne(["keyup"]);var ld=_('<div class=dialog-content-group><div class=section-filter-group><small class=font-bold>Specific</small><div class="pt-1 pb-2"><div class="inline-label flex-1"><label>Date</label><div class="inline-button w-full"><input type=date class=""><button class=btn>clear</button></div></div></div><small class=font-bold>Range</small><div class="flex flex-col gap-1 pt-1 pb-2"><div class="inline-label flex-1"><label>From</label><div class="inline-button w-full"><input type=date><button class=btn>clear</button></div></div><div class="inline-label flex-1"><label>To</label><div class="inline-button w-full"><input type=date><button class=btn>clear');function id(e){const t=W(we);return(()=>{var l=ld(),i=l.firstChild,n=i.firstChild,s=n.nextSibling,a=s.firstChild,r=a.firstChild,d=r.nextSibling,f=d.firstChild,c=f.nextSibling,p=s.nextSibling,h=p.nextSibling,g=h.firstChild,x=g.firstChild,m=x.nextSibling,$=m.firstChild,b=$.nextSibling,S=g.nextSibling,k=S.firstChild,D=k.nextSibling,P=D.firstChild,T=P.nextSibling;return f.addEventListener("change",U=>{e.keyDownHandler(U)||(t.ticketsTempWhereValue("date_on",U.target.value),t.ticketsTempWhere().hasOwnProperty("date_from")&&t.ticketsTempWhereValue("date_from",""),t.ticketsTempWhere().hasOwnProperty("date_to")&&t.ticketsTempWhereValue("date_to",""))}),c.$$click=U=>{U.preventDefault(),t.ticketsTempWhereValue("date_on","")},$.addEventListener("change",U=>{e.keyDownHandler(U)||(t.ticketsTempWhereValue("date_from",U.target.value),t.ticketsTempWhere().hasOwnProperty("date_on")&&t.ticketsTempWhereValue("date_on",""))}),b.$$click=U=>{U.preventDefault(),t.ticketsTempWhereValue("date_on","")},P.addEventListener("change",U=>{e.keyDownHandler(U)||(t.ticketsTempWhereValue("date_to",U.target.value),t.ticketsTempWhere().hasOwnProperty("date_on")&&t.ticketsTempWhereValue("date_on",""))}),T.$$click=U=>{U.preventDefault(),t.ticketsTempWhereValue("date_on","")},v(()=>f.value=t.ticketsTempWhere().hasOwnProperty("date_on")?t.ticketsTempWhere().date_on:""),v(()=>$.value=t.ticketsTempWhere().hasOwnProperty("date_from")?t.ticketsTempWhere().date_from:""),v(()=>P.value=t.ticketsTempWhere().hasOwnProperty("date_to")?t.ticketsTempWhere().date_to:""),l})()}ne(["click"]);var nd=_('<dialog class=dialog id=dialog-filter-tickets-id><div class=btn-tab-group><button>Workshop Ticket</button><button>Date</button></div><div></div><div></div><div class=dialog-footer><div class="flex gap-1"><button class=btn>Cancel</button><button class=btn>Clear Filter</button></div><button class=btn-confirm>Apply Filter');function sd(){const e=W(we),[t,l]=y("client-info"),i=n=>n.key==="Escape"?(l("client-info"),setTimeout(()=>{e.dialogFilterTicketsRef.close()},1),!0):n.key==="Enter"?(e.setTicketsWhere({...e.ticketsWhere(),...e.ticketsTempWhere()}),l("client-info"),setTimeout(()=>{e.dialogFilterTicketsRef.close()},1),!0):!1;return be(()=>{e.dialogFilterTicketsRef.addEventListener("keydown",i),e.dialogFilterTicketsRef.addEventListener("cancel",n=>{n.preventDefault()})}),Ve(()=>{e.dialogFilterTicketsRef.removeEventListener("keydown",i),e.dialogFilterTicketsRef.removeEventListener("cancel",n=>{n.preventDefault()})}),(()=>{var n=nd(),s=n.firstChild,a=s.firstChild,r=a.nextSibling,d=s.nextSibling,f=d.nextSibling,c=f.nextSibling,p=c.firstChild,h=p.firstChild,g=h.nextSibling,x=p.nextSibling,m=e.dialogFilterTicketsRef;return typeof m=="function"?Re(m,n):e.dialogFilterTicketsRef=n,a.$$click=()=>l("client-info"),r.$$click=()=>l("date"),u(d,o(td,{keyDownHandler:i,setFilterTab:l})),u(f,o(id,{keyDownHandler:i,setFilterTab:l})),h.$$click=()=>{e.dialogFilterTicketsRef.close(),l("client-info")},g.$$click=()=>{e.setTicketsTempWhere({})},x.$$click=()=>{e.setTicketsWhere(e.ticketsTempWhere()),e.dialogFilterTicketsRef.close(),l("client-info")},v($=>{var b=t()==="client-info"?"btn-tab-active":"btn-tab",S=t()==="date"?"btn-tab-active":"btn-tab",k=t()==="client-info"?"dialog-content":"hidden",D=t()==="date"?"dialog-content":"hidden";return b!==$.e&&(a.className=$.e=b),S!==$.t&&(r.className=$.t=S),k!==$.a&&(d.className=$.a=k),D!==$.o&&(f.className=$.o=D),$},{e:void 0,t:void 0,a:void 0,o:void 0}),n})()}ne(["click"]);var rd=_("<span>+"),ad=_('<div class="flex items-center px-4">'),od=_('<div class=page-section-header><div class="flex items-center gap-1">');function dd(e){const t=W(we);return[(()=>{var l=od(),i=l.firstChild;return u(l,o(De,{className:"btn-good",href:"/workshop/ticket/add",get children(){return[rd()," Add Ticket"]}}),i),u(i,o(le,{get when(){return t.smallLoadingTickets()},get children(){var n=ad();return u(n,o(ht,{})),n}}),null),u(i,o(Qo,{}),null),l})(),o(sd,{})]}var cd=_('<div class="flex justify-center items-center w-full h-full min-h-0"><div class="flex flex-col items-center"><small>No tickets found');function ud(){return(()=>{var e=cd(),t=e.firstChild,l=t.firstChild;return u(t,o(ii,{size:64}),l),e})()}var fd=_('<div class="flex justify-center items-center w-full h-full min-h-0">');function vd(){return(()=>{var e=fd();return u(e,o(Gt,{})),e})()}var pd=_('<div class="pills mb-2"><div class=pill-danger-interactive>'),hd=_("<div class=pill>: ");function _d(){const e=W(we);return o(le,{get when(){return Object.keys(e.ticketsWhereAnnex()).length>0},get children(){var t=pd(),l=t.firstChild;return u(t,o(_e,{get each(){return Object.keys(e.ticketsWherePills())},children:i=>(()=>{var n=hd(),s=n.firstChild;return u(n,i,s),u(n,()=>e.ticketsWherePills()[i],null),n})()}),l),l.$$click=()=>{e.setTicketsWhere({}),e.setTicketsWhereAnnex({}),e.setTicketsTempWhere({})},u(l,o(ti,{size:14})),t}})}ne(["click"]);function gd(){const e=W(we);return o(_e,{get each(){return e.tickets},children:(t,l)=>o(pi,{ticket:t})})}var $d=_("<div class=main-content-stretch><div class=cards-bg-wrapper><div class=cards>");function md(){const e=W(we);return(()=>{var t=$d(),l=t.firstChild,i=l.firstChild;return u(t,o(dd,{}),l),u(t,o(_d,{}),l),u(i,(()=>{var n=H(()=>!!e.loadingTickets());return()=>n()?o(vd,{}):(()=>{var s=H(()=>e.tickets.length>0);return()=>s()?o(gd,{}):o(ud,{})})()})()),t})()}const bd=document.getElementById("root");ji(()=>o(kn,{get children(){return o(Sn,{get children(){return[o(ie,{path:"/all",component:Pn}),o(ie,{path:"",component:Es,get children(){return[o(ie,{path:"",component:rt,get children(){return o(ie,{path:"/",component:()=>o(nt,{href:"/workshop"})})}}),o(ie,{path:"",component:Oa,get children(){return[o(ie,{path:"/login",component:Ds}),o(ie,{path:"/forgot-password",component:Ws}),o(ie,{path:"/verification-code",get children(){return[o(ie,{path:"/",component:()=>o(nt,{href:"/login"})}),o(ie,{path:"/:account_id",component:zs})]}}),o(ie,{path:"/change-password",get children(){return[o(ie,{path:"/",component:()=>o(nt,{href:"/login"})}),o(ie,{path:"/:account_id",component:Is})]}})]}}),o(ie,{path:"",component:rt,get children(){return o(ie,{path:"",component:js,get children(){return o(ie,{path:"/clients",get children(){return[o(ie,{path:"/",component:vr}),o(ie,{path:"",component:kr,get children(){return o(ie,{path:"/add",component:Er})}}),o(ie,{path:"",component:Pr,get children(){return o(ie,{path:"/:client_id",component:Qr})}})]}})}})}}),o(ie,{path:"",component:rt,get children(){return o(ie,{path:"",component:Ga,get children(){return o(ie,{path:"/workshop",get children(){return[o(ie,{path:"/",component:md}),o(ie,{path:"/ticket",get children(){return[o(ie,{path:"/",component:()=>o(nt,{href:"/workshop"})}),o(ie,{path:"",component:Ka,get children(){return o(ie,{path:"/add",component:ko})}}),o(ie,{path:"",component:So,get children(){return o(ie,{path:"/:workshop_tag",component:Xo})}})]}})]}})}})}}),o(ie,{path:"",component:rt,get children(){return o(ie,{path:"",component:Ba,get children(){return o(ie,{path:"/system",component:gr,get children(){return[o(ie,{path:"/",component:()=>o(nt,{href:"/system/information"})}),o(ie,{path:"/information",component:ua}),o(ie,{path:"/users",component:Ea}),o(ie,{path:"/services",component:Na}),o(ie,{path:"/logs",component:Va})]}})}})}}),o(ie,{path:"",component:rt,get children(){return o(ie,{path:"",component:mr,get children(){return o(ie,{path:"/account",component:yr})}})}}),o(ie,{path:"/install",component:da})]}})]}})}}),bd);
